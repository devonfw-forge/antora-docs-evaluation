<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Untitled :: Devonfw.github.io Docs</title>
    <meta name="generator" content="Antora 2.3.4">
    <link rel="stylesheet" href="../../../../../_/css/site.css">
    <script>var uiRootPath = '../../../../../_'</script>
  </head>
  <body class="article">
<header class="header">
  <nav class="navbar">
    <div class="navbar-brand">
      <a class="navbar-item" href="../../../../..">Devonfw.github.io Docs</a>
      <button class="navbar-burger" data-target="topbar-nav">
        <span></span>
        <span></span>
        <span></span>
      </button>
    </div>
    <div id="topbar-nav" class="navbar-menu">
      <div class="navbar-end">
        <a class="navbar-item" href="#">Home</a>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Products</a>
          <div class="navbar-dropdown">
            <a class="navbar-item" href="#">Product A</a>
            <a class="navbar-item" href="#">Product B</a>
            <a class="navbar-item" href="#">Product C</a>
          </div>
        </div>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Services</a>
          <div class="navbar-dropdown">
            <a class="navbar-item" href="#">Service A</a>
            <a class="navbar-item" href="#">Service B</a>
            <a class="navbar-item" href="#">Service C</a>
          </div>
        </div>
        <div class="navbar-item">
          <span class="control">
            <a class="button is-primary" href="#">Download</a>
          </span>
        </div>
      </div>
    </div>
  </nav>
</header>
<div class="body">
<div class="nav-container" data-component="mrchecker" data-version="1.0">
  <aside class="nav">
    <div class="panels">
<div class="nav-panel-explore is-active" data-panel="explore">
  <div class="context">
    <span class="title">Mrchecker</span>
    <span class="version">1.0</span>
  </div>
  <ul class="components">
    <li class="component">
      <a class="title" href="../../../../../architecture-guidelines/1.0/index.html">Architecture-guidelines</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../../../architecture-guidelines/1.0/index.html">1.0</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../../../../cicdgen/1.0/index.html">Cicdgen</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../../../cicdgen/1.0/index.html">1.0</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../../../../cobigen/1.0/index.html">Cobigen</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../../../cobigen/1.0/index.html">1.0</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../../../../dashboard/1.0/index.html">Dashboard</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../../../dashboard/1.0/index.html">1.0</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../../../../devon4j/1.0/index.html">Devon4j</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../../../devon4j/1.0/index.html">1.0</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../../../../devon4net/1.0/index.html">Devon4net</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../../../devon4net/1.0/index.html">1.0</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../../../../devon4ng/1.0/index.html">Devon4ng</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../../../devon4ng/1.0/index.html">1.0</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../../../../devon4node/1.0/index.html">Devon4node</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../../../devon4node/1.0/index.html">1.0</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../../../../devon4quarkus/1.0/index.html">Devon4quarkus</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../../../devon4quarkus/1.0/index.html">1.0</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../../../../devon4ts/1.0/index.html">Devon4ts</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../../../devon4ts/1.0/index.html">1.0</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../../../../devonfw.github.io/1.0/index.html">devonfw.github.io</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../../../devonfw.github.io/1.0/index.html">1.0</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../../../../getting-started/1.0/index.html">Getting-started</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../../../getting-started/1.0/index.html">1.0</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../../../../github/1.0/index.html">Github</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../../../github/1.0/index.html">1.0</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../../../../hangar/1.0/index.html">Hangar</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../../../hangar/1.0/index.html">1.0</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../../../../ide/1.0/index.html">IDE</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../../../ide/1.0/index.html">1.0</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../../../../jump-the-queue/1.0/index.html">Jump-the-queue</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../../../jump-the-queue/1.0/index.html">1.0</a>
        </li>
      </ul>
    </li>
    <li class="component is-current">
      <a class="title" href="../../../index.html">Mrchecker</a>
      <ul class="versions">
        <li class="version is-current is-latest">
          <a href="../../../index.html">1.0</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../../../../my-thai-star/1.0/index.html">My-thai-star</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../../../my-thai-star/1.0/index.html">1.0</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../../../../production-line/1.0/index.html">Production-line</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../../../production-line/1.0/index.html">1.0</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../../../../shop-floor/1.0/index.html">Shop-floor</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../../../shop-floor/1.0/index.html">1.0</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../../../../solicitor/1.0/index.html">Solicitor</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../../../solicitor/1.0/index.html">1.0</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../../../../sonar-devon4j-plugin/1.0/index.html">Sonar-devon4j-plugin</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../../../sonar-devon4j-plugin/1.0/index.html">1.0</a>
        </li>
      </ul>
    </li>
  </ul>
</div>
    </div>
  </aside>
</div>
<main class="article">
<div class="toolbar" role="navigation">
<button class="nav-toggle"></button>
  <a href="../../../../../devonfw.github.io/1.0/index.html" class="home-link"></a>
<nav class="breadcrumbs" aria-label="breadcrumbs">
</nav>
  <div class="edit-this-page"><a href="https://github.com/MarvDan/mrchecker/edit/develop/modules/ROOT/pages/Who-Is-MrChecker/Tutorials/E2E-Tutorials/Tutorial1.adoc">Edit this Page</a></div>
  </div>
  <div class="content">
<aside class="toc sidebar" data-title="Contents" data-levels="2">
  <div class="toc-menu"></div>
</aside>
<article class="doc">
<div id="toc" class="toc">
<div id="toctitle" class="title">Table of Contents</div>
<ul class="sectlevel1">
<li><a href="#mrchecker-e2e-tutorials">MrChecker E2E tutorials</a></li>
<li><a href="#how-to-create-a-basic-test-in-mrchecker">How to create a basic test in MrChecker</a></li>
<li><a href="#example-booking-a-table">Example: Booking a table</a></li>
<li><a href="#how-to-prepare-a-test">How to prepare a test</a></li>
<li><a href="#1-create-booktablepage-class">==  1. Create BookTablePage class</a></li>
<li><a href="#2-create-confirmbookpage-class">==  2. Create ConfirmBookPage class</a></li>
<li><a href="#3-create-booktabletest-class">==  3. Create BookTableTest class</a></li>
<li><a href="#4-write-the-first-test">==  4. Write the first test</a></li>
<li><a href="#5-run-the-test">==  5. Run the test</a></li>
</ul>
</div>
<div class="sect1">
<h2 id="mrchecker-e2e-tutorials"><a class="anchor" href="#mrchecker-e2e-tutorials"></a>MrChecker E2E tutorials</h2>
<div class="sectionbody">
<div class="paragraph">
<p>In order to learn more about MrChecker structure, start from Project Organisation section and then check out our fantastic tutorials:</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="how-to-create-a-basic-test-in-mrchecker"><a class="anchor" href="#how-to-create-a-basic-test-in-mrchecker"></a>How to create a basic test in MrChecker</h2>
<div class="sectionbody">

</div>
</div>
<div class="sect1">
<h2 id="example-booking-a-table"><a class="anchor" href="#example-booking-a-table"></a>Example: Booking a table</h2>
<div class="sectionbody">
<div class="paragraph">
<p>As an example to test we will use <a href="https://mts-devonfw-core.cloud.okteto.net/bookTable">MyThaiStar</a> booking page.<br>
In order to book a table, do the following steps:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Open MyThaiStar Book Table Page</p>
</li>
<li>
<p>Enter booking data: Date and time, Name, Email and number of Table guests</p>
</li>
<li>
<p>Click Accept terms</p>
</li>
<li>
<p>Click Book table</p>
</li>
<li>
<p>Display confirmation box and send booking</p>
</li>
<li>
<p>Check if the booking was successful.</p>
</li>
</ol>
</div>
<div class="imageblock">
<div class="content">
<img src="../../../_images/images/image1.png" alt="image1">
</div>
</div>
<div class="imageblock">
<div class="content">
<img src="../../../_images/images/image2.png" alt="image2">
</div>
</div>
<div class="paragraph">
<p>You can go through these steps manually and doublecheck the result.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="how-to-prepare-a-test"><a class="anchor" href="#how-to-prepare-a-test"></a>How to prepare a test</h2>
<div class="sectionbody">

</div>
</div>
<div class="sect1">
<h2 id="1-create-booktablepage-class"><a class="anchor" href="#1-create-booktablepage-class"></a>==  1. Create BookTablePage class</h2>
<div class="sectionbody">
<div class="paragraph">
<p>You will need a class which will represent MyThaiStart booking page.<br>
Fill the required methods with the following code:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>public class BookTablePage extends BasePage {

    @Override
    public boolean isLoaded() {
        getDriver().waitForPageLoaded(); //waits untli the page is loaded
        return getDriver().getCurrentUrl()
                .equals("https://mts-devonfw-core.cloud.okteto.net/bookTable"); //checks if current page address equals MyThaiStar booking page adress
    }

    @Override
    public void load() {
        getDriver().get("https://mts-devonfw-core.cloud.okteto.net/bookTable"); //loads page under specified adress
        getDriver().waitForPageLoaded(); //waits until the page is loaded
    }

    @Override
    public String pageTitle() {
        return "My Thai Star"; //returns page title
    }
}</pre>
</div>
</div>
<div class="paragraph">
<p><code>getDriver()</code> method allows accessing Selenium Web Driver which performs actions on the webpage.</p>
</div>
<div class="paragraph">
<p>As this page class represents the MyThaiStar booking page, you have to set up selectors for web elements required in the test case. In the example you have to create selectors for elements we’ll interact with:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Date and time input field</p>
</li>
<li>
<p>Name input field</p>
</li>
<li>
<p>Email input field</p>
</li>
<li>
<p>Table guests input field</p>
</li>
<li>
<p>Accept terms checkbox</p>
</li>
<li>
<p>Book table button</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Selectors will be implemented as fields.</p>
</div>
<div class="paragraph">
<p>Example of the selector for Date and time input field:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>/** Date field search criteria */
private static final By dateSearch = By.cssSelector("input[formcontrolname='bookingDate']");</pre>
</div>
</div>
<div class="paragraph">
<p>The input field&#8217;s name "bookingDate" was found by using the developer console in Google Chrome. <a href="https://github.com/devonfw/devonfw-testing/wiki/documentation/cssSelector.docx">How to prepare an everlasting selector?</a></p>
</div>
<div class="imageblock">
<div class="content">
<img src="../../../_images/images/image3.png" alt="image3">
</div>
</div>
<div class="paragraph">
<p>This selector can be used to create a WebElement object of the said input field. Therefore, you will create a new method and call it "enterTimeAndDate".</p>
</div>
<div class="listingblock">
<div class="content">
<pre>public void enterTimeAndDate(String date) {
    WebElement dateInput = getDriver().findElementDynamic(dateSearch); //creates a new WebElement to access Date and time input field
    dateInput.sendKeys(date); //enters date value
}</pre>
</div>
</div>
<div class="paragraph">
<p>Now you can create other selectors and objects and methods for every element on the webpage:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>/** Name input field search criteria */
private static final By nameSearch = By.cssSelector("input[formcontrolname='name']");

/** Email input field search criteria */
private static final By emailSearch = By.cssSelector("input[formcontrolname='email']");

/** Number of guests search criteria */
private static final By guestsSearch = By.cssSelector("input[formcontrolname='assistants']");

/** Check box search criteria */
private static final By checkboxSearch = By.cssSelector("mat-checkbox[data-name='bookTableTerms']");

/** Book table button search criteria */
private static By bookTableSearch = By.name("bookTableSubmit");</pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre>public void enterName(String name) {
    WebElement nameInput = getDriver().findElementDynamic(nameSearch); //creates a new WebElement to access name input field
    nameInput.sendKeys(name); //enters name value
}

public void enterEmail(String email) {
    WebElement emailInput = getDriver().findElementDynamic(emailSearch); //creates a new WebElement to access email input field
    emailInput.sendKeys(email); //enters email value
}

public void enterGuests(int amountOfGuests) {
    WebElement guestsInput = getDriver().findElementDynamic(guestsSearch); //creates a new WebElement to access amount of guests input field
    guestsInput.sendKeys(Integer.toString(amountOfGuests)); //enters the number of guests value converted from integer to string
}

public void acceptTerms() {
    WebElement checkbox = getDriver().findElementDynamic(checkboxSearch); //creates aa new WebElement to access accept terms checkbox
    WebElement square = checkbox.findElement(By.className("mat-checkbox-inner-container")); //creates a new WebElement to access inner square
    JavascriptExecutor js = (JavascriptExecutor) getDriver(); //creates a Javascript executor object
    js.executeScript("arguments[0].click()", square); //executes a script which clicks the square

}

public void clickBookTable() {
    WebElement buttonbutton = getDriver().findElementDynamic(bookTableSearch); //creates a new WebElement to access book table button
    getDriver().waitUntilElementIsClickable(bookTableSearch); //waits until a button might be clicked
    buttonbutton.click(); //clicks the button
}</pre>
</div>
</div>
<div class="paragraph">
<p>You can use those methods in order to create a new method to go through the whole booking process:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>public ConfirmBookPage enterBookingData(String date, String name, String email, int guests) {
    enterTimeAndDate(date);
    enterName(name);
    enterEmail(email);
    enterGuests(guests);
    acceptTerms();

    clickBookTable();

    return new ConfirmBookPage();
}</pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="2-create-confirmbookpage-class"><a class="anchor" href="#2-create-confirmbookpage-class"></a>==  2. Create ConfirmBookPage class</h2>
<div class="sectionbody">
<div class="paragraph">
<p>As you can see, this method returns another page object that has not yet been created. This step is required, as the booking information that you would like to check is on another webpage. This means that you will have to create another page class and call it ConfirmBookPage:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>public class ConfirmBookPage extends BasePage {

    /** Confirmation dialog search criteria */
    private static final By confirmationDialogSearch = By.className("mat-dialog-container");

    /** Send confirmation button search criteria */
    private static final By sendButtonSearch = By.name("bookTableConfirm");

    /** Cancel confirmation button search criteria */
    private static final By cancelButtonSearch = By.name("bookTableCancel");

    @Override
    public boolean isLoaded() {
        //creates a new WebElement to access confirmation dialog box
        WebElement confirmationDialog = getDriver().findElementDynamic(confirmationDialogSearch);

        return confirmationDialog.isDisplayed(); //checks if the box is displayed
    }

    //this method won't be called because the page is loaded only after clicking book table button
    @Override
    public void load() {
        BFLogger.logError("MyThaiStar booking confirmation page was not loaded."); //logs error
    }

    @Override
    public String pageTitle() {
        return "My Thai Star";
    }

    public void confirmBookingData() {
        WebElement sendButton = getDriver().findElementDynamic(sendButtonSearch); //creates a new WebElement to access confirmation button
        sendButton.click(); //clicks the send button
    }

    public void cancelBookingData() {
        WebElement cancelButton = getDriver().findElementDynamic(cancelButtonSearch); //creates a new WebElement to access resignation button
        cancelButton.click(); //clicks the cancel button
    }
}</pre>
</div>
</div>
<div class="imageblock">
<div class="content">
<img src="../../../_images/images/image4.png" alt="image4">
</div>
</div>
<div class="paragraph">
<p>After the click on Send button - the green confirmation dialogue appears with the message "Table successfully booked":</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../../../_images/images/image5.png" alt="image5">
</div>
</div>
<div class="paragraph">
<p>To be able to check if the booking was successful, you should go back to the BookTablePage class and add one more method in order to check if the green box was displayed:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>/** Dialog search criteria */
private static final By dialogSearch = By.className("bgc-green-600");

public boolean checkConfirmationDialog() {
    WebElement greenConfirmationDialog = getDriver().findElementDynamic(dialogSearch); //creates a new WebElement to access confirmation dialog

    return greenConfirmationDialog.isDisplayed(); //checks if the dialog is displayed
}</pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="3-create-booktabletest-class"><a class="anchor" href="#3-create-booktabletest-class"></a>==  3. Create BookTableTest class</h2>
<div class="sectionbody">
<div class="paragraph">
<p>At this point you can start creating a test class:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>import static org.junit.Assert.assertTrue;

public class BookTableTest extends BaseTest {
    private static BookTablePage bookTablePage = new BookTablePage(); //the field contains book table page object

    @BeforeClass
    public static void setUpBeforeClass() {
        bookTablePage.load(); //loads book table page
    }

    @AfterClass
    public static void tearDownAfterClass() {

    }

    @Override
    public void setUp() {
        if (!bookTablePage.isLoaded()) {
            bookTablePage.load(); //if the page is not loaded, loads it
        }
    }

    @Override
    public void tearDown() {

    }
}</pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="4-write-the-first-test"><a class="anchor" href="#4-write-the-first-test"></a>==  4. Write the first test</h2>
<div class="sectionbody">
<div class="paragraph">
<p>You can prepare our first test method using the methods from page classes</p>
</div>
<div class="listingblock">
<div class="content">
<pre>@Test
public void Test_BookTableAndCheckConfirmation() {
    String date = "07/23/2019 1:00 PM"; //replace with tommorow's date in format "MM/dd/yyyy hh:mm a"
    String name = "Smith"; //name field
    String email = "smith@somemail.com"; //email field
    int guests = 3; //number of guests

    //enters booking data and returns a new confirmation page
    ConfirmBookPage confirmBookPage = bookTablePage.enterBookingData(date, name, email, guests);
    confirmBookPage.confirmBookingData(); //confirms booking

    //checks if the green dialog box appears, if it does, test is passed, if not, the test failed and displays message given in the first argument
    assertTrue("Test failed: Table not booked", bookTablePage.checkConfirmationDialog()); //returns true if dialog box appears and false if not
}</pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="5-run-the-test"><a class="anchor" href="#5-run-the-test"></a>==  5. Run the test</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Run the test by right-clicking on the test method &#8594; Run as &#8594; JUnit test.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../../../_images/images/image6.png" alt="image6">
</div>
</div>
</div>
</div>
</article>
  </div>
</main>
</div>
<footer class="footer">
  <p>This page was built using the Antora default UI.</p>
  <p>The source code for this UI is licensed under the terms of the MPL-2.0 license.</p>
</footer>
<script src="../../../../../_/js/site.js"></script>
<script async src="../../../../../_/js/vendor/highlight.js"></script>
  </body>
</html>
