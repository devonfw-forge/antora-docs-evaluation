<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Untitled :: Devonfw.github.io Docs</title>
    <meta name="generator" content="Antora 2.3.4">
    <link rel="stylesheet" href="../../_/css/site.css">
    <script>var uiRootPath = '../../_'</script>
  </head>
  <body class="article">
<header class="header">
  <nav class="navbar">
    <div class="navbar-brand">
      <a class="navbar-item" href="../..">Devonfw.github.io Docs</a>
      <button class="navbar-burger" data-target="topbar-nav">
        <span></span>
        <span></span>
        <span></span>
      </button>
    </div>
    <div id="topbar-nav" class="navbar-menu">
      <div class="navbar-end">
        <a class="navbar-item" href="#">Home</a>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Products</a>
          <div class="navbar-dropdown">
            <a class="navbar-item" href="#">Product A</a>
            <a class="navbar-item" href="#">Product B</a>
            <a class="navbar-item" href="#">Product C</a>
          </div>
        </div>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Services</a>
          <div class="navbar-dropdown">
            <a class="navbar-item" href="#">Service A</a>
            <a class="navbar-item" href="#">Service B</a>
            <a class="navbar-item" href="#">Service C</a>
          </div>
        </div>
        <div class="navbar-item">
          <span class="control">
            <a class="button is-primary" href="#">Download</a>
          </span>
        </div>
      </div>
    </div>
  </nav>
</header>
<div class="body">
<div class="nav-container" data-component="devon4ng" data-version="1.0">
  <aside class="nav">
    <div class="panels">
<div class="nav-panel-explore is-active" data-panel="explore">
  <div class="context">
    <span class="title">Devon4ng</span>
    <span class="version">1.0</span>
  </div>
  <ul class="components">
    <li class="component">
      <a class="title" href="../../architecture-guidelines/1.0/index.html">Architecture-guidelines</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../architecture-guidelines/1.0/index.html">1.0</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../cicdgen/1.0/index.html">Cicdgen</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../cicdgen/1.0/index.html">1.0</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../cobigen/1.0/index.html">Cobigen</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../cobigen/1.0/index.html">1.0</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../dashboard/1.0/index.html">Dashboard</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../dashboard/1.0/index.html">1.0</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../devon4j/1.0/index.html">Devon4j</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../devon4j/1.0/index.html">1.0</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../devon4net/1.0/index.html">Devon4net</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../devon4net/1.0/index.html">1.0</a>
        </li>
      </ul>
    </li>
    <li class="component is-current">
      <a class="title" href="index.html">Devon4ng</a>
      <ul class="versions">
        <li class="version is-current is-latest">
          <a href="index.html">1.0</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../devon4node/1.0/index.html">Devon4node</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../devon4node/1.0/index.html">1.0</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../devon4quarkus/1.0/index.html">Devon4quarkus</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../devon4quarkus/1.0/index.html">1.0</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../devon4ts/1.0/index.html">Devon4ts</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../devon4ts/1.0/index.html">1.0</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../devonfw.github.io/1.0/index.html">devonfw.github.io</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../devonfw.github.io/1.0/index.html">1.0</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../getting-started/1.0/index.html">Getting-started</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../getting-started/1.0/index.html">1.0</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../github/1.0/index.html">Github</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../github/1.0/index.html">1.0</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../hangar/1.0/index.html">Hangar</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../hangar/1.0/index.html">1.0</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../ide/1.0/index.html">IDE</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../ide/1.0/index.html">1.0</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../jump-the-queue/1.0/index.html">Jump-the-queue</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../jump-the-queue/1.0/index.html">1.0</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../mrchecker/1.0/index.html">Mrchecker</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../mrchecker/1.0/index.html">1.0</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../my-thai-star/1.0/index.html">My-thai-star</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../my-thai-star/1.0/index.html">1.0</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../production-line/1.0/index.html">Production-line</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../production-line/1.0/index.html">1.0</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../shop-floor/1.0/index.html">Shop-floor</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../shop-floor/1.0/index.html">1.0</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../solicitor/1.0/index.html">Solicitor</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../solicitor/1.0/index.html">1.0</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../sonar-devon4j-plugin/1.0/index.html">Sonar-devon4j-plugin</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../sonar-devon4j-plugin/1.0/index.html">1.0</a>
        </li>
      </ul>
    </li>
  </ul>
</div>
    </div>
  </aside>
</div>
<main class="article">
<div class="toolbar" role="navigation">
<button class="nav-toggle"></button>
  <a href="../../devonfw.github.io/1.0/index.html" class="home-link"></a>
<nav class="breadcrumbs" aria-label="breadcrumbs">
</nav>
  <div class="edit-this-page"><a href="https://github.com/MarvDan/devon4ng/edit/develop/modules/ROOT/pages/guide-add-electron.adoc">Edit this Page</a></div>
  </div>
  <div class="content">
<aside class="toc sidebar" data-title="Contents" data-levels="2">
  <div class="toc-menu"></div>
</aside>
<article class="doc">
<div id="toc" class="toc">
<div id="toctitle" class="title">Table of Contents</div>
<ul class="sectlevel1">
<li><a href="#add-electron-to-an-angular-application-using-angular-cli">Add Electron to an Angular application using Angular CLI</a></li>
<li><a href="#add-electron-and-other-relevant-dependencies">Add Electron and other relevant dependencies</a></li>
<li><a href="#create-the-necessary-typescript-configurations">Create the necessary typescript configurations</a></li>
<li><a href="#tsconfig-json">==  <code>tsconfig.json</code></a></li>
<li><a href="#tsconfig-app-json">==  <code>tsconfig.app.json</code></a></li>
<li><a href="#tsconfig-spec-json">==  <code>tsconfig.spec.json</code></a></li>
<li><a href="#tsconfig-base-json">==  <code>tsconfig.base.json</code></a></li>
<li><a href="#tsconfig-serve-json">==  <code>tsconfig.serve.json</code></a></li>
<li><a href="#add-electron-build-configuration">Add Electron build configuration</a></li>
<li><a href="#modify-angular-json">Modify angular.json</a></li>
<li><a href="#create-the-electron-window-in-electron-main-ts">Create the electron window in <code>electron-main.ts</code></a></li>
<li><a href="#add-the-electron-window-and-improve-the-package-json-scripts">Add the electron window and improve the <code>package.json</code> scripts</a></li>
<li><a href="#add-electron-to-an-angular-application-using-nx-cli">Add Electron to an Angular application using Nx CLI</a></li>
<li><a href="#install-nx-electron">Install <code>nx-electron</code></a></li>
<li><a href="#generate-your-electron-app">Generate your Electron app</a></li>
<li><a href="#serving-your-app">Serving your app</a></li>
<li><a href="#building-your-app">Building your app</a></li>
<li><a href="#packaging-your-app">Packaging your app</a></li>
</ul>
</div>
<div class="sect1">
<h2 id="add-electron-to-an-angular-application-using-angular-cli"><a class="anchor" href="#add-electron-to-an-angular-application-using-angular-cli"></a>Add Electron to an Angular application using Angular CLI</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This cookbook recipe explains how to integrate Electron in an Angular 10+ application. <a href="https://electronjs.org/">Electron</a> is a framework for creating native applications with web technologies like JavaScript, HTML, and CSS. As an example, very well known applications as Visual Studio Code, Atom, Slack or Skype (and many more) are using Electron too.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
At the moment of this writing Angular 11.2.0, Electron 11.2.3 and Electron-builder 22.9.1 were the versions available.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Here are the steps to achieve this goal. Follow them in order.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="add-electron-and-other-relevant-dependencies"><a class="anchor" href="#add-electron-and-other-relevant-dependencies"></a>Add Electron and other relevant dependencies</h2>
<div class="sectionbody">
<div class="paragraph">
<p>There are two different approaches to add the dependencies in the <code>package.json</code> file:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Writing the dependencies directly in that file.</p>
</li>
<li>
<p>Installing using <code>npm install</code> or <code>yarn add</code>.</p>
</li>
</ul>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
Please remember if the project has a <code>package-lock.json</code> or <code>yarn.lock</code> file use <code>npm</code> or <code>yarn</code> respectively.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>In order to add the dependencies directly in the <code>package.json</code> file, include the following lines in the <code>devDependencies</code> section:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json">"devDependencies": {
...
    "electron": "^11.2.3",
    "electron-builder": "^22.9.1",
...
},</code></pre>
</div>
</div>
<div class="paragraph">
<p>As indicated above, instead of this <code>npm install</code> can be used:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">$ npm install -D electron electron-builder</code></pre>
</div>
</div>
<div class="paragraph">
<p>Or with <code>yarn</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">$ yarn add -D electron electron-builder</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="create-the-necessary-typescript-configurations"><a class="anchor" href="#create-the-necessary-typescript-configurations"></a>Create the necessary typescript configurations</h2>
<div class="sectionbody">
<div class="paragraph">
<p>In order to initiate electron in an angular app we need to modify the <code>tsconfig.json</code> file and create a <code>tsconfig.serve.json</code> and a <code>tsconfig.base.json</code> in the root folder.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="tsconfig-json"><a class="anchor" href="#tsconfig-json"></a>==  <code>tsconfig.json</code></h2>
<div class="sectionbody">
<div class="paragraph">
<p>This file needs to be modified to create references to <code>./src/tsconfig.app.json</code> and <code>./src/tsconfig.spec.json</code> to support different configurations.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json">{
  "files": [],
  "references": [
    {
      "path": "./src/tsconfig.app.json"
    },
    {
      "path": "./src/tsconfig.spec.json"
    }
  ]
}</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="tsconfig-app-json"><a class="anchor" href="#tsconfig-app-json"></a>==  <code>tsconfig.app.json</code></h2>
<div class="sectionbody">
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json">{
  "extends": "../tsconfig.base.json",
  "compilerOptions": {
    "outDir": "../app",
    "module": "es2015",
    "baseUrl": "",
    "types": []
  },
  "include": [
    "**/*.ts",
  ],
  "exclude": [
    "**/*.spec.ts"
  ],
  "angularCompilerOptions": {
    "fullTemplateTypeCheck": true,
    "strictInjectionParameters": true,
    "preserveWhitespaces": true
  }
}</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="tsconfig-spec-json"><a class="anchor" href="#tsconfig-spec-json"></a>==  <code>tsconfig.spec.json</code></h2>
<div class="sectionbody">
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json">{
  "extends": "../tsconfig.base.json",
  "compilerOptions": {
    "outDir": "../spec",
    "module": "commonjs",
    "types": [
      "jasmine",
      "node"
    ]
  },
  "files": [
    "test.ts",
  ],
  "include": [
    "**/*.spec.ts",
    "**/*.d.ts"
  ],
  "exclude": [
    "dist",
    "release",
    "node_modules"
  ]
}</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="tsconfig-base-json"><a class="anchor" href="#tsconfig-base-json"></a>==  <code>tsconfig.base.json</code></h2>
<div class="sectionbody">
<div class="paragraph">
<p>This is shared between <code>tsconfig.app.json</code> and <code>tsconfig.spec.json</code> and it will be extended on each config file.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json">{
  "compileOnSave": false,
  "compilerOptions": {
    "outDir": "./dist",
    "sourceMap": true,
    "declaration": false,
    "moduleResolution": "node",
    "emitDecoratorMetadata": true,
    "experimentalDecorators": true,
    "target": "es5",
    "typeRoots": [
      "node_modules/@types"
    ],
    "lib": [
      "es2017",
      "es2016",
      "es2015",
      "dom"
    ]
  },
  "files": [
    "electron-main.ts"
    "src/polyfills.ts"
  ],
  "include": [
    "src/**/*.d.ts"
  ],
  "exclude": [
    "node_modules"
  ]
}</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="tsconfig-serve-json"><a class="anchor" href="#tsconfig-serve-json"></a>==  <code>tsconfig.serve.json</code></h2>
<div class="sectionbody">
<div class="paragraph">
<p>In the root, <code>tsconfig.serve.json</code> needs to be created. This typescript config file is going to be used when we serve electron:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json">{
  "compilerOptions": {
    "outDir": ".",
    "sourceMap": true,
    "declaration": false,
    "moduleResolution": "node",
    "emitDecoratorMetadata": true,
    "experimentalDecorators": true,
    "target": "es5",
    "typeRoots": [
      "node_modules/@types"
    ],
    "lib": [
      "es2017",
      "dom"
    ]
  },
  "include": [
    "electron-main.ts"
  ],
  "exclude": [
    "node_modules",
    "**/*.spec.ts"
  ]
}</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="add-electron-build-configuration"><a class="anchor" href="#add-electron-build-configuration"></a>Add Electron build configuration</h2>
<div class="sectionbody">
<div class="paragraph">
<p>In order to configure electron builds properly we need to create a new json on our application, let&#8217;s call it electron-builder.json. For more information and fine tuning please refer to the <a href="https://www.electron.build/configuration/configuration">Electron Builder official documentation</a>.</p>
</div>
<div class="paragraph">
<p>The contents of the file will be something similar to the following:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json">{
  "productName": "devon4ngElectron",
  "directories":{
    "output": "./builder-release"
  },
  "win": {
    "icon": "dist/assets/icons",
    "target": [
      "portable"
    ]
  },
  "mac": {
    "icon": "dist/assets/icons",
    "target": [
      "dmg"
    ]
  },
  "linux": {
    "icon": "dist/assets/icons",
    "target": [
      "AppImage"
    ]
  }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>There are two important things in this files:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>"output": this is where electron builder is going to build our application</p>
</li>
<li>
<p>"icon": in every OS possible there is an icon parameter, the route to the icon folder that will be created after building with angular needs to be used here. This will make it so the electron builder can find the icons and build.</p>
</li>
</ol>
</div>
</div>
</div>
<div class="sect1">
<h2 id="modify-angular-json"><a class="anchor" href="#modify-angular-json"></a>Modify angular.json</h2>
<div class="sectionbody">
<div class="paragraph">
<p><code>angular.json</code> has to to be modified so the project is build inside <em>/dist</em> without an intermediate folder.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json">{
  "architect": {
    "build": {
      "outputPath": "dist"
    }
  }
}</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="create-the-electron-window-in-electron-main-ts"><a class="anchor" href="#create-the-electron-window-in-electron-main-ts"></a>Create the electron window in <code>electron-main.ts</code></h2>
<div class="sectionbody">
<div class="paragraph">
<p>In order to use electron, a file needs to be created at the root of the application (<code>main.ts</code>). This file will create a window with different settings checking if we are using <code>--serve</code> as an argument:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-TypeScript hljs" data-lang="TypeScript">import { app, BrowserWindow } from 'electron';
import * as path from 'path';
import * as url from 'url';

let win: any;
const args: any = process.argv.slice(1);
const serve: any = args.some((val) =&gt; val == '--serve');

const createWindow:any = ()=&gt;{
  // Create the browser window.
  win = new BrowserWindow({
    fullscreen: true,
    webPreferences: {
      nodeIntegration: true,
    }
  });

  if (serve) {
    require('electron-reload')(__dirname, {
      electron: require(`${__dirname}/node_modules/electron`)
    });
    win.loadURL('http://localhost:4200');
  } else {
    win.loadURL(
      url.format({
        pathname: path.join(__dirname, 'dist/index.html'),
        protocol: 'file:',
        slashes: true
      })
    );
  }

  if (serve) {
    win.webContents.openDevTools();
  }

  // Emitted when the window is closed.
  win.on('closed', () =&gt; {
    // Dereference the window object, usually you would store window
    // in an array if your app supports multi windows, this is the time
    // when you should delete the corresponding element.
    // tslint:disable-next-line:no-null-keyword
    win = null;
  });
}

try {
  // This method will be called when Electron has finished
  // initialization and is ready to create browser windows.
  // Some APIs can only be used after this event occurs.
  app.on('ready', createWindow);

   // Quit when all windows are closed.
  app.on('window-all-closed', () =&gt; {
    // On OS X it is common for applications and their menu bar
    // to stay active until the user quits explicitly with Cmd + Q
    if (process.platform !==  'darwin') {
      app.quit();
    }
  });

   app.on('activate', () =&gt; {
    // On OS X it's common to re-create a window in the app when the
    // dock icon is clicked and there are no other windows open.
    if (win == null) {
      createWindow();
    }
  });
} catch (e) {
  // Catch Error
  // throw e;
}</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="add-the-electron-window-and-improve-the-package-json-scripts"><a class="anchor" href="#add-the-electron-window-and-improve-the-package-json-scripts"></a>Add the electron window and improve the <code>package.json</code> scripts</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Inside <code>package.json</code> the electron window that will be transformed to <code>electron-main.js</code> when building needs to be added.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json">{
  ....
  "main": "electron-main.js",
  "scripts": {...}
  ....
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>The <code>scripts</code> section in the <code>package.json</code> can be improved to avoid running too verbose commands. As a very complete example we can take a look to the My Thai Star&#8217;s <code>scripts</code> section and copy the lines useful in your project. In any case, at least we recommend to add the following lines:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json">  "scripts": {
    "ng": "ng",
    "start": "ng serve",
    "build": "ng build",
    "test": "ng test",
    "lint": "ng lint",
    "e2e": "ng e2e",
    "electron:tsc": "tsc -p tsconfig.serve.json",
    "electron:run": "npm run electron:tsc &amp;&amp; ng build --base-href ./ &amp;&amp; npx electron .",
    "electron:serve": "npm run electron:tsc &amp;&amp; npx electron . --serve",
    "electron:pack": "npm run electron:tsc &amp;&amp; electron-builder --dir --config electron-builder.json",
    "electron:build": "npm run electron:tsc &amp;&amp; electron-builder --config electron-builder.json build"
  },</code></pre>
</div>
</div>
<div class="paragraph">
<p>The <code>electron:</code> scripts do the following:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>electron:tsc</code>: Compiles electron TS files.</p>
</li>
<li>
<p><code>electron:run</code>: Serves Angular app and runs electron.</p>
</li>
<li>
<p><code>electron:serve</code>: Serves electron with an already running angular app (i.e. a <code>ng serve</code> command running on another terminal).</p>
</li>
<li>
<p><code>electron:pack</code>: Packs electron app.</p>
</li>
<li>
<p><code>electron:build</code>: Builds electron app.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="add-electron-to-an-angular-application-using-nx-cli"><a class="anchor" href="#add-electron-to-an-angular-application-using-nx-cli"></a>Add Electron to an Angular application using Nx CLI</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Creating an Electron app is very easy and straight-forward if you are using Nx CLI. As a pre-requisite, you should already have an application in your Nx workspace which you want to run as a front-end in your Electron app. (You can follow <a href="https://github.com/devonfw/devon4ng/wiki/guide-creating-angular-app-with-nx-cli">this guide</a> if you want to get started with Nx).</p>
</div>
<div class="paragraph">
<p>Follow the steps below to develop an Electron app in your Nx workspace:</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="install-nx-electron"><a class="anchor" href="#install-nx-electron"></a>Install <code>nx-electron</code></h2>
<div class="sectionbody">
<div class="paragraph">
<p>Install <code>nx-electron</code> using the command:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code>  npm install -D nx-electron</code></pre>
</div>
</div>
<div class="paragraph">
<p>This will add the packages <code>electron</code> and <code>nx-electron</code> as dev dependencies to your Nx workspace. This will help us generate our Electron app in the next step.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="generate-your-electron-app"><a class="anchor" href="#generate-your-electron-app"></a>Generate your Electron app</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Once you have installed <code>nx-electron</code>, you can generate your electron app using the command:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code>  nx g nx-electron:app &lt;electron-app-name&gt; --frontendProject=&lt;frontend-app-name&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>And that is it! You have generated your Electron app already. All the configuration files (<code>tsconfig.*</code>) are generated for you under &lt;electron-app-name&gt; in your Nx workspace.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="serving-your-app"><a class="anchor" href="#serving-your-app"></a>Serving your app</h2>
<div class="sectionbody">
<div class="paragraph">
<p>You can use this command to serve your Electron app:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code>  nx run-many --target=serve --projects=&lt;frontend-app-name&gt;,&lt;electron-app-name&gt; --parallel</code></pre>
</div>
</div>
<div class="paragraph">
<p>If you see a blank application, it is because the Electron app was served before the front-end was served. To avoid this, you can serve the front-end and back-end separately, (that is, serve the back-end only after the front-end is served).</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="building-your-app"><a class="anchor" href="#building-your-app"></a>Building your app</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The command for building your Electron app in Nx is similar to the <code>serve</code> command above, you only change the target from <code>serve</code> to <code>build</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code>  nx run-many --target=build --projects=&lt;frontend-app-name&gt;,&lt;electron-app-name&gt; --parallel</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="packaging-your-app"><a class="anchor" href="#packaging-your-app"></a>Packaging your app</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Make sure you have build your app before you try to package it using the following command:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code>  nx run &lt;electron-app-name&gt;:package [--options]</code></pre>
</div>
</div>
<div class="paragraph">
<p>The options that can be passed can be found <a href="https://github.com/bennymeg/nx-electron/blob/master/src/builders/package/schema.json">here</a>.</p>
</div>
<div class="paragraph">
<p>You can find a working example of an Electron app in <a href="https://github.com/devonfw-sample/devon4ts-samples/tree/master/apps/angular-electron-test">devon4ts-samples</a>.</p>
</div>
</div>
</div>
</article>
  </div>
</main>
</div>
<footer class="footer">
  <p>This page was built using the Antora default UI.</p>
  <p>The source code for this UI is licensed under the terms of the MPL-2.0 license.</p>
</footer>
<script src="../../_/js/site.js"></script>
<script async src="../../_/js/vendor/highlight.js"></script>
  </body>
</html>
