<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Untitled :: Devonfw.github.io Docs</title>
    <meta name="generator" content="Antora 2.3.4">
    <link rel="stylesheet" href="../../../../../_/css/site.css">
    <script>var uiRootPath = '../../../../../_'</script>
  </head>
  <body class="article">
<header class="header">
  <nav class="navbar">
    <div class="navbar-brand">
      <a class="navbar-item" href="../../../../..">Devonfw.github.io Docs</a>
      <button class="navbar-burger" data-target="topbar-nav">
        <span></span>
        <span></span>
        <span></span>
      </button>
    </div>
    <div id="topbar-nav" class="navbar-menu">
      <div class="navbar-end">
        <a class="navbar-item" href="#">Home</a>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Products</a>
          <div class="navbar-dropdown">
            <a class="navbar-item" href="#">Product A</a>
            <a class="navbar-item" href="#">Product B</a>
            <a class="navbar-item" href="#">Product C</a>
          </div>
        </div>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Services</a>
          <div class="navbar-dropdown">
            <a class="navbar-item" href="#">Service A</a>
            <a class="navbar-item" href="#">Service B</a>
            <a class="navbar-item" href="#">Service C</a>
          </div>
        </div>
        <div class="navbar-item">
          <span class="control">
            <a class="button is-primary" href="#">Download</a>
          </span>
        </div>
      </div>
    </div>
  </nav>
</header>
<div class="body">
<div class="nav-container" data-component="devonfw.github.io" data-version="1.0">
  <aside class="nav">
    <div class="panels">
<div class="nav-panel-explore is-active" data-panel="explore">
  <div class="context">
    <span class="title">devonfw.github.io</span>
    <span class="version">1.0</span>
  </div>
  <ul class="components">
    <li class="component">
      <a class="title" href="../../../../../architecture-guidelines/1.0/index.html">Architecture-guidelines</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../../../architecture-guidelines/1.0/index.html">1.0</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../../../../cicdgen/1.0/index.html">Cicdgen</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../../../cicdgen/1.0/index.html">1.0</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../../../../cobigen/1.0/index.html">Cobigen</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../../../cobigen/1.0/index.html">1.0</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../../../../dashboard/1.0/index.html">Dashboard</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../../../dashboard/1.0/index.html">1.0</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../../../../devon4j/1.0/index.html">Devon4j</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../../../devon4j/1.0/index.html">1.0</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../../../../devon4net/1.0/index.html">Devon4net</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../../../devon4net/1.0/index.html">1.0</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../../../../devon4ng/1.0/index.html">Devon4ng</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../../../devon4ng/1.0/index.html">1.0</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../../../../devon4node/1.0/index.html">Devon4node</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../../../devon4node/1.0/index.html">1.0</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../../../../devon4quarkus/1.0/index.html">Devon4quarkus</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../../../devon4quarkus/1.0/index.html">1.0</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../../../../devon4ts/1.0/index.html">Devon4ts</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../../../devon4ts/1.0/index.html">1.0</a>
        </li>
      </ul>
    </li>
    <li class="component is-current">
      <a class="title" href="../../../index.html">devonfw.github.io</a>
      <ul class="versions">
        <li class="version is-current is-latest">
          <a href="../../../index.html">1.0</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../../../../getting-started/1.0/index.html">Getting-started</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../../../getting-started/1.0/index.html">1.0</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../../../../github/1.0/index.html">Github</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../../../github/1.0/index.html">1.0</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../../../../hangar/1.0/index.html">Hangar</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../../../hangar/1.0/index.html">1.0</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../../../../ide/1.0/index.html">IDE</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../../../ide/1.0/index.html">1.0</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../../../../jump-the-queue/1.0/index.html">Jump-the-queue</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../../../jump-the-queue/1.0/index.html">1.0</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../../../../mrchecker/1.0/index.html">Mrchecker</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../../../mrchecker/1.0/index.html">1.0</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../../../../my-thai-star/1.0/index.html">My-thai-star</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../../../my-thai-star/1.0/index.html">1.0</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../../../../production-line/1.0/index.html">Production-line</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../../../production-line/1.0/index.html">1.0</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../../../../shop-floor/1.0/index.html">Shop-floor</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../../../shop-floor/1.0/index.html">1.0</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../../../../solicitor/1.0/index.html">Solicitor</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../../../solicitor/1.0/index.html">1.0</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../../../../sonar-devon4j-plugin/1.0/index.html">Sonar-devon4j-plugin</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../../../sonar-devon4j-plugin/1.0/index.html">1.0</a>
        </li>
      </ul>
    </li>
  </ul>
</div>
    </div>
  </aside>
</div>
<main class="article">
<div class="toolbar" role="navigation">
<button class="nav-toggle"></button>
  <a href="../../../index.html" class="home-link"></a>
<nav class="breadcrumbs" aria-label="breadcrumbs">
</nav>
  <div class="edit-this-page"><a href="https://github.com/marvdan/devonfw.github.io/edit/developAntoraGhPage/docs/modules/ROOT/pages/mrchecker.wiki/Who-Is-MrChecker/Test-Framework-Modules/DevOPS-Test-Module-Docker-commands.adoc">Edit this Page</a></div>
  </div>
  <div class="content">
<aside class="toc sidebar" data-title="Contents" data-levels="2">
  <div class="toc-menu"></div>
</aside>
<article class="doc">
<div class="sect1">
<h2 id="_what_is_docker"><a class="anchor" href="#_what_is_docker"></a>What is Docker</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Docker is an open source software platform to create, deploy and manage virtualized application containers on a common operating system (OS), with an ecosystem of allied tools.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_where_do_we_use_docker"><a class="anchor" href="#_where_do_we_use_docker"></a>Where do we use Docker</h2>
<div class="sectionbody">
<div class="paragraph">
<p>DevOps module consists of Docker images</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Jenkins image</p>
</li>
<li>
<p>Jenkins job image</p>
</li>
<li>
<p>Jenkins management image</p>
</li>
<li>
<p>Security image</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>in addition, each new node is also based on Docker</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_exploring_basic_docker_options"><a class="anchor" href="#_exploring_basic_docker_options"></a>Exploring basic Docker options</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Let’s show some of the most important commands that are needed when working with our DevOps module based on the Docker platform. Each command given below should be preceded by a sudo call by default. If you don’t want to use <code>sudo</code> command create a Unix group called docker and add a user to it.</p>
</div>
<div class="listingblock">
<div class="content">
<pre>$ sudo groupadd docker
$ sudo usermod -aG docker $USER</pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_build_an_image_from_a_dockerfile"><a class="anchor" href="#_build_an_image_from_a_dockerfile"></a>Build an image from a Dockerfile</h2>
<div class="sectionbody">
<div class="listingblock">
<div class="content">
<pre>##docker build [OPTIONS] PATH | URL | -
##
##Options:
## --tag , -t : Name and optionally a tag in the ‘name:tag’ format

$ docker build -t vc_jenkins_jobs .</pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_container_start"><a class="anchor" href="#_container_start"></a>Container start</h2>
<div class="sectionbody">
<div class="listingblock">
<div class="content">
<pre>##docker run [OPTIONS] IMAGE[:TAG|@DIGEST] [COMMAND] [ARG...]
#
##Options:
##-d : To start a container in detached mode (background)
##-it : interactive terminal
##--name : assign a container name
##--rm : clean up
##--volumes-from="": Mount all volumes from the given container(s)
##-p : explicitly map a single port or range of ports
##--volume : storage associated with the image

$ docker run -d --name vc_jenkins_jobs vc_jenkins_jobs</pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_remove_one_or_more_containers"><a class="anchor" href="#_remove_one_or_more_containers"></a>Remove one or more containers</h2>
<div class="sectionbody">
<div class="listingblock">
<div class="content">
<pre>##docker rm [OPTIONS] CONTAINER
#
##Options:
##--force , -f : Force the removal of a running container

$ docker rm -f jenkins</pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_list_containers"><a class="anchor" href="#_list_containers"></a>List containers</h2>
<div class="sectionbody">
<div class="listingblock">
<div class="content">
<pre>##docker ps [OPTIONS]
##--all, -a : Show all containers (default shows just running)

$ docker ps</pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_pull_an_image_or_a_repository_from_a_registry"><a class="anchor" href="#_pull_an_image_or_a_repository_from_a_registry"></a>Pull an image or a repository from a registry</h2>
<div class="sectionbody">
<div class="listingblock">
<div class="content">
<pre>##docker pull [OPTIONS] NAME[:TAG|@DIGEST]

$ docker pull jenkins/jenkins:2.73.1</pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_push_the_image_or_a_repository_to_a_registry"><a class="anchor" href="#_push_the_image_or_a_repository_to_a_registry"></a>Push the image or a repository to a registry</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Pushing new image takes place in two steps. First save the image by adding container ID to the commit command and next use push:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>##docker push [OPTIONS] NAME[:TAG]

$ docker ps
  # copy container ID from the result
$ docker commit b46778v943fh vc_jenkins_mng:project_x
$ docker push vc_jenkins_mng:project_x</pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_return_information_on_docker_object"><a class="anchor" href="#_return_information_on_docker_object"></a>Return information on Docker object</h2>
<div class="sectionbody">
<div class="listingblock">
<div class="content">
<pre>##docker inspect [OPTIONS] NAME|ID [NAME|ID...]
#
##Options:
##--format , -f : output format

$ docker inspect -f '{{ .Mounts }}' vc_jenkins_mng</pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_list_images"><a class="anchor" href="#_list_images"></a>List images</h2>
<div class="sectionbody">
<div class="listingblock">
<div class="content">
<pre>##docker images [OPTIONS] [REPOSITORY[:TAG]]
#
##Options:
--all , -a : show all images with intermediate images

$ docker images
$ docker images jenkins</pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_remove_one_or_more_images"><a class="anchor" href="#_remove_one_or_more_images"></a>Remove one or more images</h2>
<div class="sectionbody">
<div class="listingblock">
<div class="content">
<pre>##docker rmi [OPTIONS] IMAGE [IMAGE...]
#
##Options:
##  --force , -f : Force removal of the image

$ docker rmi jenkins/jenkins:latest</pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_run_a_command_in_a_running_container"><a class="anchor" href="#_run_a_command_in_a_running_container"></a>Run a command in a running container</h2>
<div class="sectionbody">
<div class="listingblock">
<div class="content">
<pre>##docker exec [OPTIONS] CONTAINER COMMAND [ARG...]
##-d : run command in the background
##-it : interactive terminal
##-w : working directory inside the container
##-e : Set environment variables

$ docker exec vc_jenkins_jobs sh -c "chmod 755 config.xml"</pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_advanced_commands"><a class="anchor" href="#_advanced_commands"></a>Advanced commands</h2>
<div class="sectionbody">

</div>
</div>
<div class="sect1">
<h2 id="_remove_dangling_images"><a class="anchor" href="#_remove_dangling_images"></a>Remove dangling images</h2>
<div class="sectionbody">
<div class="listingblock">
<div class="content">
<pre>$ docker rmi $(docker images -f dangling=true -q)</pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_remove_all_images"><a class="anchor" href="#_remove_all_images"></a>Remove all images</h2>
<div class="sectionbody">
<div class="listingblock">
<div class="content">
<pre>$ docker rmi $(docker images -a -q)</pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_removing_images_according_to_a_pattern"><a class="anchor" href="#_removing_images_according_to_a_pattern"></a>Removing images according to a pattern</h2>
<div class="sectionbody">
<div class="listingblock">
<div class="content">
<pre>$ docker images | grep "pattern" | awk '{print $2}' | xargs docker rm</pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_remove_all_exited_containers"><a class="anchor" href="#_remove_all_exited_containers"></a>Remove all exited containers</h2>
<div class="sectionbody">
<div class="listingblock">
<div class="content">
<pre>$ docker rm $(docker ps -a -f status=exited -q)</pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_remove_all_stopped_containers"><a class="anchor" href="#_remove_all_stopped_containers"></a>Remove all stopped containers</h2>
<div class="sectionbody">
<div class="listingblock">
<div class="content">
<pre>$ docker rm $(docker ps --no-trunc -aq)</pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_remove_containers_according_to_a_pattern"><a class="anchor" href="#_remove_containers_according_to_a_pattern"></a>Remove containers according to a pattern</h2>
<div class="sectionbody">
<div class="listingblock">
<div class="content">
<pre>$ docker ps -a | grep "pattern" | awk '{print $1}' | xargs docker rmi</pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_remove_dangling_volumes"><a class="anchor" href="#_remove_dangling_volumes"></a>Remove dangling volumes</h2>
<div class="sectionbody">
<div class="listingblock">
<div class="content">
<pre>$ docker volume rm $(docker volume ls -f dangling=true -q)</pre>
</div>
</div>
</div>
</div>
</article>
  </div>
</main>
</div>
<footer class="footer">
  <p>This page was built using the Antora default UI.</p>
  <p>The source code for this UI is licensed under the terms of the MPL-2.0 license.</p>
</footer>
<script src="../../../../../_/js/site.js"></script>
<script async src="../../../../../_/js/vendor/highlight.js"></script>
  </body>
</html>
