<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Untitled :: Devonfw.github.io Docs</title>
    <meta name="generator" content="Antora 2.3.4">
    <link rel="stylesheet" href="../../../../_/css/site.css">
    <script>var uiRootPath = '../../../../_'</script>
  </head>
  <body class="article">
<header class="header">
  <nav class="navbar">
    <div class="navbar-brand">
      <a class="navbar-item" href="../../../..">Devonfw.github.io Docs</a>
      <button class="navbar-burger" data-target="topbar-nav">
        <span></span>
        <span></span>
        <span></span>
      </button>
    </div>
    <div id="topbar-nav" class="navbar-menu">
      <div class="navbar-end">
        <a class="navbar-item" href="#">Home</a>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Products</a>
          <div class="navbar-dropdown">
            <a class="navbar-item" href="#">Product A</a>
            <a class="navbar-item" href="#">Product B</a>
            <a class="navbar-item" href="#">Product C</a>
          </div>
        </div>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Services</a>
          <div class="navbar-dropdown">
            <a class="navbar-item" href="#">Service A</a>
            <a class="navbar-item" href="#">Service B</a>
            <a class="navbar-item" href="#">Service C</a>
          </div>
        </div>
        <div class="navbar-item">
          <span class="control">
            <a class="button is-primary" href="#">Download</a>
          </span>
        </div>
      </div>
    </div>
  </nav>
</header>
<div class="body">
<div class="nav-container" data-component="devonfw.github.io" data-version="1.0">
  <aside class="nav">
    <div class="panels">
<div class="nav-panel-explore is-active" data-panel="explore">
  <div class="context">
    <span class="title">devonfw.github.io</span>
    <span class="version">1.0</span>
  </div>
  <ul class="components">
    <li class="component">
      <a class="title" href="../../../../architecture-guidelines/1.0/index.html">Architecture-guidelines</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../../architecture-guidelines/1.0/index.html">1.0</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../../../cicdgen/1.0/index.html">Cicdgen</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../../cicdgen/1.0/index.html">1.0</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../../../cobigen/1.0/index.html">Cobigen</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../../cobigen/1.0/index.html">1.0</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../../../dashboard/1.0/index.html">Dashboard</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../../dashboard/1.0/index.html">1.0</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../../../devon4j/1.0/index.html">Devon4j</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../../devon4j/1.0/index.html">1.0</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../../../devon4net/1.0/index.html">Devon4net</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../../devon4net/1.0/index.html">1.0</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../../../devon4ng/1.0/index.html">Devon4ng</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../../devon4ng/1.0/index.html">1.0</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../../../devon4node/1.0/index.html">Devon4node</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../../devon4node/1.0/index.html">1.0</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../../../devon4quarkus/1.0/index.html">Devon4quarkus</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../../devon4quarkus/1.0/index.html">1.0</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../../../devon4ts/1.0/index.html">Devon4ts</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../../devon4ts/1.0/index.html">1.0</a>
        </li>
      </ul>
    </li>
    <li class="component is-current">
      <a class="title" href="../../index.html">devonfw.github.io</a>
      <ul class="versions">
        <li class="version is-current is-latest">
          <a href="../../index.html">1.0</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../../../getting-started/1.0/index.html">Getting-started</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../../getting-started/1.0/index.html">1.0</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../../../github/1.0/index.html">Github</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../../github/1.0/index.html">1.0</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../../../hangar/1.0/index.html">Hangar</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../../hangar/1.0/index.html">1.0</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../../../ide/1.0/index.html">IDE</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../../ide/1.0/index.html">1.0</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../../../jump-the-queue/1.0/index.html">Jump-the-queue</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../../jump-the-queue/1.0/index.html">1.0</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../../../mrchecker/1.0/index.html">Mrchecker</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../../mrchecker/1.0/index.html">1.0</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../../../my-thai-star/1.0/index.html">My-thai-star</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../../my-thai-star/1.0/index.html">1.0</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../../../production-line/1.0/index.html">Production-line</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../../production-line/1.0/index.html">1.0</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../../../shop-floor/1.0/index.html">Shop-floor</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../../shop-floor/1.0/index.html">1.0</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../../../solicitor/1.0/index.html">Solicitor</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../../solicitor/1.0/index.html">1.0</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../../../sonar-devon4j-plugin/1.0/index.html">Sonar-devon4j-plugin</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../../sonar-devon4j-plugin/1.0/index.html">1.0</a>
        </li>
      </ul>
    </li>
  </ul>
</div>
    </div>
  </aside>
</div>
<main class="article">
<div class="toolbar" role="navigation">
<button class="nav-toggle"></button>
  <a href="../../index.html" class="home-link"></a>
<nav class="breadcrumbs" aria-label="breadcrumbs">
</nav>
  <div class="edit-this-page"><a href="https://github.com/marvdan/devonfw.github.io/edit/developAntoraGhPage/docs/modules/ROOT/pages/mrchecker.wiki/Migration/Migration-guide.adoc">Edit this Page</a></div>
  </div>
  <div class="content">
<aside class="toc sidebar" data-title="Contents" data-levels="2">
  <div class="toc-menu"></div>
</aside>
<article class="doc">
<div class="sect1">
<h2 id="_junit4_to_junit5_migration_guide"><a class="anchor" href="#_junit4_to_junit5_migration_guide"></a>Junit4 to Junit5 migration guide</h2>
<div class="sectionbody">
<div class="paragraph">
<p><strong>mrchecker-core-module version 5.6.2.1</strong> features the upgrade of Junit4 to Junit5. Consequently, the Junit4 features are now obsolete and current test projects require migration
in order to use the latest revision of MrChecker. This site provides guidance on the migration.</p>
</div>
<div class="paragraph">
<p>References:
Junit5 User Guide - <a href="https://junit.org/junit5/docs/current/user-guide/#overview" class="bare">https://junit.org/junit5/docs/current/user-guide/#overview</a></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_pom"><a class="anchor" href="#_pom"></a>POM</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The project <code>pom.xml</code> file needs to be adjusted in the first place. An exemplary POM file for download can be found here: <a href="https://github.com/devonfw/mrchecker/blob/develop/template/pom.xml" class="bare">https://github.com/devonfw/mrchecker/blob/develop/template/pom.xml</a></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_test_annotations"><a class="anchor" href="#_test_annotations"></a>Test Annotations</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Junit5 redefines annotations defining a test flow. The annotations need to be adjusted as per the following table.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../../_images/images/migration01.png" alt="migration01">
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_rule_classrule_testrule_and_testmethod"><a class="anchor" href="#_rule_classrule_testrule_and_testmethod"></a>Rule, ClassRule, TestRule and TestMethod</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Junit4 <code>@Rule</code> and <code>@ClassRule</code> annoations as well as <code>TestRule</code> and <code>TestMethod</code> interfaces have been replaced
with the Junit5 extension mechanism (<a href="https://junit.org/junit5/docs/current/user-guide/#extensions" class="bare">https://junit.org/junit5/docs/current/user-guide/#extensions</a>).
During the migration to Junit5, all the instances of the mentioned types need to be rewritten according to the Junit5 User Guide.
The extension mechanism is far more flexible than the Junit4 functionality based on rules.</p>
</div>
<div class="paragraph">
<p><strong>Note</strong>: as per Junit5 API spec: <code>ExpectedExceptionSupport, ExternalResourceSupport, VerifierSupport</code>
provide native support of the correspoinding Junit4 rules.</p>
</div>
<div class="paragraph">
<p>Extension registration example:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../../_images/images/migration02.png" alt="migration02">
</div>
</div>
<div class="imageblock">
<div class="content">
<img src="../../_images/images/migration_arrow_down.png" alt="migration arrow down">
</div>
</div>
<div class="imageblock">
<div class="content">
<img src="../../_images/images/migration03.png" alt="migration03">
</div>
</div>
<div class="paragraph">
<p>TestRule (<code>TestWatcher</code> and <code>ExternalResource</code>) to Extension (<code>TestWatcher</code> and <code>AfterAllCallback</code>) example:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../../_images/images/migration04.png" alt="migration04">
</div>
</div>
<div class="imageblock">
<div class="content">
<img src="../../_images/images/migration_arrow_down.png" alt="migration arrow down">
</div>
</div>
<div class="imageblock">
<div class="content">
<img src="../../_images/images/migration05.png" alt="migration05">
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_page_basepageautoregistration_and_pagefactory_classes"><a class="anchor" href="#_page_basepageautoregistration_and_pagefactory_classes"></a>Page, BasePageAutoRegistration and PageFactory classes</h2>
<div class="sectionbody">
<div class="paragraph">
<p><code>Page</code> class is a new MrChecker class. It was introduced to provide common implemenation for its subpages in specific MrChecker modules.
In order to receive test lifecycle notifications, particular <code>Pages</code> need to be registered by calling <code>addToTestExecutionObserver()</code> method.
To facilitate this process, <code>PageFactory</code> class was designed and it’s usage is a recommended way of creating <code>Page</code> objects for tests.
Although in MrChecker based on Junit4, the registration process was done in a specific <code>BasePage</code> constructor, it’s been considered error prone and reimplemented.
Furthermore, to reduce migration cost <code>BasePageAutoRegistration</code> classes are available in MrChceker modules. They use the old way of registration.
Given that three ways of migration are possible.</p>
</div>
<div class="paragraph">
<p>Migration with <code>PageFactory</code> class example <strong>(RECOMMENDED)</strong>:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../../_images/images/migration06.png" alt="migration06">
</div>
</div>
<div class="imageblock">
<div class="content">
<img src="../../_images/images/migration_arrow_down.png" alt="migration arrow down">
</div>
</div>
<div class="imageblock">
<div class="content">
<img src="../../_images/images/migration07.png" alt="migration07">
</div>
</div>
<div class="paragraph">
<p>Migration with calling <code>addToTestExecutionObserver()</code> method example:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../../_images/images/migration06.png" alt="migration06">
</div>
</div>
<div class="imageblock">
<div class="content">
<img src="../../_images/images/migration_arrow_down.png" alt="migration arrow down">
</div>
</div>
<div class="imageblock">
<div class="content">
<img src="../../_images/images/migration08.png" alt="migration08">
</div>
</div>
<div class="paragraph">
<p>Migration with <code>BasePageAutoRegistration</code> class example:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../../_images/images/migration09.png" alt="migration09">
</div>
</div>
<div class="imageblock">
<div class="content">
<img src="../../_images/images/migration_arrow_down.png" alt="migration arrow down">
</div>
</div>
<div class="imageblock">
<div class="content">
<img src="../../_images/images/migration10.png" alt="migration10">
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_test_suites"><a class="anchor" href="#_test_suites"></a>Test suites</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Test suite migration example:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../../_images/images/migration11.png" alt="migration11">
</div>
</div>
<div class="imageblock">
<div class="content">
<img src="../../_images/images/migration_arrow_down.png" alt="migration arrow down">
</div>
</div>
<div class="imageblock">
<div class="content">
<img src="../../_images/images/migration12.png" alt="migration12">
</div>
</div>
<div class="paragraph">
<p>Running tests from Maven:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../../_images/images/migration13.png" alt="migration13">
</div>
</div>
<div class="imageblock">
<div class="content">
<img src="../../_images/images/migration_arrow_down.png" alt="migration arrow down">
</div>
</div>
<div class="imageblock">
<div class="content">
<img src="../../_images/images/migration14.png" alt="migration14">
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_concurrency"><a class="anchor" href="#_concurrency"></a>Concurrency</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Junit5 provides native thread count and parallel execution control in contrast to Junit4 where it was controlled by Maven Surefire plugin.
To enable concurrent test execution, <code>junit-platform.properties</code> file needs to placed in the <code>test/resources</code> directory of a project.</p>
</div>
<div class="paragraph">
<p>Exemplary file contents:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../../_images/images/migration15.png" alt="migration15">
</div>
</div>
<div class="paragraph">
<p>A ready-to-use file can be found here.</p>
</div>
<div class="paragraph">
<p>MrChecker supports only concurrent test class execution.
<code>@ResourceLock</code> can be used to synchronize between classes if needed:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../../_images/images/migration16.png" alt="migration16">
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_cucumber"><a class="anchor" href="#_cucumber"></a>Cucumber</h2>
<div class="sectionbody">
<div class="paragraph">
<p>If Cucumber is used in a project, it is neccessary to change a hook class.
An exemplary hook source file for download can be found here.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_data_driven_tests"><a class="anchor" href="#_data_driven_tests"></a>Data driven tests</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Junit5 implements new approach to data driven tests by various data resolution mechanisms.</p>
</div>
<div class="paragraph">
<p>An example of method source parameters migration version one:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../../_images/images/migration17.png" alt="migration17">
</div>
</div>
<div class="imageblock">
<div class="content">
<img src="../../_images/images/migration_arrow_down.png" alt="migration arrow down">
</div>
</div>
<div class="imageblock">
<div class="content">
<img src="../../_images/images/migration18.png" alt="migration18">
</div>
</div>
<div class="paragraph">
<p>An example of method source parameters migration version two:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../../_images/images/migration17.png" alt="migration17">
</div>
</div>
<div class="imageblock">
<div class="content">
<img src="../../_images/images/migration_arrow_down.png" alt="migration arrow down">
</div>
</div>
<div class="imageblock">
<div class="content">
<img src="../../_images/images/migration19.png" alt="migration19">
</div>
</div>
<div class="paragraph">
<p>An example of method source in another class parameters migration:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../../_images/images/migration20.png" alt="migration20">
</div>
</div>
<div class="imageblock">
<div class="content">
<img src="../../_images/images/migration_arrow_down.png" alt="migration arrow down">
</div>
</div>
<div class="imageblock">
<div class="content">
<img src="../../_images/images/migration21.png" alt="migration21">
</div>
</div>
<div class="paragraph">
<p>Providing parameters directly in annotations has no analogy in Junit5 and needs to be replaced with e.g. method source:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../../_images/images/migration22.png" alt="migration22">
</div>
</div>
<div class="imageblock">
<div class="content">
<img src="../../_images/images/migration_arrow_down.png" alt="migration arrow down">
</div>
</div>
<div class="imageblock">
<div class="content">
<img src="../../_images/images/migration23.png" alt="migration23">
</div>
</div>
<div class="paragraph">
<p>An example of csv parameters source with no header line migration:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../../_images/images/migration24.png" alt="migration24">
</div>
</div>
<div class="imageblock">
<div class="content">
<img src="../../_images/images/migration_arrow_down.png" alt="migration arrow down">
</div>
</div>
<div class="imageblock">
<div class="content">
<img src="../../_images/images/migration25.png" alt="migration25">
</div>
</div>
<div class="paragraph">
<p>An example of csv parameters source with the header line migration:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../../_images/images/migration26.png" alt="migration26">
</div>
</div>
<div class="imageblock">
<div class="content">
<img src="../../_images/images/migration_arrow_down.png" alt="migration arrow down">
</div>
</div>
<div class="imageblock">
<div class="content">
<img src="../../_images/images/migration27.png" alt="migration27">
</div>
</div>
<div class="paragraph">
<p>An example of csv parameters source with object mapping migration step1:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../../_images/images/migration28.png" alt="migration28">
</div>
</div>
<div class="imageblock">
<div class="content">
<img src="../../_images/images/migration_arrow_down.png" alt="migration arrow down">
</div>
</div>
<div class="imageblock">
<div class="content">
<img src="../../_images/images/migration29.png" alt="migration29">
</div>
</div>
<div class="paragraph">
<p>An example of csv parameters source with object mapping migration step 2:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../../_images/images/migration30.png" alt="migration30">
</div>
</div>
<div class="imageblock">
<div class="content">
<img src="../../_images/images/migration_arrow_down.png" alt="migration arrow down">
</div>
</div>
<div class="imageblock">
<div class="content">
<img src="../../_images/images/migration31.png" alt="migration31">
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_setup_and_teardown"><a class="anchor" href="#_setup_and_teardown"></a>setUp() and tearDown()</h2>
<div class="sectionbody">
<div class="paragraph">
<p><code>BaseTest.setUp()</code> and <code>BaseTest.tearDown()</code> methods are now not abstract and need no implementation in subclasses. <code>@Override</code> when a custom implemenatation is needed.</p>
</div>
</div>
</div>
</article>
  </div>
</main>
</div>
<footer class="footer">
  <p>This page was built using the Antora default UI.</p>
  <p>The source code for this UI is licensed under the terms of the MPL-2.0 license.</p>
</footer>
<script src="../../../../_/js/site.js"></script>
<script async src="../../../../_/js/vendor/highlight.js"></script>
  </body>
</html>
