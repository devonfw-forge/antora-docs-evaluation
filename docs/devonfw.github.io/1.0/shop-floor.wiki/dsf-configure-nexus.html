<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Untitled :: Devonfw.github.io Docs</title>
    <meta name="generator" content="Antora 2.3.4">
    <link rel="stylesheet" href="../../../_/css/site.css">
    <script>var uiRootPath = '../../../_'</script>
  </head>
  <body class="article">
<header class="header">
  <nav class="navbar">
    <div class="navbar-brand">
      <a class="navbar-item" href="../../..">Devonfw.github.io Docs</a>
      <button class="navbar-burger" data-target="topbar-nav">
        <span></span>
        <span></span>
        <span></span>
      </button>
    </div>
    <div id="topbar-nav" class="navbar-menu">
      <div class="navbar-end">
        <a class="navbar-item" href="#">Home</a>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Products</a>
          <div class="navbar-dropdown">
            <a class="navbar-item" href="#">Product A</a>
            <a class="navbar-item" href="#">Product B</a>
            <a class="navbar-item" href="#">Product C</a>
          </div>
        </div>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Services</a>
          <div class="navbar-dropdown">
            <a class="navbar-item" href="#">Service A</a>
            <a class="navbar-item" href="#">Service B</a>
            <a class="navbar-item" href="#">Service C</a>
          </div>
        </div>
        <div class="navbar-item">
          <span class="control">
            <a class="button is-primary" href="#">Download</a>
          </span>
        </div>
      </div>
    </div>
  </nav>
</header>
<div class="body">
<div class="nav-container" data-component="devonfw.github.io" data-version="1.0">
  <aside class="nav">
    <div class="panels">
<div class="nav-panel-explore is-active" data-panel="explore">
  <div class="context">
    <span class="title">devonfw.github.io</span>
    <span class="version">1.0</span>
  </div>
  <ul class="components">
    <li class="component">
      <a class="title" href="../../../architecture-guidelines/1.0/index.html">Architecture-guidelines</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../architecture-guidelines/1.0/index.html">1.0</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../../cicdgen/1.0/index.html">Cicdgen</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../cicdgen/1.0/index.html">1.0</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../../cobigen/1.0/index.html">Cobigen</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../cobigen/1.0/index.html">1.0</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../../dashboard/1.0/index.html">Dashboard</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../dashboard/1.0/index.html">1.0</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../../devon4j/1.0/index.html">Devon4j</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../devon4j/1.0/index.html">1.0</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../../devon4net/1.0/index.html">Devon4net</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../devon4net/1.0/index.html">1.0</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../../devon4ng/1.0/index.html">Devon4ng</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../devon4ng/1.0/index.html">1.0</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../../devon4node/1.0/index.html">Devon4node</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../devon4node/1.0/index.html">1.0</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../../devon4quarkus/1.0/index.html">Devon4quarkus</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../devon4quarkus/1.0/index.html">1.0</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../../devon4ts/1.0/index.html">Devon4ts</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../devon4ts/1.0/index.html">1.0</a>
        </li>
      </ul>
    </li>
    <li class="component is-current">
      <a class="title" href="../index.html">devonfw.github.io</a>
      <ul class="versions">
        <li class="version is-current is-latest">
          <a href="../index.html">1.0</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../../getting-started/1.0/index.html">Getting-started</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../getting-started/1.0/index.html">1.0</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../../github/1.0/index.html">Github</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../github/1.0/index.html">1.0</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../../hangar/1.0/index.html">Hangar</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../hangar/1.0/index.html">1.0</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../../ide/1.0/index.html">IDE</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../ide/1.0/index.html">1.0</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../../jump-the-queue/1.0/index.html">Jump-the-queue</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../jump-the-queue/1.0/index.html">1.0</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../../mrchecker/1.0/index.html">Mrchecker</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../mrchecker/1.0/index.html">1.0</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../../my-thai-star/1.0/index.html">My-thai-star</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../my-thai-star/1.0/index.html">1.0</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../../production-line/1.0/index.html">Production-line</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../production-line/1.0/index.html">1.0</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../../shop-floor/1.0/index.html">Shop-floor</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../shop-floor/1.0/index.html">1.0</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../../solicitor/1.0/index.html">Solicitor</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../solicitor/1.0/index.html">1.0</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../../sonar-devon4j-plugin/1.0/index.html">Sonar-devon4j-plugin</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../sonar-devon4j-plugin/1.0/index.html">1.0</a>
        </li>
      </ul>
    </li>
  </ul>
</div>
    </div>
  </aside>
</div>
<main class="article">
<div class="toolbar" role="navigation">
<button class="nav-toggle"></button>
  <a href="../index.html" class="home-link"></a>
<nav class="breadcrumbs" aria-label="breadcrumbs">
</nav>
  <div class="edit-this-page"><a href="https://github.com/marvdan/devonfw.github.io/edit/developAntoraGhPage/docs/modules/ROOT/pages/shop-floor.wiki/dsf-configure-nexus.adoc">Edit this Page</a></div>
  </div>
  <div class="content">
<aside class="toc sidebar" data-title="Contents" data-levels="2">
  <div class="toc-menu"></div>
</aside>
<article class="doc">
<div class="sect1">
<h2 id="_nexus_configuration"><a class="anchor" href="#_nexus_configuration"></a>Nexus Configuration</h2>
<div class="sectionbody">
<div class="paragraph">
<p>In this document you will see how you can configure Nexus repository and how to integrate it with jenkins.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_login_in_nexus"><a class="anchor" href="#_login_in_nexus"></a>Login in Nexus</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The first time you enter in Nexus you need to log in with the user 'admin' and the password that is inside the path: /volumes/nexus/nexus-data
Then you can change that password and create a new one.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_prerequisites"><a class="anchor" href="#_prerequisites"></a>Prerequisites</h2>
<div class="sectionbody">

</div>
</div>
<div class="sect1">
<h2 id="_repositories"><a class="anchor" href="#_repositories"></a>Repositories</h2>
<div class="sectionbody">
<div class="paragraph">
<p>You need to have one repository for snapshots, another for releases and another one for release-candidates. Normally you use maven2 (hosted) repositories and if you are going to use a docker registry, you need docker (hosted) too.</p>
</div>
<div class="paragraph">
<p>To create a repository in Nexus go to the administration clicking on the gear icon at top menu bar. Then on the left menu click on Repositories and press the <strong><em>Create repository</em></strong> button.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../_images/images/configuration/nexus-create-repository.png" alt="nexus create repository">
</div>
</div>
<div class="paragraph">
<p>Now you must choose the type of the repository and configure it. This is an example for Snapshot:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../_images/images/configuration/nexus-create-repository-form.png" alt="nexus create repository form">
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_create_user_to_uploaddownload_content"><a class="anchor" href="#_create_user_to_uploaddownload_content"></a>Create user to upload/download content</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Once you have the repositories, you need a user to upload/download content. To do it go to the administration clicking on the gear icon at top menu bar. Then on the left menu click on Users and press the <strong><em>Create local</em></strong> user button.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../_images/images/configuration/nexus-create-user.png" alt="nexus create user">
</div>
</div>
<div class="paragraph">
<p>Now you need to fill a form like this:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../_images/images/configuration/nexus-create-user-form.png" alt="nexus create user form">
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_jenkins_integration"><a class="anchor" href="#_jenkins_integration"></a>Jenkins integration</h2>
<div class="sectionbody">
<div class="paragraph">
<p>To use Nexus in our pipelines you need to configure Jenkins.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_customize_jenkins"><a class="anchor" href="#_customize_jenkins"></a>Customize jenkins</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The first time you enter jenkins, you are asked fot the pluggins to be installed.
We select  <em>install suggested plugins</em> and later we can add the plugins that we need depending on the project necessities.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../_images/images/configuration/plugins-jenkins.png" alt="plugins jenkins">
</div>
</div>
<div class="paragraph">
<p>Then we need to create our first admin user, we can do it like this:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../_images/images/configuration/jenkins-first-admin-user.png" alt="jenkins first admin user">
</div>
</div>
<div class="paragraph">
<p>The next step is the jenkins URL:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../_images/images/configuration/jenkins-url.png" alt="jenkins url">
</div>
</div>
<div class="paragraph">
<p>Your jenkins setup is ready!</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_add_nexus_user_credentials"><a class="anchor" href="#_add_nexus_user_credentials"></a>Add nexus user credentials</h2>
<div class="sectionbody">
<div class="paragraph">
<p>First of all you need to add the user created in the step before to Jenkins. To do it (on the left menu) click on Credentials, then on System. Now you could access to <strong><em>Global credentials (unrestricted)</em></strong>.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../_images/images/configuration/nexus-jenkins-credentials.png" alt="nexus jenkins credentials">
</div>
</div>
<div class="paragraph">
<p>Enter on it and you could see a button on the left to <strong><em>Add credentials</em></strong>. Click on it and fill a form like this:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../_images/images/configuration/nexus-jenkins-credentials-form.png" alt="nexus jenkins credentials form">
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_add_the_nexus_user_to_maven_global_settings"><a class="anchor" href="#_add_the_nexus_user_to_maven_global_settings"></a>Add the nexus user to maven global settings</h2>
<div class="sectionbody">
<div class="paragraph">
<p>In order to do this, you will need the <strong>Config File Provider</strong> plugin so we need to download it.Go to Jenkins&#8594;Manage jenkins&#8594;Manage plugins and "<em>available</em>" tab and search for it:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../_images/images/configuration/jenkins-config-fp.png" alt="jenkins config fp">
</div>
</div>
<div class="paragraph">
<p>Click on "Download now and install after restart".</p>
</div>
<div class="paragraph">
<p>Now you need to go to Manage Jenkins clicking on left menu and enter in <strong><em>Managed files</em></strong>.</p>
</div>
<div class="paragraph">
<p>Click on <strong>Add a new config/Global Maven settings.xml</strong>, change the id for a new one more readable:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../_images/images/configuration/jenkins-maven-settings.png" alt="jenkins maven settings">
</div>
</div>
<div class="paragraph">
<p>Then click on <strong>"Submit"</strong></p>
</div>
<div class="imageblock">
<div class="content">
<img src="../_images/images/configuration/jenkins-global-maven.png" alt="jenkins global maven">
</div>
</div>
<div class="paragraph">
<p>Edit the Global Maven settings.xml to add your nexus repositories credentials(the ones you created before) as you could see in the next image:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../_images/images/configuration/nexus-jenkins-global-maven-form.png" alt="nexus jenkins global maven form">
</div>
</div>
<div class="paragraph">
<p>And you are done.</p>
</div>
</div>
</div>
</article>
  </div>
</main>
</div>
<footer class="footer">
  <p>This page was built using the Antora default UI.</p>
  <p>The source code for this UI is licensed under the terms of the MPL-2.0 license.</p>
</footer>
<script src="../../../_/js/site.js"></script>
<script async src="../../../_/js/vendor/highlight.js"></script>
  </body>
</html>
