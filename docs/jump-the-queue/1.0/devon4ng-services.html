<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Untitled :: Devonfw.github.io Docs</title>
    <meta name="generator" content="Antora 2.3.4">
    <link rel="stylesheet" href="../../_/css/site.css">
    <script>var uiRootPath = '../../_'</script>
  </head>
  <body class="article">
<header class="header">
  <nav class="navbar">
    <div class="navbar-brand">
      <a class="navbar-item" href="../..">Devonfw.github.io Docs</a>
      <button class="navbar-burger" data-target="topbar-nav">
        <span></span>
        <span></span>
        <span></span>
      </button>
    </div>
    <div id="topbar-nav" class="navbar-menu">
      <div class="navbar-end">
        <a class="navbar-item" href="#">Home</a>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Products</a>
          <div class="navbar-dropdown">
            <a class="navbar-item" href="#">Product A</a>
            <a class="navbar-item" href="#">Product B</a>
            <a class="navbar-item" href="#">Product C</a>
          </div>
        </div>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Services</a>
          <div class="navbar-dropdown">
            <a class="navbar-item" href="#">Service A</a>
            <a class="navbar-item" href="#">Service B</a>
            <a class="navbar-item" href="#">Service C</a>
          </div>
        </div>
        <div class="navbar-item">
          <span class="control">
            <a class="button is-primary" href="#">Download</a>
          </span>
        </div>
      </div>
    </div>
  </nav>
</header>
<div class="body">
<div class="nav-container" data-component="jump-the-queue" data-version="1.0">
  <aside class="nav">
    <div class="panels">
<div class="nav-panel-explore is-active" data-panel="explore">
  <div class="context">
    <span class="title">Jump-the-queue</span>
    <span class="version">1.0</span>
  </div>
  <ul class="components">
    <li class="component">
      <a class="title" href="../../architecture-guidelines/1.0/index.html">Architecture-guidelines</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../architecture-guidelines/1.0/index.html">1.0</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../cicdgen/1.0/index.html">Cicdgen</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../cicdgen/1.0/index.html">1.0</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../cobigen/1.0/index.html">Cobigen</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../cobigen/1.0/index.html">1.0</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../dashboard/1.0/index.html">Dashboard</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../dashboard/1.0/index.html">1.0</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../devon4j/1.0/index.html">Devon4j</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../devon4j/1.0/index.html">1.0</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../devon4net/1.0/index.html">Devon4net</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../devon4net/1.0/index.html">1.0</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../devon4ng/1.0/index.html">Devon4ng</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../devon4ng/1.0/index.html">1.0</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../devon4node/1.0/index.html">Devon4node</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../devon4node/1.0/index.html">1.0</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../devon4quarkus/1.0/index.html">Devon4quarkus</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../devon4quarkus/1.0/index.html">1.0</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../devon4ts/1.0/index.html">Devon4ts</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../devon4ts/1.0/index.html">1.0</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../devonfw.github.io/1.0/index.html">devonfw.github.io</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../devonfw.github.io/1.0/index.html">1.0</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../getting-started/1.0/index.html">Getting-started</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../getting-started/1.0/index.html">1.0</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../github/1.0/index.html">Github</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../github/1.0/index.html">1.0</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../hangar/1.0/index.html">Hangar</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../hangar/1.0/index.html">1.0</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../ide/1.0/index.html">IDE</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../ide/1.0/index.html">1.0</a>
        </li>
      </ul>
    </li>
    <li class="component is-current">
      <a class="title" href="index.html">Jump-the-queue</a>
      <ul class="versions">
        <li class="version is-current is-latest">
          <a href="index.html">1.0</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../mrchecker/1.0/index.html">Mrchecker</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../mrchecker/1.0/index.html">1.0</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../my-thai-star/1.0/index.html">My-thai-star</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../my-thai-star/1.0/index.html">1.0</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../production-line/1.0/index.html">Production-line</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../production-line/1.0/index.html">1.0</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../shop-floor/1.0/index.html">Shop-floor</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../shop-floor/1.0/index.html">1.0</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../solicitor/1.0/index.html">Solicitor</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../solicitor/1.0/index.html">1.0</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../sonar-devon4j-plugin/1.0/index.html">Sonar-devon4j-plugin</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../sonar-devon4j-plugin/1.0/index.html">1.0</a>
        </li>
      </ul>
    </li>
  </ul>
</div>
    </div>
  </aside>
</div>
<main class="article">
<div class="toolbar" role="navigation">
<button class="nav-toggle"></button>
  <a href="../../devonfw.github.io/1.0/index.html" class="home-link"></a>
<nav class="breadcrumbs" aria-label="breadcrumbs">
</nav>
  <div class="edit-this-page"><a href="https://github.com/MarvDan/jump-the-queue/edit/master/modules/ROOT/pages/devon4ng-services.adoc">Edit this Page</a></div>
  </div>
  <div class="content">
<aside class="toc sidebar" data-title="Contents" data-levels="2">
  <div class="toc-menu"></div>
</aside>
<article class="doc">
<div id="toc" class="toc">
<div id="toctitle" class="title">Table of Contents</div>
<ul class="sectlevel1">
<li><a href="#angular-services">Angular Services</a></li>
<li><a href="#what-are-angular-services">What are Angular Services?</a></li>
<li><a href="#dependency-injection">Dependency Injection</a></li>
<li><a href="#create-a-new-service">Create a new Service</a></li>
<li><a href="#authentication">Authentication</a></li>
<li><a href="#guards">Guards</a></li>
<li><a href="#server-communication">Server Communication</a></li>
</ul>
</div>
<div class="sect1">
<h2 id="angular-services"><a class="anchor" href="#angular-services"></a>Angular Services</h2>
<div class="sectionbody">
<div class="paragraph">
<p>In this chapter we are going to take a closer look at Angular services and learn how to utilize them.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="what-are-angular-services"><a class="anchor" href="#what-are-angular-services"></a>What are Angular Services?</h2>
<div class="sectionbody">
<div class="paragraph">
<p>From <a href="https://angular.io/guide/architecture-services">Angular&#8217;s Services Intro</a>:</p>
</div>
<div class="quoteblock">
<blockquote>
<div class="paragraph">
<p>Service is a broad category encompassing any value, function, or feature that your application needs.</p>
</div>
<div class="paragraph">
<p>Almost anything can be a service. A service is typically a class with a narrow, well-defined purpose. It should do something specific and do it well.</p>
</div>
<div class="paragraph">
<p>There is nothing specifically Angular about services. Angular has no definition of a service. There is no service base class, and no place to register a service.</p>
</div>
<div class="paragraph">
<p>Yet services are fundamental to any Angular application. Components are big consumers of services.</p>
</div>
</blockquote>
</div>
<div class="paragraph">
<p>Services are often created in a shared folder, with the purpose of containing all the logic of a component or a complex type of operation. For example, in the case of MyThaiStar, all components which call the server, or have methods with more complex logic, have their own service that implements them. There are also services, which&#8201;&#8212;&#8201;instead of being used by just one component&#8201;&#8212;&#8201;are used several times throughout the code, in many components, like the price calculator for example.</p>
</div>
<div class="paragraph">
<p>Just like components, services have to be declared as a <code>NgModule</code>. In this case via the <code>providers</code> array.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="dependency-injection"><a class="anchor" href="#dependency-injection"></a>Dependency Injection</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The <a href="https://angular.io/guide/architecture#dependency-injection">Angular Architecture Documentation</a> says the following about DI:</p>
</div>
<div class="quoteblock">
<blockquote>
<div class="paragraph">
<p>Dependency injection is a way to supply a new instance of a class with the fully-formed dependencies it requires. Most dependencies are services. Angular uses dependency injection to provide new components with the services they need.</p>
</div>
<div class="paragraph">
<p>When Angular creates a component, it first asks an injector for the services that the component requires.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="_images/images/devon4ng/5.Angular_Services/injector.png" alt="Angular Injector">
</div>
</div>
<div class="paragraph">
<p>An injector maintains a container of service instances that it has previously created. If a requested service instance is not in the container, the injector makes one and adds it to the container before returning the service to Angular. When all requested services have been resolved and returned, Angular can call the component&#8217;s constructor with those services as arguments. This is dependency injection.</p>
</div>
</blockquote>
</div>
<div class="paragraph">
<p>For more information, please visit the <a href="https://angular.io/guide/dependency-injection">Angular Dependency Injection</a> guide.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="create-a-new-service"><a class="anchor" href="#create-a-new-service"></a>Create a new Service</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Security or other global services will be stored in a shared folder, at the same level as the rest of the components. Services that are specific to a certain component, will be stored in a folder for the respective component. We can specify the path to a service when creating it with the Angular CLI:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code>ng generate service &lt;path&gt;/&lt;service_name&gt;</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="authentication"><a class="anchor" href="#authentication"></a>Authentication</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Authentication is a special service created to maintain user sessions in the application. In the case of our tutorial application it serves as an indicator of the log-in state and stores the name of the user, but it can be extended to store tokens, validate permissions of roles, and so on.</p>
</div>
<div class="paragraph">
<p>Basically, the objective of this service is to manage, what the user can or can not see, depending on their actions in the application.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="guards"><a class="anchor" href="#guards"></a>Guards</h2>
<div class="sectionbody">
<div class="paragraph">
<p><a href="https://angular.io/guide/router#milestone-5-route-guards">Guards</a> are services, that implement an interface called <code><strong>CanActivate</strong></code>. This interface forces developers to implement the <code>canActivate</code> method, which returns a simple <code>boolean</code>. Is up to you to decide, what conditions you are going to implement, to forbid or allow the navigation to a certain component.</p>
</div>
<div class="paragraph">
<p>Guards are strongly related to the Router, because routes can carry the property <code>canActivate:[GuardServiceName]</code>. You can create as many Guards as you want, to secure every single component of your app, just as you require.</p>
</div>
<div class="paragraph">
<p>If your application will have a login process, or special areas not accessible to everyone, we encourage you to use Guards, because even if you hide a navigation-button, the user can still modify the URL in the browser to access a component. With Guards in place, this type of navigation will be forbidden, and you app will not be compromised easily.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="server-communication"><a class="anchor" href="#server-communication"></a>Server Communication</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Angular uses <a href="https://angular.io/guide/http#http">HTTP</a> to communicate with the application server, but the return call is implemented via an object from the <a href="https://rxjs-dev.firebaseapp.com/guide/overview">RxJS</a> library. RxJS is a third party library, endorsed by Angular, and used to manage asynchronous calls based on the <a href="https://en.wikipedia.org/wiki/Observer_pattern">Observer pattern</a>.</p>
</div>
<div class="paragraph">
<p>You don&#8217;t need to install the RxJS package manually, it comes preinstalled when you create a project via the Angular CLI. You just have to import the correct operators and modules to use it correctly.</p>
</div>
<div class="paragraph">
<p>Observables work as follows:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>First you make a HTTP call to your server URL, calling for a service. The server will return an Observable that you can work with, using methods that you can find in the API. The most common method is <code>.map</code>, which is used to convert the server response object to JSON. This way you have easy access to any data the server sends to you.</p>
</li>
<li>
<p>When implemented, all operators/methods of the Observable should return the whole Observable, so the component that consumes the service can subscribe to this method and obtain the data.</p>
</li>
<li>
<p>A component calls the <code>subscribe</code> service function, to obtain an Observable object. The <code>subscribe</code> function accepts up to three parameters:</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>A function, that executes while everything is going right. It sends a value such as a number, a string, an object, etc. It can be called multiple times, while the Observable is active.</p>
</li>
<li>
<p>A function, that executes only once if something fails. It sends a JavaScript error or exception.</p>
</li>
<li>
<p>An event, that triggers only once, when the Observable becomes inactive.</p>
</li>
</ol>
</div>
</li>
</ol>
</div>
<div class="paragraph">
<p>This is the common workflow with Observables. It takes into account, that if you put some code after the <code>subscribe</code>, it will probably be executed before the subscription ends. If you need something to be executed after the subscribe function, you should put it inside of the subscription.</p>
</div>
<div class="paragraph">
<p>You can find out more about RxJS and Observables on <a href="https://angular.io/guide/observables">Angular&#8217;s Observables</a> page.</p>
</div>
<hr>
<div class="paragraph">
<p><strong>Next Chapter</strong>: <a href="build-devon4ng-application">Build your own devon4ng Application</a></p>
</div>
</div>
</div>
</article>
  </div>
</main>
</div>
<footer class="footer">
  <p>This page was built using the Antora default UI.</p>
  <p>The source code for this UI is licensed under the terms of the MPL-2.0 license.</p>
</footer>
<script src="../../_/js/site.js"></script>
<script async src="../../_/js/vendor/highlight.js"></script>
  </body>
</html>
