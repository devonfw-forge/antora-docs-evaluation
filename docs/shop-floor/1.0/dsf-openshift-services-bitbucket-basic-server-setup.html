<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Untitled :: Devonfw.github.io Docs</title>
    <meta name="generator" content="Antora 2.3.4">
    <link rel="stylesheet" href="../../_/css/site.css">
    <script>var uiRootPath = '../../_'</script>
  </head>
  <body class="article">
<header class="header">
  <nav class="navbar">
    <div class="navbar-brand">
      <a class="navbar-item" href="../..">Devonfw.github.io Docs</a>
      <button class="navbar-burger" data-target="topbar-nav">
        <span></span>
        <span></span>
        <span></span>
      </button>
    </div>
    <div id="topbar-nav" class="navbar-menu">
      <div class="navbar-end">
        <a class="navbar-item" href="#">Home</a>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Products</a>
          <div class="navbar-dropdown">
            <a class="navbar-item" href="#">Product A</a>
            <a class="navbar-item" href="#">Product B</a>
            <a class="navbar-item" href="#">Product C</a>
          </div>
        </div>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Services</a>
          <div class="navbar-dropdown">
            <a class="navbar-item" href="#">Service A</a>
            <a class="navbar-item" href="#">Service B</a>
            <a class="navbar-item" href="#">Service C</a>
          </div>
        </div>
        <div class="navbar-item">
          <span class="control">
            <a class="button is-primary" href="#">Download</a>
          </span>
        </div>
      </div>
    </div>
  </nav>
</header>
<div class="body">
<div class="nav-container" data-component="shop-floor" data-version="1.0">
  <aside class="nav">
    <div class="panels">
<div class="nav-panel-explore is-active" data-panel="explore">
  <div class="context">
    <span class="title">Shop-floor</span>
    <span class="version">1.0</span>
  </div>
  <ul class="components">
    <li class="component">
      <a class="title" href="../../architecture-guidelines/1.0/index.html">Architecture-guidelines</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../architecture-guidelines/1.0/index.html">1.0</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../cicdgen/1.0/index.html">Cicdgen</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../cicdgen/1.0/index.html">1.0</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../cobigen/1.0/index.html">Cobigen</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../cobigen/1.0/index.html">1.0</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../dashboard/1.0/index.html">Dashboard</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../dashboard/1.0/index.html">1.0</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../devon4j/1.0/index.html">Devon4j</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../devon4j/1.0/index.html">1.0</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../devon4net/1.0/index.html">Devon4net</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../devon4net/1.0/index.html">1.0</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../devon4ng/1.0/index.html">Devon4ng</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../devon4ng/1.0/index.html">1.0</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../devon4node/1.0/index.html">Devon4node</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../devon4node/1.0/index.html">1.0</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../devon4quarkus/1.0/index.html">Devon4quarkus</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../devon4quarkus/1.0/index.html">1.0</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../devon4ts/1.0/index.html">Devon4ts</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../devon4ts/1.0/index.html">1.0</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../devonfw.github.io/1.0/index.html">devonfw.github.io</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../devonfw.github.io/1.0/index.html">1.0</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../getting-started/1.0/index.html">Getting-started</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../getting-started/1.0/index.html">1.0</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../github/1.0/index.html">Github</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../github/1.0/index.html">1.0</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../hangar/1.0/index.html">Hangar</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../hangar/1.0/index.html">1.0</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../ide/1.0/index.html">IDE</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../ide/1.0/index.html">1.0</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../jump-the-queue/1.0/index.html">Jump-the-queue</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../jump-the-queue/1.0/index.html">1.0</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../mrchecker/1.0/index.html">Mrchecker</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../mrchecker/1.0/index.html">1.0</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../my-thai-star/1.0/index.html">My-thai-star</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../my-thai-star/1.0/index.html">1.0</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../production-line/1.0/index.html">Production-line</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../production-line/1.0/index.html">1.0</a>
        </li>
      </ul>
    </li>
    <li class="component is-current">
      <a class="title" href="index.html">Shop-floor</a>
      <ul class="versions">
        <li class="version is-current is-latest">
          <a href="index.html">1.0</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../solicitor/1.0/index.html">Solicitor</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../solicitor/1.0/index.html">1.0</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../sonar-devon4j-plugin/1.0/index.html">Sonar-devon4j-plugin</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../sonar-devon4j-plugin/1.0/index.html">1.0</a>
        </li>
      </ul>
    </li>
  </ul>
</div>
    </div>
  </aside>
</div>
<main class="article">
<div class="toolbar" role="navigation">
<button class="nav-toggle"></button>
  <a href="../../devonfw.github.io/1.0/index.html" class="home-link"></a>
<nav class="breadcrumbs" aria-label="breadcrumbs">
</nav>
  <div class="edit-this-page"><a href="https://github.com/MarvDan/shop-floor/edit/develop/modules/ROOT/pages/dsf-openshift-services-bitbucket-basic-server-setup.adoc">Edit this Page</a></div>
  </div>
  <div class="content">
<aside class="toc sidebar" data-title="Contents" data-levels="2">
  <div class="toc-menu"></div>
</aside>
<article class="doc">
<div class="paragraph">
<p><em>[Under construction]</em></p>
</div>
<hr>
<div class="paragraph">
<p>The purpose of the present document is to provide the basic steps carried out to setup a BitBucket server in OpenShift.</p>
</div>
<div class="sect1">
<h2 id="_introduction"><a class="anchor" href="#_introduction"></a>Introduction</h2>
<div class="sectionbody">
<div class="paragraph">
<p>BitBucket is the Atlassian tool that extends the Git functionality, by adding integration with JIRA, Confluence, or Trello, as well as incorporates extra features for security or management of user accounts (See <a href="https://www.atlassian.com/software/bitbucket/features">BitBucket</a>).</p>
</div>
<div class="paragraph">
<p>BitBucket server is the Atlassian tool that runs the BitBucket services (See <a href="https://www.atlassian.com/software/bitbucket/server">BitBucket server</a>).</p>
</div>
<div class="paragraph">
<p>The followed approach has been not using command line, but OpenShift Web Console, by deploying the Docker image <strong>atlassian/bitbucket-server</strong> (available in <a href="https://hub.docker.com/r/atlassian/bitbucket-server/">Docker Hub</a>) in the existing project <strong>Deployment</strong>.</p>
</div>
<div class="paragraph">
<p>The procedure below exposed consists basically in three main steps:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Deploy the BitBucket server image (from OpenShift web console)</p>
</li>
<li>
<p>Add a route for the external traffic (from OpenShift web console)</p>
</li>
<li>
<p>Configure the BitBucket server (from BitBucket server web console)</p>
</li>
</ol>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_prerequisites"><a class="anchor" href="#_prerequisites"></a>Prerequisites</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p>OpenShift up &amp; running</p>
</li>
<li>
<p>Atlassian account (with personal account key). Not required for OpenShift, but for the initial BitBucket server configuration.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_procedure"><a class="anchor" href="#_procedure"></a>Procedure</h2>
<div class="sectionbody">

</div>
</div>
<div class="sect1">
<h2 id="_step_0_log_into_our_openshift_web_console"><a class="anchor" href="#_step_0_log_into_our_openshift_web_console"></a>Step 0: Log into our <a href="https://10.68.26.163:8443/console/logout">OpenShift Web console</a></h2>
<div class="sectionbody">
<div class="imageblock">
<div class="content">
<img src="_images/images/others/bitbucket/step0.png" alt="step0">
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_step_1_get_into_development_project"><a class="anchor" href="#_step_1_get_into_development_project"></a>Step 1: Get into Development project</h2>
<div class="sectionbody">
<div class="imageblock">
<div class="content">
<img src="_images/images/others/bitbucket/step1.png" alt="]">
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_step_2_1_deploy_a_new_image_to_the_project"><a class="anchor" href="#_step_2_1_deploy_a_new_image_to_the_project"></a>Step 2.1: Deploy a new image to the project</h2>
<div class="sectionbody">
<div class="imageblock">
<div class="content">
<img src="_images/images/others/bitbucket/step2.1.png" alt="step2.1">
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_step_2_2_introduce_the_image_name_available_in_docker_hub_and_search"><a class="anchor" href="#_step_2_2_introduce_the_image_name_available_in_docker_hub_and_search"></a>Step 2.2: Introduce the image name (available in <a href="https://hub.docker.com/r/atlassian/bitbucket-server/">Docker Hub</a>) and search</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Image name: <strong>atlassian/bitbucket-server</strong></p>
</div>
<div class="imageblock">
<div class="content">
<img src="_images/images/others/bitbucket/step2.2.png" alt="step2.2">
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_step_2_3_leave_by_the_moment_the_default_config_since_it_is_enough_for_the_basic_setup_press_create"><a class="anchor" href="#_step_2_3_leave_by_the_moment_the_default_config_since_it_is_enough_for_the_basic_setup_press_create"></a>Step 2.3: Leave by the moment the default config. since it is enough for the basic setup. Press Create</h2>
<div class="sectionbody">
<div class="imageblock">
<div class="content">
<img src="_images/images/others/bitbucket/step2.3.png" alt="step2.3">
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_step_2_4_copy_the_oc_commands_in_case_it_is_required_to_work_via_command_line_and_go_to_overview"><a class="anchor" href="#_step_2_4_copy_the_oc_commands_in_case_it_is_required_to_work_via_command_line_and_go_to_overview"></a>Step 2.4: Copy the oc commands in case it is required to work via command line, and Go to overview</h2>
<div class="sectionbody">
<div class="imageblock">
<div class="content">
<img src="_images/images/others/bitbucket/step2.4.png" alt="step2.4">
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_step_2_5_wait_until_openshift_deploys_and_starts_up_the_image_all_the_info_will_be_available"><a class="anchor" href="#_step_2_5_wait_until_openshift_deploys_and_starts_up_the_image_all_the_info_will_be_available"></a>Step 2.5: Wait until OpenShift deploys and starts up the image. All the info will be available.</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Please notice that there are no pre-configured routes, hence the application is not accessible from outside the cluster.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="_images/images/others/bitbucket/step2.5.png" alt="step2.5">
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_step_3_create_a_route_in_order_for_the_application_to_be_accessible_from_outside_the_cluster_external_traffic_press_create"><a class="anchor" href="#_step_3_create_a_route_in_order_for_the_application_to_be_accessible_from_outside_the_cluster_external_traffic_press_create"></a>Step 3: Create a route in order for the application to be accessible from outside the cluster (external traffic). Press Create</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Please notice that there are different fields that can be specified (hostname, port). If required, the value of those fields can be modified later.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="_images/images/others/bitbucket/step3a.png" alt="step3a">
</div>
</div>
<div class="paragraph">
<p>Leave by the moment the default config. as it is enough for the basic setup.</p>
</div>
<div class="paragraph">
<p>The route for external traffic is now available.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="_images/images/others/bitbucket/step3b.png" alt="step3b">
</div>
</div>
<hr>
<div class="paragraph">
<p>Now the BitBucker server container is up &amp; running in our cluster.</p>
</div>
<div class="paragraph">
<p>The below steps correspond to the basic configuration of our BitBucket server.</p>
</div>
<hr>
</div>
</div>
<div class="sect1">
<h2 id="_step_4_1_click_on_the_link_of_the_external_traffic_route_this_will_open_our_bitbucket_server_setup_wizard"><a class="anchor" href="#_step_4_1_click_on_the_link_of_the_external_traffic_route_this_will_open_our_bitbucket_server_setup_wizard"></a>Step 4.1: Click on the link of the external traffic route. This will open our BitBucket server setup wizard</h2>
<div class="sectionbody">

</div>
</div>
<div class="sect1">
<h2 id="_step_4_2_leave_by_the_moment_the_internal_database_since_it_is_enough_for_the_basic_setup_and_it_can_be_modified_later_and_click_next"><a class="anchor" href="#_step_4_2_leave_by_the_moment_the_internal_database_since_it_is_enough_for_the_basic_setup_and_it_can_be_modified_later_and_click_next"></a>Step 4.2: Leave by the moment the Internal database since it is enough for the basic setup (and it can be modified later), and click Next</h2>
<div class="sectionbody">
<div class="imageblock">
<div class="content">
<img src="_images/images/others/bitbucket/step4.2.png" alt="step4.2">
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_step_4_3_select_the_evaluation_license_and_click_i_have_an_account"><a class="anchor" href="#_step_4_3_select_the_evaluation_license_and_click_i_have_an_account"></a>Step 4.3: Select the evaluation license, and click I have an account</h2>
<div class="sectionbody">
<div class="imageblock">
<div class="content">
<img src="_images/images/others/bitbucket/step4.3.png" alt="step4.3">
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_step_4_4_select_the_option_bitbucker_server"><a class="anchor" href="#_step_4_4_select_the_option_bitbucker_server"></a>Step 4.4: Select the option Bitbucker (Server)</h2>
<div class="sectionbody">
<div class="imageblock">
<div class="content">
<img src="_images/images/others/bitbucket/step4.4.png" alt="step4.4">
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_step_4_5_introduce_your_organization_capgemini_and_click_generate_license"><a class="anchor" href="#_step_4_5_introduce_your_organization_capgemini_and_click_generate_license"></a>Step 4.5: Introduce your organization (Capgemini), and click Generate License</h2>
<div class="sectionbody">

</div>
</div>
<div class="sect1">
<h2 id="_step_4_6_confirm_that_you_want_to_install_the_license_on_the_bitbucket_server"><a class="anchor" href="#_step_4_6_confirm_that_you_want_to_install_the_license_on_the_bitbucket_server"></a>Step 4.6: Confirm that you want to install the license on the BitBucket server</h2>
<div class="sectionbody">
<div class="imageblock">
<div class="content">
<img src="_images/images/others/bitbucket/step4.6.png" alt="step4.6">
</div>
</div>
<div class="paragraph">
<p>The license key will be automatically generated. Click <strong>Next</strong></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_step_4_7_introduce_the_details_of_the_administration_account"><a class="anchor" href="#_step_4_7_introduce_the_details_of_the_administration_account"></a>Step 4.7: Introduce the details of the Administration account.</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Since our BitBucket server is not going to be integrated with JIRA, click on Go to Bitbucket. The integration with JIRA can be configured later.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="_images/images/others/bitbucket/step4.7.png" alt="step4.7">
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_step_4_8_log_in_with_the_admin_account_that_has_been_just_created"><a class="anchor" href="#_step_4_8_log_in_with_the_admin_account_that_has_been_just_created"></a>Step 4.8: Log in with the admin account that has been just created</h2>
<div class="sectionbody">

</div>
</div>
<div class="sect1">
<h2 id="_done"><a class="anchor" href="#_done"></a>DONE !!</h2>
<div class="sectionbody">
<div class="imageblock">
<div class="content">
<img src="_images/images/others/bitbucket/done.png" alt="done">
</div>
</div>
</div>
</div>
</article>
  </div>
</main>
</div>
<footer class="footer">
  <p>This page was built using the Antora default UI.</p>
  <p>The source code for this UI is licensed under the terms of the MPL-2.0 license.</p>
</footer>
<script src="../../_/js/site.js"></script>
<script async src="../../_/js/vendor/highlight.js"></script>
  </body>
</html>
