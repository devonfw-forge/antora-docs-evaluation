<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Untitled :: Devonfw.github.io Docs</title>
    <meta name="generator" content="Antora 2.3.4">
    <link rel="stylesheet" href="../../_/css/site.css">
    <script>var uiRootPath = '../../_'</script>
  </head>
  <body class="article">
<header class="header">
  <nav class="navbar">
    <div class="navbar-brand">
      <a class="navbar-item" href="../..">Devonfw.github.io Docs</a>
      <button class="navbar-burger" data-target="topbar-nav">
        <span></span>
        <span></span>
        <span></span>
      </button>
    </div>
    <div id="topbar-nav" class="navbar-menu">
      <div class="navbar-end">
        <a class="navbar-item" href="#">Home</a>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Products</a>
          <div class="navbar-dropdown">
            <a class="navbar-item" href="#">Product A</a>
            <a class="navbar-item" href="#">Product B</a>
            <a class="navbar-item" href="#">Product C</a>
          </div>
        </div>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Services</a>
          <div class="navbar-dropdown">
            <a class="navbar-item" href="#">Service A</a>
            <a class="navbar-item" href="#">Service B</a>
            <a class="navbar-item" href="#">Service C</a>
          </div>
        </div>
        <div class="navbar-item">
          <span class="control">
            <a class="button is-primary" href="#">Download</a>
          </span>
        </div>
      </div>
    </div>
  </nav>
</header>
<div class="body">
<div class="nav-container" data-component="shop-floor" data-version="1.0">
  <aside class="nav">
    <div class="panels">
<div class="nav-panel-explore is-active" data-panel="explore">
  <div class="context">
    <span class="title">Shop-floor</span>
    <span class="version">1.0</span>
  </div>
  <ul class="components">
    <li class="component">
      <a class="title" href="../../architecture-guidelines/1.0/index.html">Architecture-guidelines</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../architecture-guidelines/1.0/index.html">1.0</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../cicdgen/1.0/index.html">Cicdgen</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../cicdgen/1.0/index.html">1.0</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../cobigen/1.0/index.html">Cobigen</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../cobigen/1.0/index.html">1.0</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../dashboard/1.0/index.html">Dashboard</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../dashboard/1.0/index.html">1.0</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../devon4j/1.0/index.html">Devon4j</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../devon4j/1.0/index.html">1.0</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../devon4net/1.0/index.html">Devon4net</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../devon4net/1.0/index.html">1.0</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../devon4ng/1.0/index.html">Devon4ng</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../devon4ng/1.0/index.html">1.0</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../devon4node/1.0/index.html">Devon4node</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../devon4node/1.0/index.html">1.0</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../devon4quarkus/1.0/index.html">Devon4quarkus</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../devon4quarkus/1.0/index.html">1.0</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../devon4ts/1.0/index.html">Devon4ts</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../devon4ts/1.0/index.html">1.0</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../devonfw.github.io/1.0/index.html">devonfw.github.io</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../devonfw.github.io/1.0/index.html">1.0</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../getting-started/1.0/index.html">Getting-started</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../getting-started/1.0/index.html">1.0</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../github/1.0/index.html">Github</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../github/1.0/index.html">1.0</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../hangar/1.0/index.html">Hangar</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../hangar/1.0/index.html">1.0</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../ide/1.0/index.html">IDE</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../ide/1.0/index.html">1.0</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../jump-the-queue/1.0/index.html">Jump-the-queue</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../jump-the-queue/1.0/index.html">1.0</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../mrchecker/1.0/index.html">Mrchecker</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../mrchecker/1.0/index.html">1.0</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../my-thai-star/1.0/index.html">My-thai-star</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../my-thai-star/1.0/index.html">1.0</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../production-line/1.0/index.html">Production-line</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../production-line/1.0/index.html">1.0</a>
        </li>
      </ul>
    </li>
    <li class="component is-current">
      <a class="title" href="index.html">Shop-floor</a>
      <ul class="versions">
        <li class="version is-current is-latest">
          <a href="index.html">1.0</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../solicitor/1.0/index.html">Solicitor</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../solicitor/1.0/index.html">1.0</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../sonar-devon4j-plugin/1.0/index.html">Sonar-devon4j-plugin</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../sonar-devon4j-plugin/1.0/index.html">1.0</a>
        </li>
      </ul>
    </li>
  </ul>
</div>
    </div>
  </aside>
</div>
<main class="article">
<div class="toolbar" role="navigation">
<button class="nav-toggle"></button>
  <a href="../../devonfw.github.io/1.0/index.html" class="home-link"></a>
<nav class="breadcrumbs" aria-label="breadcrumbs">
</nav>
  <div class="edit-this-page"><a href="https://github.com/MarvDan/shop-floor/edit/develop/modules/ROOT/pages/dsf-openshift-services-selenium-basic-grid.adoc">Edit this Page</a></div>
  </div>
  <div class="content">
<aside class="toc sidebar" data-title="Contents" data-levels="2">
  <div class="toc-menu"></div>
</aside>
<article class="doc">
<div class="sect1">
<h2 id="_basic_selenium_grid_setup_in_openshift"><a class="anchor" href="#_basic_selenium_grid_setup_in_openshift"></a>Basic Selenium Grid setup in OpenShift</h2>
<div class="sectionbody">
<div class="paragraph">
<p><em>[Under construction]</em></p>
</div>
<hr>
<div class="paragraph">
<p>The purpose of the present document is to provide the basic steps carried out to setup a Selenium Grid (Hub + Nodes) in OpenShift.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_introduction"><a class="anchor" href="#_introduction"></a>Introduction</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Selenium is a tool to automate web browser across many platforms. It allows the automation of the testing in many different browsers, operating systems, programing laguages, or testing frameworks. (for further information pelase see <a href="http://www.seleniumhq.org/">Selenium</a>)</p>
</div>
<div class="paragraph">
<p>Selenium Grid is the platform provided by Selenium in order to perform the execution of tests in parallel and in a distributed way.</p>
</div>
<div class="paragraph">
<p>It basically consists on a Selenium Server (also known as hub or simply server) which redirects the requests it receives to the appropriate node (Firefox node, Chrome node, &#8230;&#8203;) depending on how the Selenium WebDriver is configured or implemented (See <a href="http://www.seleniumhq.org/docs/">Selenium Doc.</a>)</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_additional_documentacion"><a class="anchor" href="#_additional_documentacion"></a>Additional documentacion:</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p><a href="https://www.tutorialspoint.com/selenium/selenium_grids.htm" class="bare">https://www.tutorialspoint.com/selenium/selenium_grids.htm</a></p>
</li>
<li>
<p><a href="http://www.softwaretestinghelp.com/selenium-ide-download-and-installation-selenium-tutorial-2" class="bare">http://www.softwaretestinghelp.com/selenium-ide-download-and-installation-selenium-tutorial-2</a></p>
</li>
<li>
<p><a href="https://examples.javacodegeeks.com/enterprise-java/selenium/selenium-standalone-server-example" class="bare">https://examples.javacodegeeks.com/enterprise-java/selenium/selenium-standalone-server-example</a></p>
</li>
<li>
<p><a href="https://tripleqa.com/2016/09/26/hello-world-selenium" class="bare">https://tripleqa.com/2016/09/26/hello-world-selenium</a></p>
</li>
<li>
<p><a href="http://queirozf.com/entries/selenium-hello-world-style-tutorial" class="bare">http://queirozf.com/entries/selenium-hello-world-style-tutorial</a></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_prerequisites"><a class="anchor" href="#_prerequisites"></a>Prerequisites</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p>OpenShift up &amp; running</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_procedure"><a class="anchor" href="#_procedure"></a>Procedure</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The present procedure is divided into two different main parts:
* First part: Selenium Hub (server) installation
* Second part: Selenium node installation (Firefox &amp; Chrome)
* Create persistent volumes for the hub and the node(s)</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_selenium_hub_installation"><a class="anchor" href="#_selenium_hub_installation"></a>Selenium Hub installation</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The followed approach consists on deploying new image from the OpenShift WenConsole.</p>
</div>
<div class="paragraph">
<p>The image as well as its documentation and details can be found at <a href="https://hub.docker.com/r/selenium/hub/">Selenium Hub Docker Image</a></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_step_1_deploy_image"><a class="anchor" href="#_step_1_deploy_image"></a>==  Step 1: Deploy Image</h2>
<div class="sectionbody">
<div class="imageblock">
<div class="content">
<img src="_images/images/others/selenium/hub/step1.png" alt="step1">
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_step_2_image_name"><a class="anchor" href="#_step_2_image_name"></a>==  Step 2: Image Name</h2>
<div class="sectionbody">
<div class="paragraph">
<p>As it is specified in the <a href="https://hub.docker.com/r/selenium/hub/">documentation</a> <em>(selenium/hub)</em></p>
</div>
<div class="paragraph">
<p><em>(Please notice that, as it is described in the additional documentation of the above links, the server will run by default on <strong>4444</strong> port)</em></p>
</div>
<div class="imageblock">
<div class="content">
<img src="_images/images/others/selenium/hub/step2.png" alt="step2">
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_step_3_introduce_the_appropriate_resource_name"><a class="anchor" href="#_step_3_introduce_the_appropriate_resource_name"></a>==  Step 3: Introduce the appropriate resource name</h2>
<div class="sectionbody">
<div class="paragraph">
<p><em>(selenium-hub in this case)</em></p>
</div>
<div class="paragraph">
<p><em>(No additional config. is required by the moment)</em></p>
</div>
<div class="imageblock">
<div class="content">
<img src="_images/images/others/selenium/hub/step3a.png" alt="step3a">
</div>
</div>
<div class="paragraph">
<p>Once the image is deployed, you will be able to check &amp; review the config. of the container. Please notice by, by default, <strong>no route is created for external traffic</strong>, hence the application (the selenium server or hub) is not reachable from outside the cluster</p>
</div>
<div class="imageblock">
<div class="content">
<img src="_images/images/others/selenium/hub/step3b.png" alt="step3b">
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_step_4_create_a_route_for_external_traffic"><a class="anchor" href="#_step_4_create_a_route_for_external_traffic"></a>==  Step 4: Create a route for external traffic</h2>
<div class="sectionbody">
<div class="imageblock">
<div class="content">
<img src="_images/images/others/selenium/hub/step4.png" alt="step4">
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_step_5_change_the_default_config_if_necessary"><a class="anchor" href="#_step_5_change_the_default_config_if_necessary"></a>==  Step 5: Change the default config. if necessary</h2>
<div class="sectionbody">
<div class="imageblock">
<div class="content">
<img src="_images/images/others/selenium/hub/step5.png" alt="step5">
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_done"><a class="anchor" href="#_done"></a>==  DONE !!</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The Selenium Server is now accesible from outside the cluster. Click on the link of the route and you will be able to see the server home page.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="_images/images/others/selenium/hub/done1.png" alt="done1">
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_consoleview_config_to_see_the_default_server_config"><a class="anchor" href="#_consoleview_config_to_see_the_default_server_config"></a>==  console/view config to see the default server config.</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Please notice that the server is not detecting any node up &amp; running, since we have not yet installed none of them.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="_images/images/others/selenium/hub/done2.png" alt="done2">
</div>
</div>
<hr>
</div>
</div>
<div class="sect1">
<h2 id="_selenium_node_firefox_installation"><a class="anchor" href="#_selenium_node_firefox_installation"></a>Selenium Node Firefox installation</h2>
<div class="sectionbody">
<div class="paragraph">
<p><em>(Same steps apply for Selenium Node Chrome with the selenium/node-chrome Docker image)</em></p>
</div>
<div class="paragraph">
<p>The key point of the nodes installation is to specify the host name and port of the hub. If this step is not correctly done, the container will be setup but the application will not run.</p>
</div>
<div class="paragraph">
<p>The followed approach consists on deploying new image from the OpenShift WenConsole.</p>
</div>
<div class="paragraph">
<p>The image as well as its documentation and details can be found at <a href="https://hub.docker.com/r/selenium/node-firefox/">Selenium Hub Docker Image</a> <em>(firefox node in this case)</em></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_step_1_deploy_image_2"><a class="anchor" href="#_step_1_deploy_image_2"></a>==  Step 1: Deploy Image</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Introduce the appropriate Docker Image name as it is specified in the <a href="https://hub.docker.com/r/selenium/node-firefox/">documentation</a> <em>(selenium/node-firefox)</em></p>
</div>
<div class="imageblock">
<div class="content">
<img src="_images/images/others/selenium/node/step1.png" alt="step1">
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_step_2_introduce_the_appropriate_resource_name"><a class="anchor" href="#_step_2_introduce_the_appropriate_resource_name"></a>==  Step 2: Introduce the appropriate resource name</h2>
<div class="sectionbody">
<div class="paragraph">
<p><em>(selenium-node-firefox in this case)</em></p>
</div>
<div class="imageblock">
<div class="content">
<img src="_images/images/others/selenium/node/step2.png" alt="step2">
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_step_3_introduce_as_environment_variables_the_host_name_and_port_of_the_selenium_hub_previously_created"><a class="anchor" href="#_step_3_introduce_as_environment_variables_the_host_name_and_port_of_the_selenium_hub_previously_created"></a>==  Step 3: Introduce, as environment variables, the host name and port of the selenium hub previously created</h2>
<div class="sectionbody">
<div class="paragraph">
<p><strong>Env. var. for selenium hub host name</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>Name: HUB_PORT_4444_TCP_ADDR</p>
</li>
<li>
<p>Value: The Selenium hub host name. It&#8217;s recommended to use the service name of the internal OpenShift service.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>Env. var. for host selenium hub host port</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>Name: HUB_PORT_4444_TCP_PORT</p>
</li>
<li>
<p>Value: 4444 <em>(by default)</em>, or the appropriate one if it was changed during the installation.</p>
</li>
</ul>
</div>
<div class="imageblock">
<div class="content">
<img src="_images/images/others/selenium/node/step3.png" alt="step3">
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_done_2"><a class="anchor" href="#_done_2"></a>==  DONE !!</h2>
<div class="sectionbody">
<div class="paragraph">
<p>If the creation of the container was correct, we will be able to see our new selenium-node-firefox application up &amp; running, as well as we will be able to see that the firefox node has correctly detected the selenium hub <em>(in the log of the POD)</em></p>
</div>
<div class="imageblock">
<div class="content">
<img src="_images/images/others/selenium/node/done1.png" alt="done1">
</div>
</div>
<div class="imageblock">
<div class="content">
<img src="_images/images/others/selenium/node/done2.png" alt="done2">
</div>
</div>
<div class="paragraph">
<p>If we go back to the configuration of the SeleniumHub through the WebConsole, we also will be able to see the our new firefox node</p>
</div>
<div class="imageblock">
<div class="content">
<img src="_images/images/others/selenium/node/done3.png" alt="done3">
</div>
</div>
<hr>
</div>
</div>
<div class="sect1">
<h2 id="_persistent_volumes"><a class="anchor" href="#_persistent_volumes"></a>Persistent Volumes</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Last part of the installation of the Selenium Grid consists on creating persistent volumes for both, the hub container and the node container.</p>
</div>
<div class="paragraph">
<p>Persistent Volumes can be easely created folling the the <a href="dsf-openshift-services-bitbucket-extra-server-configuration.adoc">BitBucket Extra server configuration</a></p>
</div>
</div>
</div>
</article>
  </div>
</main>
</div>
<footer class="footer">
  <p>This page was built using the Antora default UI.</p>
  <p>The source code for this UI is licensed under the terms of the MPL-2.0 license.</p>
</footer>
<script src="../../_/js/site.js"></script>
<script async src="../../_/js/vendor/highlight.js"></script>
  </body>
</html>
