<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Untitled :: Devonfw.github.io Docs</title>
    <meta name="generator" content="Antora 2.3.4">
    <link rel="stylesheet" href="../../_/css/site.css">
    <script>var uiRootPath = '../../_'</script>
  </head>
  <body class="article">
<header class="header">
  <nav class="navbar">
    <div class="navbar-brand">
      <a class="navbar-item" href="../..">Devonfw.github.io Docs</a>
      <button class="navbar-burger" data-target="topbar-nav">
        <span></span>
        <span></span>
        <span></span>
      </button>
    </div>
    <div id="topbar-nav" class="navbar-menu">
      <div class="navbar-end">
        <a class="navbar-item" href="#">Home</a>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Products</a>
          <div class="navbar-dropdown">
            <a class="navbar-item" href="#">Product A</a>
            <a class="navbar-item" href="#">Product B</a>
            <a class="navbar-item" href="#">Product C</a>
          </div>
        </div>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Services</a>
          <div class="navbar-dropdown">
            <a class="navbar-item" href="#">Service A</a>
            <a class="navbar-item" href="#">Service B</a>
            <a class="navbar-item" href="#">Service C</a>
          </div>
        </div>
        <div class="navbar-item">
          <span class="control">
            <a class="button is-primary" href="#">Download</a>
          </span>
        </div>
      </div>
    </div>
  </nav>
</header>
<div class="body">
<div class="nav-container" data-component="devon4quarkus" data-version="1.0">
  <aside class="nav">
    <div class="panels">
<div class="nav-panel-explore is-active" data-panel="explore">
  <div class="context">
    <span class="title">Devon4quarkus</span>
    <span class="version">1.0</span>
  </div>
  <ul class="components">
    <li class="component">
      <a class="title" href="../../architecture-guidelines/1.0/index.html">Architecture-guidelines</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../architecture-guidelines/1.0/index.html">1.0</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../cicdgen/1.0/index.html">Cicdgen</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../cicdgen/1.0/index.html">1.0</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../cobigen/1.0/index.html">Cobigen</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../cobigen/1.0/index.html">1.0</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../dashboard/1.0/index.html">Dashboard</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../dashboard/1.0/index.html">1.0</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../devon4j/1.0/index.html">Devon4j</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../devon4j/1.0/index.html">1.0</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../devon4net/1.0/index.html">Devon4net</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../devon4net/1.0/index.html">1.0</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../devon4ng/1.0/index.html">Devon4ng</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../devon4ng/1.0/index.html">1.0</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../devon4node/1.0/index.html">Devon4node</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../devon4node/1.0/index.html">1.0</a>
        </li>
      </ul>
    </li>
    <li class="component is-current">
      <a class="title" href="index.html">Devon4quarkus</a>
      <ul class="versions">
        <li class="version is-current is-latest">
          <a href="index.html">1.0</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../devon4ts/1.0/index.html">Devon4ts</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../devon4ts/1.0/index.html">1.0</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../devonfw.github.io/1.0/index.html">devonfw.github.io</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../devonfw.github.io/1.0/index.html">1.0</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../getting-started/1.0/index.html">Getting-started</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../getting-started/1.0/index.html">1.0</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../github/1.0/index.html">Github</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../github/1.0/index.html">1.0</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../hangar/1.0/index.html">Hangar</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../hangar/1.0/index.html">1.0</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../ide/1.0/index.html">IDE</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../ide/1.0/index.html">1.0</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../jump-the-queue/1.0/index.html">Jump-the-queue</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../jump-the-queue/1.0/index.html">1.0</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../mrchecker/1.0/index.html">Mrchecker</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../mrchecker/1.0/index.html">1.0</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../my-thai-star/1.0/index.html">My-thai-star</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../my-thai-star/1.0/index.html">1.0</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../production-line/1.0/index.html">Production-line</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../production-line/1.0/index.html">1.0</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../shop-floor/1.0/index.html">Shop-floor</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../shop-floor/1.0/index.html">1.0</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../solicitor/1.0/index.html">Solicitor</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../solicitor/1.0/index.html">1.0</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../sonar-devon4j-plugin/1.0/index.html">Sonar-devon4j-plugin</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../sonar-devon4j-plugin/1.0/index.html">1.0</a>
        </li>
      </ul>
    </li>
  </ul>
</div>
    </div>
  </aside>
</div>
<main class="article">
<div class="toolbar" role="navigation">
<button class="nav-toggle"></button>
  <a href="../../devonfw.github.io/1.0/index.html" class="home-link"></a>
<nav class="breadcrumbs" aria-label="breadcrumbs">
</nav>
  <div class="edit-this-page"><a href="https://github.com/MarvDan/devon4quarkus/edit/master/modules/ROOT/pages/guide-coding-conventions.adoc">Edit this Page</a></div>
  </div>
  <div class="content">
<aside class="toc sidebar" data-title="Contents" data-levels="2">
  <div class="toc-menu"></div>
</aside>
<article class="doc">
<div id="toc" class="toc">
<div id="toctitle" class="title">Table of Contents</div>
<ul class="sectlevel1">
<li><a href="#_devon4quarkus_coding_conventions">devon4quarkus coding conventions</a></li>
<li><a href="#_things_to_discuss">Things to discuss</a></li>
<li><a href="#_structure">Structure</a></li>
<li><a href="#_packages">Packages</a></li>
<li><a href="#_layer">Layer</a></li>
<li><a href="#_data_access_layer">==  Data access layer</a></li>
<li><a href="#_logic_layer">==  Logic layer</a></li>
<li><a href="#_rest_layer">==  REST layer</a></li>
<li><a href="#_comparison_with_devon4j">Comparison with devon4j</a></li>
<li><a href="#_naming_conventions">Naming conventions</a></li>
</ul>
</div>
<div class="sect1">
<h2 id="_devon4quarkus_coding_conventions"><a class="anchor" href="#_devon4quarkus_coding_conventions"></a>devon4quarkus coding conventions</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This  guide describe the conventions for naming and structure in a devon4quarkus application. In addition to the points mentioned here, the code should follow the general Java conventions (see <a href="http://www.oracle.com/technetwork/java/namingconventions-139351.html">Oracle Naming Conventions</a>, <a href="https://google.github.io/styleguide/javaguide.html">Google Java Style</a>, etc.).</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_things_to_discuss"><a class="anchor" href="#_things_to_discuss"></a>Things to discuss</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p>Using CamelCase even for abbreviations. devon4j naming conventions clearly discourage to use CAPITALCASE for abbreviation (<code>XmlUtil</code> instead of <code>XMLUtil</code>, <code>Dao</code> instead of <code>DAO</code>)</p>
</li>
<li>
<p><code>Eto</code> vs. <code>Dto</code> and dropping the <code>Eto</code> and <code>Cto</code> concept</p>
</li>
<li>
<p><code>*RestService</code> vs. <code>*RestController</code>. According to devon4j we should use <code>*RestService</code> that has already been established</p>
</li>
<li>
<p>Spring-data vs. <code>Dao</code> - see <a href="https://github.com/devonfw-forge/devonfw-microservices/issues/37" class="bare">https://github.com/devonfw-forge/devonfw-microservices/issues/37</a></p>
</li>
<li>
<p>Structure of <code>logic</code> layer? - see <a href="https://github.com/devonfw-forge/devonfw-microservices/issues/38" class="bare">https://github.com/devonfw-forge/devonfw-microservices/issues/38</a></p>
</li>
<li>
<p>Bean-Mapping - see <a href="https://github.com/devonfw-forge/devonfw-microservices/issues/8" class="bare">https://github.com/devonfw-forge/devonfw-microservices/issues/8</a></p>
</li>
<li>
<p>Lombok usage - see <a href="https://github.com/devonfw-forge/devonfw-microservices/issues/29" class="bare">https://github.com/devonfw-forge/devonfw-microservices/issues/29</a></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_structure"><a class="anchor" href="#_structure"></a>Structure</h2>
<div class="sectionbody">

</div>
</div>
<div class="sect1">
<h2 id="_packages"><a class="anchor" href="#_packages"></a>Packages</h2>
<div class="sectionbody">
<div class="paragraph">
<p>For a devon4quarkus-based application, we recommend using the following Java package scheme:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code>«root».«component».«layer»[.«detail»]*</code></pre>
</div>
</div>
<div class="paragraph">
<p>See also existing <a href="https://github.com/devonfw/devon4j/blob/master/documentation/coding-conventions#packages">devon4j packaging</a> that we want to simplify and modernize here.</p>
</div>
<div class="paragraph">
<div class="title">Segments of package schema</div>
<p>|== == == == == == == == == == == == == == == == == == == == == == =
| <strong>Segment</strong>      | <strong>Description</strong> | <strong>Example</strong>
| <code>«root»</code> | The root package. Typically we suggest to use <code>«group».«artifact»</code> for <code>«root»</code>. However, we will not enforce anything and let you the freedom of choice if the recommendation does not fit for you.|<code>com.devonfw</code>
| <code>«group»</code> | Matches your maven <code>groupId</code> coordinate, basic name-space of the organization or IT project owning the code. Corresponds to domain name reversed. |<code>com.devonfw</code>
| <code>«artifact»</code> | Matches your maven <code>artifact</code> coordinate, converted to java package conventions(e.g. <code>-</code> omitted). Can be further simplified if it does not cause disambiguity(e.g. <code>presales-order-bff</code>&#8594; <code>pobff</code>) | <code>orderservice</code>, <code>usermgmt</code>..
| <code>«component»</code> | Only used if the service serves multiple business components. Most microservices usually address a single business component/domain. In this case it is ommited(its already implied by the artifactid)| <code>user</code>, <code>order</code>
| <code>«layer»</code> | The name of the technical layer (See <a href="architecture">technical architecture</a>) which is one of the predefined layers (<code>domain</code>, <code>rest</code>, <code>logic</code>) or <code>common</code> for code not assigned to a technical layer (datatypes, cross-cutting concerns). Additional layers can be introduced if they have clear scope e.g. <code>batch</code>, <code>process</code>.. | <code>rest</code>
| <code>«detail»</code> | You will technically have the freedom of choice to define your sub-packages. Compared to <code>devon4j</code> we neither enforce nor recommend anymore to use the <code>«scope»</code> segment in your packaging. You are still free to do so if you like it. However, we now suggest the <code>«type»</code> segment for furhter classification within <code>«detail»</code>.|<code>dao</code>
| <code>«type»</code> | Further division based on common stereotypes based on type of component. Suggested stereotypes for <code>rest</code> layer are [<code>controller</code>, <code>model</code>, <code>mapper</code>, <code>filter</code>..] for <code>domain</code> layer: [<code>model</code>, <code>dao</code>]  | <code>dao</code>
|== == == == == == == == == == == == == == == == == == == == == == =</p>
</div>
<div class="paragraph">
<p>For a typical backend microservice that provides HTTP API and data persistence via JPA in the business domain <code>serviceorder</code>, the structure would be something like this:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>«group».«artifact»
├──.domain
|  ├──.dao
|  |  ├──ServiceOrderDAO
|  |  └──ServiceOrderItemDAO
|  ├──.model
|  |  ├──ServiceOrderEntity
|  |  └──ServiceOrderItemEntity
├──.logic
|  ├──NewServiceOrderValidator
|  └──ServiceOrderEventsEmitter
└──.rest
   ├──.controller
   |  └──ServiceOrderRestController
   ├──.mapper
   |  └──ServiceOrderMapper
   └──.model
      ├──NewServiceOrderDTO
      ├──ServiceOrderPageResutltDTO
      └──ServiceOrderDTO</pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_layer"><a class="anchor" href="#_layer"></a>Layer</h2>
<div class="sectionbody">

</div>
</div>
<div class="sect1">
<h2 id="_data_access_layer"><a class="anchor" href="#_data_access_layer"></a>==  Data access layer</h2>
<div class="sectionbody">
<div class="paragraph">
<p>When using JPA/Hibernate for data persistence, please use the following subpackages under your domain package:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>dao</code>: For the Data Access Objects (DAOs). The naming should be always <code>«entity»DAO</code></p>
</li>
<li>
<p><code>repo</code>: For repositories, if you use Spring Data for data access</p>
</li>
<li>
<p><code>model</code>: For all entities, views or other objects used to read and write to DB.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_logic_layer"><a class="anchor" href="#_logic_layer"></a>==  Logic layer</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Use the layer to provide any microservice-specific business logic and add sub-packages as needed, depending on the type and number of classes required.</p>
</div>
<div class="paragraph">
<p>Before introducing a new service, check whether it is really needed or whether it can be replaced by a standard/framework solution (e.g. validators can be covered by the bean validation specification in 90% of cases by using annotations on models).
Strive for clear naming, based on the scope of the class, instead of generic names. BAD: <code>OrderService</code>, <code>EmailManagement</code>, BETTER: <code>OrderValidator</code>, <code>EmailSender</code></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_rest_layer"><a class="anchor" href="#_rest_layer"></a>==  REST layer</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Depending on the requirements of the project, a service may provide several APIs, e.g. a fixed version, a public API that must remain strictly backward compatible, and a separate non-public API used for internal functions or operations. Often the app needs to provide multiple public API versions.
If this is the case, we suggest to introduce <code>«version»</code> as an intermediate package:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>└──.rest
   ├──internal
   |  ├──.controller
   |  |  ├──AdminOperationsRestController
   |  |  └──EventRestController
   |  ├──.mapper
   |  |  └──AdminOperationMapper
   |  └──.model
   |     ├──EventDTO
   |     ├──AdminOperationDTO
   |     └──AdminOperationResultDTO
   ├──v1
   |  ├──.controller
   |  |  └──ServiceOrderRestController
   |  ├──.mapper
   |  |  └──ServiceOrderMapper
   |  └──.model
   |     ├──NewServiceOrderDTO
   |     ├──ServiceOrderPageResutltDTO
   |     └──ServiceOrderDTO
   └──v2
      ├──.controller
      |  ├──ServiceOrderItemRestController
      |  └──ServiceOrderRestController
      ├──.mapper
      |  └──ServiceOrderMapper
      ├──.filter
      |   └──CustomPayloadFilter
      └──.model
         ├──NewServiceOrderDTO
         ├──ServiceOrderItemDTO
         ├──ServiceOrderPageResutltDTO
         ├──ServiceOrderPatchRequestDTO
         └──ServiceOrderDTO</pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_comparison_with_devon4j"><a class="anchor" href="#_comparison_with_devon4j"></a>Comparison with devon4j</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p><code>service.[api|impl].[rest|ws]</code> simply becomes <code>rest</code>, <code>ws</code> (in case someone is still using legacy SOAP), <code>grpc</code>, etc. Technically we can still derive that this all implies the <code>service</code> layer.</p>
</li>
<li>
<p><code>dataaccess</code> becomes <code>domain</code>. You are not forced to follow this and architcture validation such as our <code>sonar-devon4j-plugin</code> will in the future support both. However, new CobiGen templates for quarkus/cloud-native will use this new default and would need to adopt them if you want to change. We also suggest to put entities in the <code>model</code> sub-package (see <code>«type»</code>).</p>
</li>
<li>
<p><code>logic</code> remains <code>logic</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_naming_conventions"><a class="anchor" href="#_naming_conventions"></a>Naming conventions</h2>
<div class="sectionbody">
<div class="paragraph">
<p>In addition to the general Java naming conventions, the following rules should be observed</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Names should be descriptive and concise. Always use short but speaking names (for types, methods, fields, parameters, variables, constants, etc.).</p>
</li>
<li>
<p>Name should indicate the type of object it represents.</p>
</li>
<li>
<p>Strictly avoid special characters in technical names (for files, types, fields, methods, properties, variables, database tables, columns, constraints, etc.). In other words only use Latin alpahnumeric ASCII characters with the common allowed technical separators for the accordign context (e.g. underscore) for technical names (even excluding whitespaces).</p>
</li>
<li>
<p>For package segments and type names prefer singular forms (<code>CustomerEntity</code> instead of <code class="line-through">CustomersEntity</code>). Only use plural forms when there is no singular or it is really semantically required (e.g. for a container that contains multiple of such objects).</p>
</li>
<li>
<p>Avoid having duplicate type names. The name of a class, interface, enum or annotation should be unique within your project unless this is intentionally desired in a special and reasonable situation.</p>
</li>
<li>
<p>All classes in single «type» package should have the same naming structure (e.g. dont mix <code>EntityRepo</code> and <code>OtherEntityDAO</code> inside <code>dao</code> package).</p>
</li>
<li>
<p>Avoid artificial naming constructs such as prefixes (<code>I*</code>) or suffixes (<code>*IF</code>) for interfaces.</p>
</li>
<li>
<p>Avoid property/field names where the second character is upper-case at all (e.g. 'aBc').</p>
</li>
<li>
<p>Names of Generics should be easy to understand. Where suitable follow the common rule <code>E=Element</code>, <code>T=Type</code>, <code>K=Key</code>, <code>V=Value</code> but feel free to use longer names for more specific cases such as <code>ID</code>, <code>DTO</code> or <code>ENTITY</code>. The capitalized naming helps to distinguish a generic type from a regular class.</p>
</li>
</ul>
</div>
</div>
</div>
</article>
  </div>
</main>
</div>
<footer class="footer">
  <p>This page was built using the Antora default UI.</p>
  <p>The source code for this UI is licensed under the terms of the MPL-2.0 license.</p>
</footer>
<script src="../../_/js/site.js"></script>
<script async src="../../_/js/vendor/highlight.js"></script>
  </body>
</html>
