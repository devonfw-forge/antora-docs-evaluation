<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Untitled :: Devonfw.github.io Docs</title>
    <meta name="generator" content="Antora 2.3.4">
    <link rel="stylesheet" href="../../_/css/site.css">
    <script>var uiRootPath = '../../_'</script>
  </head>
  <body class="article">
<header class="header">
  <nav class="navbar">
    <div class="navbar-brand">
      <a class="navbar-item" href="../..">Devonfw.github.io Docs</a>
      <button class="navbar-burger" data-target="topbar-nav">
        <span></span>
        <span></span>
        <span></span>
      </button>
    </div>
    <div id="topbar-nav" class="navbar-menu">
      <div class="navbar-end">
        <a class="navbar-item" href="#">Home</a>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Products</a>
          <div class="navbar-dropdown">
            <a class="navbar-item" href="#">Product A</a>
            <a class="navbar-item" href="#">Product B</a>
            <a class="navbar-item" href="#">Product C</a>
          </div>
        </div>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Services</a>
          <div class="navbar-dropdown">
            <a class="navbar-item" href="#">Service A</a>
            <a class="navbar-item" href="#">Service B</a>
            <a class="navbar-item" href="#">Service C</a>
          </div>
        </div>
        <div class="navbar-item">
          <span class="control">
            <a class="button is-primary" href="#">Download</a>
          </span>
        </div>
      </div>
    </div>
  </nav>
</header>
<div class="body">
<div class="nav-container" data-component="my-thai-star" data-version="1.0">
  <aside class="nav">
    <div class="panels">
<div class="nav-panel-explore is-active" data-panel="explore">
  <div class="context">
    <span class="title">My-thai-star</span>
    <span class="version">1.0</span>
  </div>
  <ul class="components">
    <li class="component">
      <a class="title" href="../../architecture-guidelines/1.0/index.html">Architecture-guidelines</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../architecture-guidelines/1.0/index.html">1.0</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../cicdgen/1.0/index.html">Cicdgen</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../cicdgen/1.0/index.html">1.0</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../cobigen/1.0/index.html">Cobigen</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../cobigen/1.0/index.html">1.0</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../dashboard/1.0/index.html">Dashboard</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../dashboard/1.0/index.html">1.0</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../devon4j/1.0/index.html">Devon4j</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../devon4j/1.0/index.html">1.0</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../devon4net/1.0/index.html">Devon4net</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../devon4net/1.0/index.html">1.0</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../devon4ng/1.0/index.html">Devon4ng</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../devon4ng/1.0/index.html">1.0</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../devon4node/1.0/index.html">Devon4node</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../devon4node/1.0/index.html">1.0</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../devon4quarkus/1.0/index.html">Devon4quarkus</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../devon4quarkus/1.0/index.html">1.0</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../devon4ts/1.0/index.html">Devon4ts</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../devon4ts/1.0/index.html">1.0</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../devonfw.github.io/1.0/index.html">devonfw.github.io</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../devonfw.github.io/1.0/index.html">1.0</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../getting-started/1.0/index.html">Getting-started</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../getting-started/1.0/index.html">1.0</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../github/1.0/index.html">Github</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../github/1.0/index.html">1.0</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../hangar/1.0/index.html">Hangar</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../hangar/1.0/index.html">1.0</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../ide/1.0/index.html">IDE</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../ide/1.0/index.html">1.0</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../jump-the-queue/1.0/index.html">Jump-the-queue</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../jump-the-queue/1.0/index.html">1.0</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../mrchecker/1.0/index.html">Mrchecker</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../mrchecker/1.0/index.html">1.0</a>
        </li>
      </ul>
    </li>
    <li class="component is-current">
      <a class="title" href="index.html">My-thai-star</a>
      <ul class="versions">
        <li class="version is-current is-latest">
          <a href="index.html">1.0</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../production-line/1.0/index.html">Production-line</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../production-line/1.0/index.html">1.0</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../shop-floor/1.0/index.html">Shop-floor</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../shop-floor/1.0/index.html">1.0</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../solicitor/1.0/index.html">Solicitor</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../solicitor/1.0/index.html">1.0</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../sonar-devon4j-plugin/1.0/index.html">Sonar-devon4j-plugin</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../sonar-devon4j-plugin/1.0/index.html">1.0</a>
        </li>
      </ul>
    </li>
  </ul>
</div>
    </div>
  </aside>
</div>
<main class="article">
<div class="toolbar" role="navigation">
<button class="nav-toggle"></button>
  <a href="../../devonfw.github.io/1.0/index.html" class="home-link"></a>
<nav class="breadcrumbs" aria-label="breadcrumbs">
</nav>
  <div class="edit-this-page"><a href="https://github.com/MarvDan/my-thai-star/edit/develop/modules/ROOT/pages/master-my-thai-star.adoc">Edit this Page</a></div>
  </div>
  <div class="content">
<aside class="toc sidebar" data-title="Contents" data-levels="2">
  <div class="toc-menu"></div>
</aside>
<article class="doc">
<div id="toc" class="toc">
<div id="toctitle" class="title">Table of Contents</div>
<ul class="sectlevel1">
<li><a href="#_mythaistar">MyThaiStar</a>
<ul class="sectlevel2">
<li><a href="#_1_my_thai_star_agile_framework">1.	My Thai Star – Agile Framework</a></li>
<li><a href="#_1_1_team_setup">1.1 Team Setup</a></li>
<li><a href="#_1_2_scrum_events">1.2 Scrum events</a></li>
<li><a href="#_sprint_planning">Sprint Planning</a></li>
<li><a href="#_sprint_review">Sprint Review</a></li>
<li><a href="#_sprint_retrospective">Sprint Retrospective</a></li>
<li><a href="#_daily_stand_ups">Daily Stand-ups</a></li>
<li><a href="#_backlog_refinement">Backlog refinement</a></li>
<li><a href="#_1_3_establish_product_backlog">1.3 Establish Product Backlog</a></li>
<li><a href="#_2_my_thai_star_agile_diary">2.	My Thai Star – Agile Diary</a></li>
<li><a href="#_24_03_2017_sprint_1_planning">24.03.2017 Sprint 1 Planning</a></li>
<li><a href="#_27_04_2017_sprint_1_review">27.04.2017 Sprint 1 Review</a></li>
<li><a href="#_03_05_2017_sprint_2_planning">03.05.2017 Sprint 2 Planning</a></li>
<li><a href="#_01_06_2017_sprint_2_review">01.06.2017 Sprint 2 Review</a></li>
<li><a href="#_user_stories">User Stories</a></li>
<li><a href="#_epic_invite_friends">Epic: Invite friends</a></li>
<li><a href="#_us_create_invite_for_friends">US: create invite for friends</a></li>
<li><a href="#_acceptance_criteria">== Acceptance criteria</a></li>
<li><a href="#_us_create_reservation">US: create reservation</a></li>
<li><a href="#_acceptance_criteria_2">== Acceptance criteria</a></li>
<li><a href="#_wireframes">== Wireframes</a></li>
<li><a href="#_us_handle_invite">US: handle invite</a></li>
<li><a href="#_ac">== AC:</a></li>
<li><a href="#_us_revoke_accepted_invite">US: revoke accepted invite</a></li>
<li><a href="#_ac_2">==  AC:</a></li>
<li><a href="#_us_calculate_best_table">US: calculate best table</a></li>
<li><a href="#_details">== Details</a></li>
<li><a href="#_us_find_table_by_reservation_info">US: find table by reservation info</a></li>
<li><a href="#_ac_3">== AC:</a></li>
<li><a href="#_us_cancel_invite">US: cancel invite</a></li>
<li><a href="#_ac_4">== AC:</a></li>
<li><a href="#_epic_digital_menu">Epic: Digital Menu</a></li>
<li><a href="#_us_filter_menu">US: filter menu</a></li>
<li><a href="#_ac_5">== AC:</a></li>
<li><a href="#_us_define_order">US: Define order</a></li>
<li><a href="#_ac_6">== AC:</a></li>
<li><a href="#_us_order_the_order">US: Order the order</a></li>
<li><a href="#_us_cancel_order">US: Cancel order</a></li>
<li><a href="#_us_read_twitter_rating_for_dishes">US: Read twitter rating for dishes</a></li>
<li><a href="#_epic_user_profile">Epic: User Profile</a></li>
<li><a href="#_us_user_profile">US: User Profile</a></li>
<li><a href="#_epic_rate_by_twitter">Epic: Rate by twitter</a></li>
<li><a href="#_us_receive_mail_to_rate_your_dish">US: Receive mail to rate your dish</a></li>
<li><a href="#_us_rate_your_dish">US: Rate your dish</a></li>
<li><a href="#_epic_waiter_cockpit">Epic: Waiter Cockpit</a></li>
<li><a href="#_us_see_all_ordersreservations">US: See all orders/reservations</a></li>
</ul>
</li>
<li><a href="#_technical_design">Technical design</a></li>
<li><a href="#_data_model">Data Model</a>
<ul class="sectlevel4">
<li><a href="#_data_model_2">Data Model</a></li>
<li><a href="#_nosql_data_model">NoSQL Data Model</a></li>
</ul>
</li>
<li><a href="#_server_side">Server Side</a>
<ul class="sectlevel4">
<li><a href="#_java_design">Java design</a></li>
<li><a href="#_introduction">Introduction</a></li>
<li><a href="#_basic_architecture_details">Basic architecture details</a></li>
<li><a href="#_project_modules">Project modules</a></li>
<li><a href="#_components">Components</a></li>
<li><a href="#_layers">Layers</a></li>
<li><a href="#_component_structure">Component structure</a></li>
<li><a href="#_dependency_injection">Dependency injection</a></li>
<li><a href="#_layers_communication">Layers communication</a></li>
<li><a href="#_service_layer">Service layer</a></li>
<li><a href="#_service_api">Service API</a></li>
<li><a href="#_service_impl">Service <code>impl</code></a></li>
<li><a href="#">==</a></li>
<li><a href="#_logic_layer">Logic layer</a></li>
<li><a href="#_data_access_layer">Data Access layer</a></li>
<li><a href="#_security_with_json_web_token">Security with Json Web Token</a></li>
<li><a href="#_jwt_basics">JWT basics</a></li>
<li><a href="#_jwt_implementation_details">JWT implementation details</a></li>
<li><a href="#_authentication">==  Authentication</a></li>
<li><a href="#_token_set_up">==  Token set up</a></li>
<li><a href="#_current_user_request">==  Current User request</a></li>
<li><a href="#_authorization">==  Authorization</a></li>
<li><a href="#_net_design">.NET design</a></li>
<li><a href="#_nodejs_design_deprecated">NodeJS design (deprecated)</a></li>
<li><a href="#_introduction_2">Introduction</a></li>
<li><a href="#_basic_architecture_details_2">Basic architecture details</a></li>
<li><a href="#_layers_2">Layers</a></li>
<li><a href="#_service_layer_2">Service layer</a></li>
<li><a href="#_logic_layer_and_data_access_layer">Logic layer and Data access layer</a></li>
<li><a href="#_security_with_json_web_token_2">Security with Json Web Token</a></li>
<li><a href="#_jwt_basics_2">JWT basics</a></li>
<li><a href="#_jwt_implementation_details_2">JWT implementation details</a></li>
<li><a href="#_authentication_2">==  Authentication</a></li>
<li><a href="#_token_set_up_2">==  Token set up</a></li>
<li><a href="#_current_user_request_2">==  Current User request</a></li>
<li><a href="#_authorization_2">==  Authorization</a></li>
<li><a href="#_serverless_design_deprecated">Serverless design (deprecated)</a></li>
<li><a href="#_introduction_3">Introduction</a></li>
<li><a href="#_basic_architecture_details_3">Basic architecture details</a></li>
<li><a href="#_layers_3">Layers</a></li>
<li><a href="#_service_layer_3">Service layer</a></li>
<li><a href="#_2">==</a></li>
<li><a href="#_logic_layer_and_data_access_layer_2">Logic layer and Data access layer</a></li>
<li><a href="#_security_with_json_web_token_3">Security with Json Web Token</a></li>
<li><a href="#_jwt_basics_3">JWT basics</a></li>
<li><a href="#_jwt_implementation_details_3">JWT implementation details</a></li>
<li><a href="#_authentication_3">==  Authentication</a></li>
<li><a href="#_token_set_up_3">==  Token set up</a></li>
<li><a href="#_current_user_request_3">==  Current User request</a></li>
<li><a href="#_authorization_3">==  Authorization</a></li>
<li><a href="#_graphql_design">GraphQL design</a></li>
</ul>
</li>
<li><a href="#_client_side">Client Side</a>
<ul class="sectlevel4">
<li><a href="#_angular_design">Angular design</a></li>
<li><a href="#_introduction_4">Introduction</a></li>
<li><a href="#_basic_project_structure">Basic project structure</a></li>
<li><a href="#_main_views_and_components">Main Views and components</a></li>
<li><a href="#_public_area">Public area</a></li>
<li><a href="#_app_component">==  App Component</a></li>
<li><a href="#_order_sidenav">== Order sidenav</a></li>
<li><a href="#_navigation_sidenav_only_for_mobile">== Navigation sidenav (only for mobile)</a></li>
<li><a href="#_header">== Header</a></li>
<li><a href="#_footer_only_for_desktop">== Footer (only for desktop)</a></li>
<li><a href="#_home_component">==  Home-Component</a></li>
<li><a href="#_menu_component">==  Menu-Component</a></li>
<li><a href="#_menu_card">== Menu-card</a></li>
<li><a href="#_book_table_component">==  Book Table Component</a></li>
<li><a href="#_book_table_dialog">== Book-table-dialog</a></li>
<li><a href="#_invitation_dialog">== Invitation-dialog</a></li>
<li><a href="#_user_area">==  User Area</a></li>
<li><a href="#_login_dialog">== Login-dialog</a></li>
<li><a href="#_password_dialog">== Password-dialog</a></li>
<li><a href="#_twitter_dialog">== Twitter-dialog</a></li>
<li><a href="#_waiter_cockpit_area">Waiter cockpit area</a></li>
<li><a href="#_order_cockpit_component">==  Order Cockpit Component</a></li>
<li><a href="#_order_dialog">== Order-dialog</a></li>
<li><a href="#_reservation_cockpit_component">==  Reservation Cockpit Component</a></li>
<li><a href="#_reservation_dialog">== Reservation-dialog</a></li>
<li><a href="#_email_management">Email Management</a></li>
<li><a href="#_accept_invite">==  Accept Invite</a></li>
<li><a href="#_reject_invite">==  Reject Invite</a></li>
<li><a href="#_cancel_reservation">==  Cancel Reservation</a></li>
<li><a href="#_cancel_orders">==  Cancel Orders</a></li>
<li><a href="#_services_and_directives">Services and directives</a></li>
<li><a href="#_price_calculator_service">Price-calculator-service</a></li>
<li><a href="#_authentication_4">Authentication</a></li>
<li><a href="#_snack_service">Snack Service</a></li>
<li><a href="#_window_service">Window Service</a></li>
<li><a href="#_equal_validator_directive">Equal-validator-directive</a></li>
<li><a href="#_mock_back_end">Mock Back-end</a></li>
<li><a href="#_booking">Booking</a></li>
<li><a href="#_orders">Orders</a></li>
<li><a href="#_dishes">Dishes</a></li>
<li><a href="#_login">Login</a></li>
<li><a href="#_security">Security</a></li>
<li><a href="#_auth_guard">Auth-guard</a></li>
<li><a href="#_jwt">JWT</a></li>
<li><a href="#_httpclient">==  HttpClient</a></li>
<li><a href="#_xamarin_design">Xamarin design</a></li>
</ul>
</li>
<li><a href="#_security_2">Security</a>
<ul class="sectlevel3">
<li><a href="#_two_factor_authentication">Two-Factor Authentication</a></li>
<li><a href="#_back_end_mechanism">Back-end mechanism</a></li>
<li><a href="#_activating_two_factor_authentication">Activating Two-Factor Authentication</a></li>
<li><a href="#_frontend">Frontend</a></li>
</ul>
</li>
<li><a href="#_testing">Testing</a></li>
<li><a href="#_server_side_2">Server Side</a>
<ul class="sectlevel4">
<li><a href="#_java_testing">Java testing</a></li>
<li><a href="#_component_testing">Component testing</a></li>
<li><a href="#_running_the_tests">Running the tests</a></li>
<li><a href="#_from_eclipse">From Eclipse</a></li>
<li><a href="#_from_command_line_using_maven">From command line using Maven</a></li>
<li><a href="#_net_testing">.NET testing</a></li>
<li><a href="#_nodejs_testing">NodeJS testing</a></li>
<li><a href="#_graphql_testing">GraphQL testing</a></li>
</ul>
</li>
<li><a href="#_client_side_2">Client Side</a>
<ul class="sectlevel4">
<li><a href="#_angular_testing">Angular testing</a></li>
<li><a href="#_3">==</a></li>
<li><a href="#_testing_components">Testing Components</a></li>
<li><a href="#_dialog_components">Dialog components</a></li>
<li><a href="#_testing_services">Testing Services</a></li>
<li><a href="#_testing_in_a_ci_environment">Testing in a CI environment</a></li>
<li><a href="#_xamarin_testing">Xamarin testing</a></li>
</ul>
</li>
<li><a href="#_end_to_end">End to end</a>
<ul class="sectlevel4">
<li><a href="#_mrchecker_e2e_testing">MrChecker E2E Testing</a></li>
<li><a href="#_introduction_5">Introduction</a></li>
<li><a href="#_how_to_use_it">How to use it</a></li>
<li><a href="#_end_to_end_tests_in_my_thai_star">End to end tests in My Thai Star</a></li>
</ul>
</li>
<li><a href="#_ui_design">UI design</a>
<ul class="sectlevel3">
<li><a href="#_style_guide">Style guide</a></li>
<li><a href="#_low_and_high_fidelity_wireframes">Low and high fidelity wireframes</a></li>
</ul>
</li>
<li><a href="#_cicd">CI/CD</a>
<ul class="sectlevel3">
<li><a href="#_my_thai_star_in_production_line">My Thai Star in Production Line</a></li>
<li><a href="#_what_is_pl">What is PL?</a></li>
<li><a href="#_introduction_6">Introduction</a></li>
<li><a href="#_where_can_i_find_all_my_thai_star_pipelines">Where can I find all My Thai Star Pipelines?</a></li>
<li><a href="#_ci_in_my_thai_star_stack">CI in My Thai Star stack</a></li>
<li><a href="#_how_to_configure_everything_out_of_the_box">How to configure everything out of the box</a></li>
<li><a href="#_deployment">Deployment</a></li>
<li><a href="#_where_docker_containers_will_be_running">Where Docker containers will be running?</a></li>
<li><a href="#_container_schema">Container Schema</a></li>
<li><a href="#_run_my_thai_star">Run My Thai Star</a></li>
<li><a href="#_mythaistar_on_native_kubernetes_as_a_service_nkaas"><code>MyThaiStar</code> on Native Kubernetes as a Service (nKaaS)</a></li>
<li><a href="#_setting_up_the_environment">Setting up the environment</a></li>
<li><a href="#_following_the_nkaas_guide">Following the nKaaS guide</a></li>
<li><a href="#_requesting_a_namespace">Requesting a namespace</a></li>
<li><a href="#_setting_up_harbor">Setting up Harbor</a></li>
<li><a href="#_setting_up_jenkins">Setting up Jenkins</a></li>
<li><a href="#_deploying_mts">Deploying MTS</a></li>
</ul>
</li>
</ul>
</div>
<div class="sect1">
<h2 id="_mythaistar"><a class="anchor" href="#_mythaistar"></a>MyThaiStar</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_1_my_thai_star_agile_framework"><a class="anchor" href="#_1_my_thai_star_agile_framework"></a>1.	My Thai Star – Agile Framework</h3>

</div>
<div class="sect2">
<h3 id="_1_1_team_setup"><a class="anchor" href="#_1_1_team_setup"></a>1.1 Team Setup</h3>
<div class="paragraph">
<p>The team working on the development of the My Thai Star app and the documentation beside the technical development works distributed in various locations across Germany, the Netherlands, Spain and Poland. For the communication part the team uses the two channels Skype and Mail and for the documentation part the team makes usage mainly of GitHub and JIRA.</p>
</div>
</div>
<div class="sect2">
<h3 id="_1_2_scrum_events"><a class="anchor" href="#_1_2_scrum_events"></a>1.2 Scrum events</h3>

</div>
<div class="sect2">
<h3 id="_sprint_planning"><a class="anchor" href="#_sprint_planning"></a>Sprint Planning</h3>
<div class="paragraph">
<p>Within the My Thai Star project we decided on having one hour Sprint Planning meetings for a four-week Sprints. This decision is based on the fact that this project is not the main project of the team members. As the backlog refinement is done during the Sprint Planning we make usage of the planningpoker.com tool for the estimation of the tasks.</p>
</div>
<div class="imageblock">
<div class="content">
<a class="image" href="images/methodology_01.png"><img src="_images/images/methodology_1.png" alt="Screenshot of planningpoker.com" width="450"></a>
</div>
<div class="title">Figure 1. Screenshot of planningpoker.com during Sprint 1 Planning</div>
</div>
<div class="paragraph">
<p>During the Sprint Planning meeting the team receives support from Devon colleagues outside the development. This feedback helps the team to focus on important functionalities and task by keeping the eyes on the overall aim which is to have a working application by the end of June 2017.</p>
</div>
</div>
<div class="sect2">
<h3 id="_sprint_review"><a class="anchor" href="#_sprint_review"></a>Sprint Review</h3>
<div class="paragraph">
<p>The Sprint Review meetings are time boxed to one hour for the four week Sprint. Within the Sprint Review meeting the team plans to do a retrospective of the finished Sprint. As well as it is done during the Sprint Planning the team receives support from Devon colleagues.</p>
</div>
</div>
<div class="sect2">
<h3 id="_sprint_retrospective"><a class="anchor" href="#_sprint_retrospective"></a>Sprint Retrospective</h3>
<div class="paragraph">
<p>For this project the team aligned on not having a specific Sprint Retrospective meeting. The team is going to have a retrospective of a finished Sprint during the Sprint Review.</p>
</div>
</div>
<div class="sect2">
<h3 id="_daily_stand_ups"><a class="anchor" href="#_daily_stand_ups"></a>Daily Stand-ups</h3>
<div class="paragraph">
<p>The team aligned on having two weekly Stand-up meetings instead of a Daily Stand-up meeting. In comparison with the time boxed length of 15mins described in the CAF for this project the team extended the Stand-up meeting to 30mins. The content of the meetings remains the same.</p>
</div>
</div>
<div class="sect2">
<h3 id="_backlog_refinement"><a class="anchor" href="#_backlog_refinement"></a>Backlog refinement</h3>
<div class="paragraph">
<p>The team decided that the backlog refinement meeting is part of the Sprint Planning meeting.</p>
</div>
</div>
<div class="sect2">
<h3 id="_1_3_establish_product_backlog"><a class="anchor" href="#_1_3_establish_product_backlog"></a>1.3 Establish Product Backlog</h3>
<div class="paragraph">
<p>For the My Thai Stair project the team decided on using the JIRA agile documentation which is one of the widely used agile tools. JIRA is equipped with several of useful tools regarding the agile software development (e.g. Scrum-Board). One of the big advantages of JIRA are the extensive configuration and  possibilities to personalize.</p>
</div>
<div class="paragraph">
<p>With having a list of the Epics and User Stories for the My Thai Star development in GitHub, the team transferred the User Stories into the JIRA backlog as it is shown in the screenshot below. All User Stories are labeled colorfully with the related Epic which shapes the backlog in clearly manner.</p>
</div>
<div class="imageblock">
<div class="content">
<a class="image" href="images/methodology_02.png"><img src="_images/images/methodology_2.png" alt="Screenshot of planningpoker.com" width="450"></a>
</div>
<div class="title">Figure 2. Screenshot of the JIRA backlog during Sprint 2</div>
</div>
<div class="paragraph">
<p>We decided on working with Sub-task as a single user story comprised a number of single and separated tasks. Another benefit of working with sub-task is that every single sub-task can be assigned to a single team member whereas a user story can only be assigned to one team member. By picking single sub-task the whole process of a user story is better organized.</p>
</div>
<div class="imageblock">
<div class="content">
<a class="image" href="images/methodology_03.png"><img src="_images/images/methodology_3.png" alt="Screenshot of Sub-tasks" width="450"></a>
</div>
<div class="title">Figure 3. Screenshots of Sub-tasks during Sprint 2</div>
</div>
</div>
<div class="sect2">
<h3 id="_2_my_thai_star_agile_diary"><a class="anchor" href="#_2_my_thai_star_agile_diary"></a>2.	My Thai Star – Agile Diary</h3>
<div class="paragraph">
<p>In parallel to the <code>Diary Ideation</code> we use this Agile Diary to document our Scrum events. The target of this diary is to describe the differences to the Scrum methodology as well as specific characteristics of the project. We also document the process on how we approach the Scrum methodology over the length of the project.</p>
</div>
</div>
<div class="sect2">
<h3 id="_24_03_2017_sprint_1_planning"><a class="anchor" href="#_24_03_2017_sprint_1_planning"></a>24.03.2017 Sprint 1 Planning</h3>
<div class="paragraph">
<p>Within the Sprint 1 Planning we used planning poker.com for the estimation of the user stories. The estimation process usually is part of the backlog refinement meeting. Regarding the project circumstances we decided to estimate the user stories during the Sprint Planning. Starting the estimation process we noticed that we had to align our interpretation of the estimation effort as these story points are not equivalent to a certain time interval. The story points are relative values to compare the effort of the user stories. With this in mind we proceeded with the estimation of the user stories. We decided to start Sprint 1 with the following user stories and the total amount of 37 story points:
•	<code>ICSDSHOW-2</code>	Create invite for friends	(8  Story Points)
•	<code>ICSDSHOW-4</code>	Create reservation		(3)
•	<code>ICSDSHOW-5</code>	Handle invite			(3)
•	<code>ICSDSHOW-6</code>	Revoke accepted invite 	(5)
•	<code>ICSDSHOW-9</code>	Cancel invite			(3)
•	<code>ICSDSHOW-11</code>	Filter menu			(5)
•	<code>ICSDSHOW-12</code>	Define order			(5)
•	<code>ICSDSHOW-13</code>	Order the order		(5)
As the Sprint Planning is time boxed to one hour we managed to hold this meeting within this time window.</p>
</div>
</div>
<div class="sect2">
<h3 id="_27_04_2017_sprint_1_review"><a class="anchor" href="#_27_04_2017_sprint_1_review"></a>27.04.2017 Sprint 1 Review</h3>
<div class="paragraph">
<p>During the Sprint 1 Review we had a discussion about the data model proposal. For the discussion we extended this particular Review meeting to 90min. As this discussion took almost 2/3 of the Review meeting we only had a short time left for our review of Sprint 1. For the following scrum events we decided to focus on the primary target of these events and have discussions needed for alignments in separate meetings.
Regarding the topic of splitting user stories we had the example of a certain user story which included a functionality of a twitter integration (<code>ICSDSHOW-17</code> User Profile and Twitter integration). As the twitter functionality could not have been implemented at this early point of time we thought about cutting the user story into two user stories. We aligned on mocking the twitter functionality until the dependencies are developed in order to test the components. As this user story is estimated with 13 story points it is a good example for the question whether to cut a user story into multiple user stories or not.
Unfortunately not all user stories of Sprint 1 could have been completed. Due this situation we discussed on whether pushing all unfinished user stories into the status done or moving them to Sprint 2. We aligned on transferring the unfinished user stories into the next Sprint. During the Sprint 1 the team underestimated that a lot of holidays crossed the Sprint 1 goals. As taking holidays and absences of team members into consideration is part of a Sprint Planning we have a learning effect on setting a Sprint Scope.</p>
</div>
</div>
<div class="sect2">
<h3 id="_03_05_2017_sprint_2_planning"><a class="anchor" href="#_03_05_2017_sprint_2_planning"></a>03.05.2017 Sprint 2 Planning</h3>
<div class="paragraph">
<p>As we aligned during the Sprint 1 Review on transferring unfinished user stories into Sprint 2 the focus for Sprint 2 was on finishing these transferred user stories. During our discussion on how many user stories we could work on in Sprint 2 we needed to remind ourselves that the overall target is to develop an example application for the devonfw. Considering this we aligned on a clear target for Sprint 2: To focus on finishing User Stories as we need to aim for a practicable and realizable solution. Everybody aligned on the aim of having a working application at the end of Sprint 2.
For the estimation process of user stories we make again usage of planningpoker.com as the team prefers this “easy-to-use” tool. During our second estimation process we had the situation in which the estimated story points differs strongly from one team member to another. In this case the team members shortly explains how the understood and interpreted the user story. It turned out that team members misinterpreted the user stories. With having this discussion all team members got the same understanding of the specific functionality and scope of a user story. After the alignment the team members adjusted their estimations.
Beside this need for discussion the team estimated most of the user stories with very similar story points. This fact shows the increase within the effort estimation for each team member in comparison to Sprint 1 planning. Over the short time of two Sprint planning the team received a better understanding and feeling for the estimation with story points.</p>
</div>
</div>
<div class="sect2">
<h3 id="_01_06_2017_sprint_2_review"><a class="anchor" href="#_01_06_2017_sprint_2_review"></a>01.06.2017 Sprint 2 Review</h3>
<div class="paragraph">
<p>As our Sprint 1 Review four weeks ago was not completely structured like a Sprint Review meeting we focused on the actual intention of a Sprint Review meeting during Sprint 2 Review. This means we demonstrated the completed and implemented functionalities with screen sharing and the product owner accepted the completed tasks.
Within the User Story <code>ICSDSHOW-22</code> “See all orders/reservations” the functionality “filtering the list by date” could have not been implemented during Sprint 2. The team was unsure on how to proceed with this task. One team member added that especially in regards of having a coherent release, implementing less but working functionalities is much better than implementing more but not working functionalities. For this the team reminded itself focusing on completing functionalities and not working straight to a working application.</p>
</div>
<div id="toc" class="toc">
<div id="toctitle" class="title">Table of Contents</div>
<ul class="sectlevel1">
<li><a href="#_mythaistar">MyThaiStar</a>
<ul class="sectlevel2">
<li><a href="#_1_my_thai_star_agile_framework">1.	My Thai Star – Agile Framework</a></li>
<li><a href="#_1_1_team_setup">1.1 Team Setup</a></li>
<li><a href="#_1_2_scrum_events">1.2 Scrum events</a></li>
<li><a href="#_sprint_planning">Sprint Planning</a></li>
<li><a href="#_sprint_review">Sprint Review</a></li>
<li><a href="#_sprint_retrospective">Sprint Retrospective</a></li>
<li><a href="#_daily_stand_ups">Daily Stand-ups</a></li>
<li><a href="#_backlog_refinement">Backlog refinement</a></li>
<li><a href="#_1_3_establish_product_backlog">1.3 Establish Product Backlog</a></li>
<li><a href="#_2_my_thai_star_agile_diary">2.	My Thai Star – Agile Diary</a></li>
<li><a href="#_24_03_2017_sprint_1_planning">24.03.2017 Sprint 1 Planning</a></li>
<li><a href="#_27_04_2017_sprint_1_review">27.04.2017 Sprint 1 Review</a></li>
<li><a href="#_03_05_2017_sprint_2_planning">03.05.2017 Sprint 2 Planning</a></li>
<li><a href="#_01_06_2017_sprint_2_review">01.06.2017 Sprint 2 Review</a></li>
<li><a href="#_user_stories">User Stories</a></li>
<li><a href="#_epic_invite_friends">Epic: Invite friends</a></li>
<li><a href="#_us_create_invite_for_friends">US: create invite for friends</a></li>
<li><a href="#_acceptance_criteria">== Acceptance criteria</a></li>
<li><a href="#_us_create_reservation">US: create reservation</a></li>
<li><a href="#_acceptance_criteria_2">== Acceptance criteria</a></li>
<li><a href="#_wireframes">== Wireframes</a></li>
<li><a href="#_us_handle_invite">US: handle invite</a></li>
<li><a href="#_ac">== AC:</a></li>
<li><a href="#_us_revoke_accepted_invite">US: revoke accepted invite</a></li>
<li><a href="#_ac_2">==  AC:</a></li>
<li><a href="#_us_calculate_best_table">US: calculate best table</a></li>
<li><a href="#_details">== Details</a></li>
<li><a href="#_us_find_table_by_reservation_info">US: find table by reservation info</a></li>
<li><a href="#_ac_3">== AC:</a></li>
<li><a href="#_us_cancel_invite">US: cancel invite</a></li>
<li><a href="#_ac_4">== AC:</a></li>
<li><a href="#_epic_digital_menu">Epic: Digital Menu</a></li>
<li><a href="#_us_filter_menu">US: filter menu</a></li>
<li><a href="#_ac_5">== AC:</a></li>
<li><a href="#_us_define_order">US: Define order</a></li>
<li><a href="#_ac_6">== AC:</a></li>
<li><a href="#_us_order_the_order">US: Order the order</a></li>
<li><a href="#_us_cancel_order">US: Cancel order</a></li>
<li><a href="#_us_read_twitter_rating_for_dishes">US: Read twitter rating for dishes</a></li>
<li><a href="#_epic_user_profile">Epic: User Profile</a></li>
<li><a href="#_us_user_profile">US: User Profile</a></li>
<li><a href="#_epic_rate_by_twitter">Epic: Rate by twitter</a></li>
<li><a href="#_us_receive_mail_to_rate_your_dish">US: Receive mail to rate your dish</a></li>
<li><a href="#_us_rate_your_dish">US: Rate your dish</a></li>
<li><a href="#_epic_waiter_cockpit">Epic: Waiter Cockpit</a></li>
<li><a href="#_us_see_all_ordersreservations">US: See all orders/reservations</a></li>
</ul>
</li>
<li><a href="#_technical_design">Technical design</a></li>
<li><a href="#_data_model">Data Model</a>
<ul class="sectlevel4">
<li><a href="#_data_model_2">Data Model</a></li>
<li><a href="#_nosql_data_model">NoSQL Data Model</a></li>
</ul>
</li>
<li><a href="#_server_side">Server Side</a>
<ul class="sectlevel4">
<li><a href="#_java_design">Java design</a></li>
<li><a href="#_introduction">Introduction</a></li>
<li><a href="#_basic_architecture_details">Basic architecture details</a></li>
<li><a href="#_project_modules">Project modules</a></li>
<li><a href="#_components">Components</a></li>
<li><a href="#_layers">Layers</a></li>
<li><a href="#_component_structure">Component structure</a></li>
<li><a href="#_dependency_injection">Dependency injection</a></li>
<li><a href="#_layers_communication">Layers communication</a></li>
<li><a href="#_service_layer">Service layer</a></li>
<li><a href="#_service_api">Service API</a></li>
<li><a href="#_service_impl">Service <code>impl</code></a></li>
<li><a href="#">==</a></li>
<li><a href="#_logic_layer">Logic layer</a></li>
<li><a href="#_data_access_layer">Data Access layer</a></li>
<li><a href="#_security_with_json_web_token">Security with Json Web Token</a></li>
<li><a href="#_jwt_basics">JWT basics</a></li>
<li><a href="#_jwt_implementation_details">JWT implementation details</a></li>
<li><a href="#_authentication">==  Authentication</a></li>
<li><a href="#_token_set_up">==  Token set up</a></li>
<li><a href="#_current_user_request">==  Current User request</a></li>
<li><a href="#_authorization">==  Authorization</a></li>
<li><a href="#_net_design">.NET design</a></li>
<li><a href="#_nodejs_design_deprecated">NodeJS design (deprecated)</a></li>
<li><a href="#_introduction_2">Introduction</a></li>
<li><a href="#_basic_architecture_details_2">Basic architecture details</a></li>
<li><a href="#_layers_2">Layers</a></li>
<li><a href="#_service_layer_2">Service layer</a></li>
<li><a href="#_logic_layer_and_data_access_layer">Logic layer and Data access layer</a></li>
<li><a href="#_security_with_json_web_token_2">Security with Json Web Token</a></li>
<li><a href="#_jwt_basics_2">JWT basics</a></li>
<li><a href="#_jwt_implementation_details_2">JWT implementation details</a></li>
<li><a href="#_authentication_2">==  Authentication</a></li>
<li><a href="#_token_set_up_2">==  Token set up</a></li>
<li><a href="#_current_user_request_2">==  Current User request</a></li>
<li><a href="#_authorization_2">==  Authorization</a></li>
<li><a href="#_serverless_design_deprecated">Serverless design (deprecated)</a></li>
<li><a href="#_introduction_3">Introduction</a></li>
<li><a href="#_basic_architecture_details_3">Basic architecture details</a></li>
<li><a href="#_layers_3">Layers</a></li>
<li><a href="#_service_layer_3">Service layer</a></li>
<li><a href="#_2">==</a></li>
<li><a href="#_logic_layer_and_data_access_layer_2">Logic layer and Data access layer</a></li>
<li><a href="#_security_with_json_web_token_3">Security with Json Web Token</a></li>
<li><a href="#_jwt_basics_3">JWT basics</a></li>
<li><a href="#_jwt_implementation_details_3">JWT implementation details</a></li>
<li><a href="#_authentication_3">==  Authentication</a></li>
<li><a href="#_token_set_up_3">==  Token set up</a></li>
<li><a href="#_current_user_request_3">==  Current User request</a></li>
<li><a href="#_authorization_3">==  Authorization</a></li>
<li><a href="#_graphql_design">GraphQL design</a></li>
</ul>
</li>
<li><a href="#_client_side">Client Side</a>
<ul class="sectlevel4">
<li><a href="#_angular_design">Angular design</a></li>
<li><a href="#_introduction_4">Introduction</a></li>
<li><a href="#_basic_project_structure">Basic project structure</a></li>
<li><a href="#_main_views_and_components">Main Views and components</a></li>
<li><a href="#_public_area">Public area</a></li>
<li><a href="#_app_component">==  App Component</a></li>
<li><a href="#_order_sidenav">== Order sidenav</a></li>
<li><a href="#_navigation_sidenav_only_for_mobile">== Navigation sidenav (only for mobile)</a></li>
<li><a href="#_header">== Header</a></li>
<li><a href="#_footer_only_for_desktop">== Footer (only for desktop)</a></li>
<li><a href="#_home_component">==  Home-Component</a></li>
<li><a href="#_menu_component">==  Menu-Component</a></li>
<li><a href="#_menu_card">== Menu-card</a></li>
<li><a href="#_book_table_component">==  Book Table Component</a></li>
<li><a href="#_book_table_dialog">== Book-table-dialog</a></li>
<li><a href="#_invitation_dialog">== Invitation-dialog</a></li>
<li><a href="#_user_area">==  User Area</a></li>
<li><a href="#_login_dialog">== Login-dialog</a></li>
<li><a href="#_password_dialog">== Password-dialog</a></li>
<li><a href="#_twitter_dialog">== Twitter-dialog</a></li>
<li><a href="#_waiter_cockpit_area">Waiter cockpit area</a></li>
<li><a href="#_order_cockpit_component">==  Order Cockpit Component</a></li>
<li><a href="#_order_dialog">== Order-dialog</a></li>
<li><a href="#_reservation_cockpit_component">==  Reservation Cockpit Component</a></li>
<li><a href="#_reservation_dialog">== Reservation-dialog</a></li>
<li><a href="#_email_management">Email Management</a></li>
<li><a href="#_accept_invite">==  Accept Invite</a></li>
<li><a href="#_reject_invite">==  Reject Invite</a></li>
<li><a href="#_cancel_reservation">==  Cancel Reservation</a></li>
<li><a href="#_cancel_orders">==  Cancel Orders</a></li>
<li><a href="#_services_and_directives">Services and directives</a></li>
<li><a href="#_price_calculator_service">Price-calculator-service</a></li>
<li><a href="#_authentication_4">Authentication</a></li>
<li><a href="#_snack_service">Snack Service</a></li>
<li><a href="#_window_service">Window Service</a></li>
<li><a href="#_equal_validator_directive">Equal-validator-directive</a></li>
<li><a href="#_mock_back_end">Mock Back-end</a></li>
<li><a href="#_booking">Booking</a></li>
<li><a href="#_orders">Orders</a></li>
<li><a href="#_dishes">Dishes</a></li>
<li><a href="#_login">Login</a></li>
<li><a href="#_security">Security</a></li>
<li><a href="#_auth_guard">Auth-guard</a></li>
<li><a href="#_jwt">JWT</a></li>
<li><a href="#_httpclient">==  HttpClient</a></li>
<li><a href="#_xamarin_design">Xamarin design</a></li>
</ul>
</li>
<li><a href="#_security_2">Security</a>
<ul class="sectlevel3">
<li><a href="#_two_factor_authentication">Two-Factor Authentication</a></li>
<li><a href="#_back_end_mechanism">Back-end mechanism</a></li>
<li><a href="#_activating_two_factor_authentication">Activating Two-Factor Authentication</a></li>
<li><a href="#_frontend">Frontend</a></li>
</ul>
</li>
<li><a href="#_testing">Testing</a></li>
<li><a href="#_server_side_2">Server Side</a>
<ul class="sectlevel4">
<li><a href="#_java_testing">Java testing</a></li>
<li><a href="#_component_testing">Component testing</a></li>
<li><a href="#_running_the_tests">Running the tests</a></li>
<li><a href="#_from_eclipse">From Eclipse</a></li>
<li><a href="#_from_command_line_using_maven">From command line using Maven</a></li>
<li><a href="#_net_testing">.NET testing</a></li>
<li><a href="#_nodejs_testing">NodeJS testing</a></li>
<li><a href="#_graphql_testing">GraphQL testing</a></li>
</ul>
</li>
<li><a href="#_client_side_2">Client Side</a>
<ul class="sectlevel4">
<li><a href="#_angular_testing">Angular testing</a></li>
<li><a href="#_3">==</a></li>
<li><a href="#_testing_components">Testing Components</a></li>
<li><a href="#_dialog_components">Dialog components</a></li>
<li><a href="#_testing_services">Testing Services</a></li>
<li><a href="#_testing_in_a_ci_environment">Testing in a CI environment</a></li>
<li><a href="#_xamarin_testing">Xamarin testing</a></li>
</ul>
</li>
<li><a href="#_end_to_end">End to end</a>
<ul class="sectlevel4">
<li><a href="#_mrchecker_e2e_testing">MrChecker E2E Testing</a></li>
<li><a href="#_introduction_5">Introduction</a></li>
<li><a href="#_how_to_use_it">How to use it</a></li>
<li><a href="#_end_to_end_tests_in_my_thai_star">End to end tests in My Thai Star</a></li>
</ul>
</li>
<li><a href="#_ui_design">UI design</a>
<ul class="sectlevel3">
<li><a href="#_style_guide">Style guide</a></li>
<li><a href="#_low_and_high_fidelity_wireframes">Low and high fidelity wireframes</a></li>
</ul>
</li>
<li><a href="#_cicd">CI/CD</a>
<ul class="sectlevel3">
<li><a href="#_my_thai_star_in_production_line">My Thai Star in Production Line</a></li>
<li><a href="#_what_is_pl">What is PL?</a></li>
<li><a href="#_introduction_6">Introduction</a></li>
<li><a href="#_where_can_i_find_all_my_thai_star_pipelines">Where can I find all My Thai Star Pipelines?</a></li>
<li><a href="#_ci_in_my_thai_star_stack">CI in My Thai Star stack</a></li>
<li><a href="#_how_to_configure_everything_out_of_the_box">How to configure everything out of the box</a></li>
<li><a href="#_deployment">Deployment</a></li>
<li><a href="#_where_docker_containers_will_be_running">Where Docker containers will be running?</a></li>
<li><a href="#_container_schema">Container Schema</a></li>
<li><a href="#_run_my_thai_star">Run My Thai Star</a></li>
<li><a href="#_mythaistar_on_native_kubernetes_as_a_service_nkaas"><code>MyThaiStar</code> on Native Kubernetes as a Service (nKaaS)</a></li>
<li><a href="#_setting_up_the_environment">Setting up the environment</a></li>
<li><a href="#_following_the_nkaas_guide">Following the nKaaS guide</a></li>
<li><a href="#_requesting_a_namespace">Requesting a namespace</a></li>
<li><a href="#_setting_up_harbor">Setting up Harbor</a></li>
<li><a href="#_setting_up_jenkins">Setting up Jenkins</a></li>
<li><a href="#_deploying_mts">Deploying MTS</a></li>
</ul>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_user_stories"><a class="anchor" href="#_user_stories"></a>User Stories</h3>
<div class="paragraph">
<p>The list of user stories, exported from JIRA, can be downloaded from <a href="resources/us_export_jira.xlsx">here</a>.</p>
</div>
</div>
<div class="sect2">
<h3 id="_epic_invite_friends"><a class="anchor" href="#_epic_invite_friends"></a>Epic: Invite friends</h3>

</div>
<div class="sect2">
<h3 id="_us_create_invite_for_friends"><a class="anchor" href="#_us_create_invite_for_friends"></a>US: create invite for friends</h3>
<div class="paragraph">
<p>Epic: Invite friends</p>
</div>
<div class="paragraph">
<p>As a guest I want to create an dinner event by entering date and time and adding potential guests by their emails so that each potential guest will receives an email in order to confirm or decline my invite.</p>
</div>
</div>
<div class="sect2">
<h3 id="_acceptance_criteria"><a class="anchor" href="#_acceptance_criteria"></a>== Acceptance criteria</h3>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>only date and time in future possible and both required</p>
</li>
<li>
<p>only valid email addresses: <a href="mailto:text@text.xx">text@text.xx</a>, one entered email-address is required</p>
</li>
<li>
<p>if <code>AGB</code> are not checked, an error message is shown</p>
</li>
<li>
<p>after the invite is done</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>I see the confirmation screen of my invite (see wireframe)</p>
</li>
<li>
<p>I receive a confirmation email about my invite containing date, time and invited guests</p>
</li>
<li>
<p>all guests receive a mail with my invite</p>
</li>
</ol>
</div>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="_us_create_reservation"><a class="anchor" href="#_us_create_reservation"></a>US: create reservation</h3>
<div class="paragraph">
<p>Epic: Invite friends</p>
</div>
<div class="paragraph">
<p>As a guest I want to create a reservation by entering date and time and number of adults and kids</p>
</div>
</div>
<div class="sect2">
<h3 id="_acceptance_criteria_2"><a class="anchor" href="#_acceptance_criteria_2"></a>== Acceptance criteria</h3>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>only date and time in future possible and both required</p>
</li>
<li>
<p>only valid email addresses: <a href="mailto:text@text.xx">text@text.xx</a>, one entered email-address is required</p>
</li>
<li>
<p>if <code>AGB</code> are not checked, an error message is shown</p>
</li>
<li>
<p>after the reservation is done</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>I see a confirmation screen of my reservation with date-time, number of persons and kids</p>
</li>
<li>
<p>I receive a confirmation email about my reservation</p>
</li>
</ol>
</div>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="_wireframes"><a class="anchor" href="#_wireframes"></a>== Wireframes</h3>
<div class="paragraph">
<p>see real time board</p>
</div>
</div>
<div class="sect2">
<h3 id="_us_handle_invite"><a class="anchor" href="#_us_handle_invite"></a>US: handle invite</h3>
<div class="paragraph">
<p>As an invited guest I would like to receive an email - after somebody as invited me - with the option to accept or decline the invite so that the system knows about my participation</p>
</div>
</div>
<div class="sect2">
<h3 id="_ac"><a class="anchor" href="#_ac"></a>== AC:</h3>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>the mail contains the following information about the invite</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>who has invited</p>
</li>
<li>
<p>who else is invited</p>
</li>
<li>
<p>date and time of the invite</p>
</li>
<li>
<p>button to accept or decline</p>
</li>
<li>
<p>after pressing the buttons the system will store the status (yes/no) of my invite</p>
</li>
</ol>
</div>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="_us_revoke_accepted_invite"><a class="anchor" href="#_us_revoke_accepted_invite"></a>US: revoke accepted invite</h3>
<div class="paragraph">
<p>As an invited guest I would like to revoke my previous answer in order to inform the system and the inviter about my no showup</p>
</div>
</div>
<div class="sect2">
<h3 id="_ac_2"><a class="anchor" href="#_ac_2"></a>==  AC:</h3>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>the inviter and myself receives an email about my cancellation</p>
</li>
<li>
<p>the system sets my status of my invite to no</p>
</li>
<li>
<p>in case I have placed an order, the order is also removed from the system.</p>
</li>
<li>
<p>the cancellation is only possible 10 minutes before the event takes place. The system shows a message that cancellation is not possible anymore.</p>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="_us_calculate_best_table"><a class="anchor" href="#_us_calculate_best_table"></a>US: calculate best table</h3>
<div class="paragraph">
<p>As a guest I would like the system to check (1 hour before my invite) all my invites and to reserve a table fitting the number of accepted users</p>
</div>
</div>
<div class="sect2">
<h3 id="_details"><a class="anchor" href="#_details"></a>== Details</h3>
<div class="paragraph">
<p>Pseudo-algorithm for reservation:
Find table for given date and time where seats of guests &gt;= Count of invited guests plus one. In case no results, decline request and show error message to user. In case of any result, make a reservation for table&#8230;&#8203;.
For each decline of a guest remove guest and search with reduced number for new table. In case table is found, reserve it and remove reservation from previous table. In case not, do not change reservations.</p>
</div>
</div>
<div class="sect2">
<h3 id="_us_find_table_by_reservation_info"><a class="anchor" href="#_us_find_table_by_reservation_info"></a>US: find table by reservation info</h3>
<div class="paragraph">
<p>As a waiter I would like to search by reference number or email address for the reserved table in order to know the table for my visit. (when arriving at the restaurant)</p>
</div>
</div>
<div class="sect2">
<h3 id="_ac_3"><a class="anchor" href="#_ac_3"></a>== AC:</h3>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>After entering the email the systems shows the number of the table. In case no reservation found, a message is shown.</p>
</li>
<li>
<p>Entered email address could be email of inviter or any invited guest.</p>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="_us_cancel_invite"><a class="anchor" href="#_us_cancel_invite"></a>US: cancel invite</h3>
<div class="paragraph">
<p>Epic: Invite friends</p>
</div>
<div class="paragraph">
<p>As a guests who has sent an invite I want to be able to cancel my previous invite in order to inform the restaurant and my invited guests that I will not show up</p>
</div>
</div>
<div class="sect2">
<h3 id="_ac_4"><a class="anchor" href="#_ac_4"></a>== AC:</h3>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>the option to cancel the invite is available in the confirmation-mail about my invite</p>
</li>
<li>
<p>after my cancellation all invited guests receives a mail about the cancellation</p>
</li>
<li>
<p>I see a confirmation that my invite was canceled successfully</p>
</li>
<li>
<p>after my cancellation my invite and reservation and all orders related to it are deleted from the system and no one can accept or decline any invite for it</p>
</li>
<li>
<p>the cancellation is only possible one hour before the invite takes place. After that I am not allowed to cancel it any more.</p>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="_epic_digital_menu"><a class="anchor" href="#_epic_digital_menu"></a>Epic: Digital Menu</h3>

</div>
<div class="sect2">
<h3 id="_us_filter_menu"><a class="anchor" href="#_us_filter_menu"></a>US: filter menu</h3>
<div class="paragraph">
<p>As a guest I want to filter the menu so that I only see the dishes I am interested in</p>
</div>
</div>
<div class="sect2">
<h3 id="_ac_5"><a class="anchor" href="#_ac_5"></a>== AC:</h3>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>the guest can filter by</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>type: starter | main dish | dessert; XOR; if nothing is selected all are shown (default value)</p>
</li>
<li>
<p>veggy (yes|no|does not matter (default))</p>
</li>
<li>
<p>vegan (yes|no|does not matter (default))</p>
</li>
<li>
<p>rice (yes|no|does not matter (default))</p>
</li>
<li>
<p>curry (yes|no|does not matter (default))</p>
</li>
<li>
<p>noodle (yes|no|does not matter (default))</p>
</li>
<li>
<p>price (range)</p>
</li>
<li>
<p>ratings (range)</p>
</li>
<li>
<p>my favorite (yes|no|does not matter (default))&#8201;&#8212;&#8201;free text (search in title and description)</p>
</li>
</ol>
</div>
</li>
<li>
<p>the guest can sort by price asc, rating asc</p>
</li>
<li>
<p>after setting the filter only dishes are shown which fulfills those criteria</p>
</li>
<li>
<p>by pressing the button reset filter all filter are reset to the initial value</p>
</li>
<li>
<p>by pressing the filter button the filter is applied [or is it triggered after each change?]</p>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="_us_define_order"><a class="anchor" href="#_us_define_order"></a>US: Define order</h3>
<div class="paragraph">
<p>As a guest I want to define my order by selecting dishes from the menu</p>
</div>
</div>
<div class="sect2">
<h3 id="_ac_6"><a class="anchor" href="#_ac_6"></a>== AC:</h3>
<div class="ulist">
<ul>
<li>
<p>The guest can add each dish to the order</p>
</li>
<li>
<p>In case the guest adds the same dish multiple times, a counter in the order for this dish is increased for this dish</p>
</li>
<li>
<p>The guest can remove the dish from the order</p>
</li>
<li>
<p>The guest can add for each main dish the type of meat (pork, chicken, tofu)</p>
</li>
<li>
<p>The guest can add for each dish a free-text-comment</p>
</li>
<li>
<p>After adding/removing any dish the price is calculated including VAT</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_us_order_the_order"><a class="anchor" href="#_us_order_the_order"></a>US: Order the order</h3>
<div class="paragraph">
<p>As a guest I want to order my selected dishes (order)</p>
</div>
<div class="paragraph">
<p>AC:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>I receive a mail containing my order with all dishes and the final price</p>
</li>
<li>
<p>precondition for ordering:</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Each order must be associated with a reservation / invite. Without any reference no order could be placed. The reference could be obtained from a previous reservation/invite (created during same session) or by the previous accepted invite (link in email) or by entering the reference id when asked by the system.</p>
<div class="olist lowerroman">
<ol class="lowerroman" type="i">
<li>
<p>In case precondition is not fulfilled, the guest is asked</p>
<div class="olist upperalpha">
<ol class="upperalpha" type="A">
<li>
<p>whether he/she would like to create a reservation/invite and is forwarded to US Invite Friends. Only after finalizing the reservation the order is accepted.</p>
</li>
<li>
<p>or he/she would enter previous created reservation-id he/she knows in order to associate his/her order with this reservation</p>
</li>
</ol>
</div>
</li>
</ol>
</div>
</li>
</ol>
</div>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="_us_cancel_order"><a class="anchor" href="#_us_cancel_order"></a>US: Cancel order</h3>
<div class="paragraph">
<p>As a guest I want to cancel my order.</p>
</div>
<div class="paragraph">
<p>AC:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>in my received confirmation mail I have the option to cancel my order</p>
</li>
<li>
<p>the cancellation is only possible one hour before my reservation takes place</p>
</li>
<li>
<p>my order is deleted from the system</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>Remark: Changing the order is not possible. For that the order must be canceled and created from scratch again</p>
</div>
</div>
<div class="sect2">
<h3 id="_us_read_twitter_rating_for_dishes"><a class="anchor" href="#_us_read_twitter_rating_for_dishes"></a>US: Read twitter rating for dishes</h3>
<div class="paragraph">
<p>As a guest I want to read for all dishes the rating done be twitter because I would like to know the opinion of others</p>
</div>
<div class="paragraph">
<p>AC:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>For each dish I see the latest 3 comments done by twitter for this vote (text, username, avatar)</p>
</li>
<li>
<p>For each dish I see the number of likes done by twitter</p>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="_epic_user_profile"><a class="anchor" href="#_epic_user_profile"></a>Epic: User Profile</h3>

</div>
<div class="sect2">
<h3 id="_us_user_profile"><a class="anchor" href="#_us_user_profile"></a>US: User Profile</h3>
<div class="paragraph">
<p>As a guest I want to have a user profile to associate it with my twitter account to be able to like/rate dishes</p>
</div>
<div class="paragraph">
<p>AC:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Username of my profile is my email address</p>
</li>
<li>
<p>My profile is protected by password</p>
</li>
<li>
<p>I can log in and log out to my profile</p>
</li>
<li>
<p>I can reset my password by triggering the reset by mail</p>
</li>
<li>
<p>I can associate my profile with my twitter account in order to rate dishes and store my favorites by liking posts associated to dishes</p>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="_epic_rate_by_twitter"><a class="anchor" href="#_epic_rate_by_twitter"></a>Epic: Rate by twitter</h3>

</div>
<div class="sect2">
<h3 id="_us_receive_mail_to_rate_your_dish"><a class="anchor" href="#_us_receive_mail_to_rate_your_dish"></a>US: Receive mail to rate your dish</h3>
<div class="paragraph">
<p>As a guest I want to receive a mail by the system in order to rate my dish</p>
</div>
</div>
<div class="sect2">
<h3 id="_us_rate_your_dish"><a class="anchor" href="#_us_rate_your_dish"></a>US: Rate your dish</h3>
<div class="paragraph">
<p>As a guest I want to add a comment or a like via my twitter account for a dish</p>
</div>
<div class="paragraph">
<p>AC:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Before I write my rate I would like to be able to read all tweets of other users for this dish</p>
</li>
<li>
<p>I would like to see the number of likes for a dish</p>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="_epic_waiter_cockpit"><a class="anchor" href="#_epic_waiter_cockpit"></a>Epic: Waiter Cockpit</h3>

</div>
<div class="sect2">
<h3 id="_us_see_all_ordersreservations"><a class="anchor" href="#_us_see_all_ordersreservations"></a>US: See all orders/reservations</h3>
<div class="paragraph">
<p>As a waiter I want to see all orders/reservation in order to know what is going on in my restaurant</p>
</div>
<div class="paragraph">
<p>AC:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>all orders/reservations are shown in a list view (read-only). Those list can be filtered and sorted (similar to excel-data-filters)</p>
</li>
<li>
<p>orders/reservations are shown in separate lists.</p>
</li>
<li>
<p>for each order the dish, meat, comment, item, reservation-id, reservation date-time, creation-date-time is shown</p>
</li>
<li>
<p>for each reservation the inviters email, the guests-emails, the number of accepts and declines, calculated table number, the reservation-id, reservation date-time and creation-date-time are shown</p>
</li>
<li>
<p>the default filter for all lists is the today&#8217;s date for reservation date-time. this filter can be deleted.</p>
</li>
<li>
<p>only reservations and orders with reservation date in the future shall be available in this view. All other orders and reservation shall not be deleted; for data Analytics those orders and reservation shall still exist in the system.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>checklist:</p>
</div>
<div class="paragraph">
<p>talk about:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>who?</p>
</li>
<li>
<p>what?</p>
</li>
<li>
<p>why (purpose)</p>
</li>
<li>
<p>why (objective)</p>
</li>
<li>
<p>what happens outside the software</p>
</li>
<li>
<p>what might go wrong</p>
</li>
<li>
<p>any question or assumptions (write them down) , DoR should check that those sections are empty.</p>
</li>
<li>
<p>is there any better solution?</p>
</li>
<li>
<p>how (technical perspective)</p>
</li>
<li>
<p>do a rough estimate</p>
</li>
<li>
<p>check INVEST</p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_technical_design"><a class="anchor" href="#_technical_design"></a>Technical design</h2>
<div class="sectionbody">

</div>
</div>
<div class="sect1">
<h2 id="_data_model"><a class="anchor" href="#_data_model"></a>Data Model</h2>
<div class="sectionbody">
<div id="toc" class="toc">
<div id="toctitle" class="title">Table of Contents</div>
<ul class="sectlevel1">
<li><a href="#_mythaistar">MyThaiStar</a>
<ul class="sectlevel2">
<li><a href="#_1_my_thai_star_agile_framework">1.	My Thai Star – Agile Framework</a></li>
<li><a href="#_1_1_team_setup">1.1 Team Setup</a></li>
<li><a href="#_1_2_scrum_events">1.2 Scrum events</a></li>
<li><a href="#_sprint_planning">Sprint Planning</a></li>
<li><a href="#_sprint_review">Sprint Review</a></li>
<li><a href="#_sprint_retrospective">Sprint Retrospective</a></li>
<li><a href="#_daily_stand_ups">Daily Stand-ups</a></li>
<li><a href="#_backlog_refinement">Backlog refinement</a></li>
<li><a href="#_1_3_establish_product_backlog">1.3 Establish Product Backlog</a></li>
<li><a href="#_2_my_thai_star_agile_diary">2.	My Thai Star – Agile Diary</a></li>
<li><a href="#_24_03_2017_sprint_1_planning">24.03.2017 Sprint 1 Planning</a></li>
<li><a href="#_27_04_2017_sprint_1_review">27.04.2017 Sprint 1 Review</a></li>
<li><a href="#_03_05_2017_sprint_2_planning">03.05.2017 Sprint 2 Planning</a></li>
<li><a href="#_01_06_2017_sprint_2_review">01.06.2017 Sprint 2 Review</a></li>
<li><a href="#_user_stories">User Stories</a></li>
<li><a href="#_epic_invite_friends">Epic: Invite friends</a></li>
<li><a href="#_us_create_invite_for_friends">US: create invite for friends</a></li>
<li><a href="#_acceptance_criteria">== Acceptance criteria</a></li>
<li><a href="#_us_create_reservation">US: create reservation</a></li>
<li><a href="#_acceptance_criteria_2">== Acceptance criteria</a></li>
<li><a href="#_wireframes">== Wireframes</a></li>
<li><a href="#_us_handle_invite">US: handle invite</a></li>
<li><a href="#_ac">== AC:</a></li>
<li><a href="#_us_revoke_accepted_invite">US: revoke accepted invite</a></li>
<li><a href="#_ac_2">==  AC:</a></li>
<li><a href="#_us_calculate_best_table">US: calculate best table</a></li>
<li><a href="#_details">== Details</a></li>
<li><a href="#_us_find_table_by_reservation_info">US: find table by reservation info</a></li>
<li><a href="#_ac_3">== AC:</a></li>
<li><a href="#_us_cancel_invite">US: cancel invite</a></li>
<li><a href="#_ac_4">== AC:</a></li>
<li><a href="#_epic_digital_menu">Epic: Digital Menu</a></li>
<li><a href="#_us_filter_menu">US: filter menu</a></li>
<li><a href="#_ac_5">== AC:</a></li>
<li><a href="#_us_define_order">US: Define order</a></li>
<li><a href="#_ac_6">== AC:</a></li>
<li><a href="#_us_order_the_order">US: Order the order</a></li>
<li><a href="#_us_cancel_order">US: Cancel order</a></li>
<li><a href="#_us_read_twitter_rating_for_dishes">US: Read twitter rating for dishes</a></li>
<li><a href="#_epic_user_profile">Epic: User Profile</a></li>
<li><a href="#_us_user_profile">US: User Profile</a></li>
<li><a href="#_epic_rate_by_twitter">Epic: Rate by twitter</a></li>
<li><a href="#_us_receive_mail_to_rate_your_dish">US: Receive mail to rate your dish</a></li>
<li><a href="#_us_rate_your_dish">US: Rate your dish</a></li>
<li><a href="#_epic_waiter_cockpit">Epic: Waiter Cockpit</a></li>
<li><a href="#_us_see_all_ordersreservations">US: See all orders/reservations</a></li>
</ul>
</li>
<li><a href="#_technical_design">Technical design</a></li>
<li><a href="#_data_model">Data Model</a>
<ul class="sectlevel4">
<li><a href="#_data_model_2">Data Model</a></li>
<li><a href="#_nosql_data_model">NoSQL Data Model</a></li>
</ul>
</li>
<li><a href="#_server_side">Server Side</a>
<ul class="sectlevel4">
<li><a href="#_java_design">Java design</a></li>
<li><a href="#_introduction">Introduction</a></li>
<li><a href="#_basic_architecture_details">Basic architecture details</a></li>
<li><a href="#_project_modules">Project modules</a></li>
<li><a href="#_components">Components</a></li>
<li><a href="#_layers">Layers</a></li>
<li><a href="#_component_structure">Component structure</a></li>
<li><a href="#_dependency_injection">Dependency injection</a></li>
<li><a href="#_layers_communication">Layers communication</a></li>
<li><a href="#_service_layer">Service layer</a></li>
<li><a href="#_service_api">Service API</a></li>
<li><a href="#_service_impl">Service <code>impl</code></a></li>
<li><a href="#">==</a></li>
<li><a href="#_logic_layer">Logic layer</a></li>
<li><a href="#_data_access_layer">Data Access layer</a></li>
<li><a href="#_security_with_json_web_token">Security with Json Web Token</a></li>
<li><a href="#_jwt_basics">JWT basics</a></li>
<li><a href="#_jwt_implementation_details">JWT implementation details</a></li>
<li><a href="#_authentication">==  Authentication</a></li>
<li><a href="#_token_set_up">==  Token set up</a></li>
<li><a href="#_current_user_request">==  Current User request</a></li>
<li><a href="#_authorization">==  Authorization</a></li>
<li><a href="#_net_design">.NET design</a></li>
<li><a href="#_nodejs_design_deprecated">NodeJS design (deprecated)</a></li>
<li><a href="#_introduction_2">Introduction</a></li>
<li><a href="#_basic_architecture_details_2">Basic architecture details</a></li>
<li><a href="#_layers_2">Layers</a></li>
<li><a href="#_service_layer_2">Service layer</a></li>
<li><a href="#_logic_layer_and_data_access_layer">Logic layer and Data access layer</a></li>
<li><a href="#_security_with_json_web_token_2">Security with Json Web Token</a></li>
<li><a href="#_jwt_basics_2">JWT basics</a></li>
<li><a href="#_jwt_implementation_details_2">JWT implementation details</a></li>
<li><a href="#_authentication_2">==  Authentication</a></li>
<li><a href="#_token_set_up_2">==  Token set up</a></li>
<li><a href="#_current_user_request_2">==  Current User request</a></li>
<li><a href="#_authorization_2">==  Authorization</a></li>
<li><a href="#_serverless_design_deprecated">Serverless design (deprecated)</a></li>
<li><a href="#_introduction_3">Introduction</a></li>
<li><a href="#_basic_architecture_details_3">Basic architecture details</a></li>
<li><a href="#_layers_3">Layers</a></li>
<li><a href="#_service_layer_3">Service layer</a></li>
<li><a href="#_2">==</a></li>
<li><a href="#_logic_layer_and_data_access_layer_2">Logic layer and Data access layer</a></li>
<li><a href="#_security_with_json_web_token_3">Security with Json Web Token</a></li>
<li><a href="#_jwt_basics_3">JWT basics</a></li>
<li><a href="#_jwt_implementation_details_3">JWT implementation details</a></li>
<li><a href="#_authentication_3">==  Authentication</a></li>
<li><a href="#_token_set_up_3">==  Token set up</a></li>
<li><a href="#_current_user_request_3">==  Current User request</a></li>
<li><a href="#_authorization_3">==  Authorization</a></li>
<li><a href="#_graphql_design">GraphQL design</a></li>
</ul>
</li>
<li><a href="#_client_side">Client Side</a>
<ul class="sectlevel4">
<li><a href="#_angular_design">Angular design</a></li>
<li><a href="#_introduction_4">Introduction</a></li>
<li><a href="#_basic_project_structure">Basic project structure</a></li>
<li><a href="#_main_views_and_components">Main Views and components</a></li>
<li><a href="#_public_area">Public area</a></li>
<li><a href="#_app_component">==  App Component</a></li>
<li><a href="#_order_sidenav">== Order sidenav</a></li>
<li><a href="#_navigation_sidenav_only_for_mobile">== Navigation sidenav (only for mobile)</a></li>
<li><a href="#_header">== Header</a></li>
<li><a href="#_footer_only_for_desktop">== Footer (only for desktop)</a></li>
<li><a href="#_home_component">==  Home-Component</a></li>
<li><a href="#_menu_component">==  Menu-Component</a></li>
<li><a href="#_menu_card">== Menu-card</a></li>
<li><a href="#_book_table_component">==  Book Table Component</a></li>
<li><a href="#_book_table_dialog">== Book-table-dialog</a></li>
<li><a href="#_invitation_dialog">== Invitation-dialog</a></li>
<li><a href="#_user_area">==  User Area</a></li>
<li><a href="#_login_dialog">== Login-dialog</a></li>
<li><a href="#_password_dialog">== Password-dialog</a></li>
<li><a href="#_twitter_dialog">== Twitter-dialog</a></li>
<li><a href="#_waiter_cockpit_area">Waiter cockpit area</a></li>
<li><a href="#_order_cockpit_component">==  Order Cockpit Component</a></li>
<li><a href="#_order_dialog">== Order-dialog</a></li>
<li><a href="#_reservation_cockpit_component">==  Reservation Cockpit Component</a></li>
<li><a href="#_reservation_dialog">== Reservation-dialog</a></li>
<li><a href="#_email_management">Email Management</a></li>
<li><a href="#_accept_invite">==  Accept Invite</a></li>
<li><a href="#_reject_invite">==  Reject Invite</a></li>
<li><a href="#_cancel_reservation">==  Cancel Reservation</a></li>
<li><a href="#_cancel_orders">==  Cancel Orders</a></li>
<li><a href="#_services_and_directives">Services and directives</a></li>
<li><a href="#_price_calculator_service">Price-calculator-service</a></li>
<li><a href="#_authentication_4">Authentication</a></li>
<li><a href="#_snack_service">Snack Service</a></li>
<li><a href="#_window_service">Window Service</a></li>
<li><a href="#_equal_validator_directive">Equal-validator-directive</a></li>
<li><a href="#_mock_back_end">Mock Back-end</a></li>
<li><a href="#_booking">Booking</a></li>
<li><a href="#_orders">Orders</a></li>
<li><a href="#_dishes">Dishes</a></li>
<li><a href="#_login">Login</a></li>
<li><a href="#_security">Security</a></li>
<li><a href="#_auth_guard">Auth-guard</a></li>
<li><a href="#_jwt">JWT</a></li>
<li><a href="#_httpclient">==  HttpClient</a></li>
<li><a href="#_xamarin_design">Xamarin design</a></li>
</ul>
</li>
<li><a href="#_security_2">Security</a>
<ul class="sectlevel3">
<li><a href="#_two_factor_authentication">Two-Factor Authentication</a></li>
<li><a href="#_back_end_mechanism">Back-end mechanism</a></li>
<li><a href="#_activating_two_factor_authentication">Activating Two-Factor Authentication</a></li>
<li><a href="#_frontend">Frontend</a></li>
</ul>
</li>
<li><a href="#_testing">Testing</a></li>
<li><a href="#_server_side_2">Server Side</a>
<ul class="sectlevel4">
<li><a href="#_java_testing">Java testing</a></li>
<li><a href="#_component_testing">Component testing</a></li>
<li><a href="#_running_the_tests">Running the tests</a></li>
<li><a href="#_from_eclipse">From Eclipse</a></li>
<li><a href="#_from_command_line_using_maven">From command line using Maven</a></li>
<li><a href="#_net_testing">.NET testing</a></li>
<li><a href="#_nodejs_testing">NodeJS testing</a></li>
<li><a href="#_graphql_testing">GraphQL testing</a></li>
</ul>
</li>
<li><a href="#_client_side_2">Client Side</a>
<ul class="sectlevel4">
<li><a href="#_angular_testing">Angular testing</a></li>
<li><a href="#_3">==</a></li>
<li><a href="#_testing_components">Testing Components</a></li>
<li><a href="#_dialog_components">Dialog components</a></li>
<li><a href="#_testing_services">Testing Services</a></li>
<li><a href="#_testing_in_a_ci_environment">Testing in a CI environment</a></li>
<li><a href="#_xamarin_testing">Xamarin testing</a></li>
</ul>
</li>
<li><a href="#_end_to_end">End to end</a>
<ul class="sectlevel4">
<li><a href="#_mrchecker_e2e_testing">MrChecker E2E Testing</a></li>
<li><a href="#_introduction_5">Introduction</a></li>
<li><a href="#_how_to_use_it">How to use it</a></li>
<li><a href="#_end_to_end_tests_in_my_thai_star">End to end tests in My Thai Star</a></li>
</ul>
</li>
<li><a href="#_ui_design">UI design</a>
<ul class="sectlevel3">
<li><a href="#_style_guide">Style guide</a></li>
<li><a href="#_low_and_high_fidelity_wireframes">Low and high fidelity wireframes</a></li>
</ul>
</li>
<li><a href="#_cicd">CI/CD</a>
<ul class="sectlevel3">
<li><a href="#_my_thai_star_in_production_line">My Thai Star in Production Line</a></li>
<li><a href="#_what_is_pl">What is PL?</a></li>
<li><a href="#_introduction_6">Introduction</a></li>
<li><a href="#_where_can_i_find_all_my_thai_star_pipelines">Where can I find all My Thai Star Pipelines?</a></li>
<li><a href="#_ci_in_my_thai_star_stack">CI in My Thai Star stack</a></li>
<li><a href="#_how_to_configure_everything_out_of_the_box">How to configure everything out of the box</a></li>
<li><a href="#_deployment">Deployment</a></li>
<li><a href="#_where_docker_containers_will_be_running">Where Docker containers will be running?</a></li>
<li><a href="#_container_schema">Container Schema</a></li>
<li><a href="#_run_my_thai_star">Run My Thai Star</a></li>
<li><a href="#_mythaistar_on_native_kubernetes_as_a_service_nkaas"><code>MyThaiStar</code> on Native Kubernetes as a Service (nKaaS)</a></li>
<li><a href="#_setting_up_the_environment">Setting up the environment</a></li>
<li><a href="#_following_the_nkaas_guide">Following the nKaaS guide</a></li>
<li><a href="#_requesting_a_namespace">Requesting a namespace</a></li>
<li><a href="#_setting_up_harbor">Setting up Harbor</a></li>
<li><a href="#_setting_up_jenkins">Setting up Jenkins</a></li>
<li><a href="#_deploying_mts">Deploying MTS</a></li>
</ul>
</li>
</ul>
</div>
<div class="sect4">
<h5 id="_data_model_2"><a class="anchor" href="#_data_model_2"></a>Data Model</h5>
<div class="imageblock">
<div class="content">
<a class="image" href="images/mts_datamodel.png"><img src="_images/images/mts_datamodel.png" alt="mts datamodel"></a>
</div>
</div>
<div id="toc" class="toc">
<div id="toctitle" class="title">Table of Contents</div>
<ul class="sectlevel1">
<li><a href="#_mythaistar">MyThaiStar</a>
<ul class="sectlevel2">
<li><a href="#_1_my_thai_star_agile_framework">1.	My Thai Star – Agile Framework</a></li>
<li><a href="#_1_1_team_setup">1.1 Team Setup</a></li>
<li><a href="#_1_2_scrum_events">1.2 Scrum events</a></li>
<li><a href="#_sprint_planning">Sprint Planning</a></li>
<li><a href="#_sprint_review">Sprint Review</a></li>
<li><a href="#_sprint_retrospective">Sprint Retrospective</a></li>
<li><a href="#_daily_stand_ups">Daily Stand-ups</a></li>
<li><a href="#_backlog_refinement">Backlog refinement</a></li>
<li><a href="#_1_3_establish_product_backlog">1.3 Establish Product Backlog</a></li>
<li><a href="#_2_my_thai_star_agile_diary">2.	My Thai Star – Agile Diary</a></li>
<li><a href="#_24_03_2017_sprint_1_planning">24.03.2017 Sprint 1 Planning</a></li>
<li><a href="#_27_04_2017_sprint_1_review">27.04.2017 Sprint 1 Review</a></li>
<li><a href="#_03_05_2017_sprint_2_planning">03.05.2017 Sprint 2 Planning</a></li>
<li><a href="#_01_06_2017_sprint_2_review">01.06.2017 Sprint 2 Review</a></li>
<li><a href="#_user_stories">User Stories</a></li>
<li><a href="#_epic_invite_friends">Epic: Invite friends</a></li>
<li><a href="#_us_create_invite_for_friends">US: create invite for friends</a></li>
<li><a href="#_acceptance_criteria">== Acceptance criteria</a></li>
<li><a href="#_us_create_reservation">US: create reservation</a></li>
<li><a href="#_acceptance_criteria_2">== Acceptance criteria</a></li>
<li><a href="#_wireframes">== Wireframes</a></li>
<li><a href="#_us_handle_invite">US: handle invite</a></li>
<li><a href="#_ac">== AC:</a></li>
<li><a href="#_us_revoke_accepted_invite">US: revoke accepted invite</a></li>
<li><a href="#_ac_2">==  AC:</a></li>
<li><a href="#_us_calculate_best_table">US: calculate best table</a></li>
<li><a href="#_details">== Details</a></li>
<li><a href="#_us_find_table_by_reservation_info">US: find table by reservation info</a></li>
<li><a href="#_ac_3">== AC:</a></li>
<li><a href="#_us_cancel_invite">US: cancel invite</a></li>
<li><a href="#_ac_4">== AC:</a></li>
<li><a href="#_epic_digital_menu">Epic: Digital Menu</a></li>
<li><a href="#_us_filter_menu">US: filter menu</a></li>
<li><a href="#_ac_5">== AC:</a></li>
<li><a href="#_us_define_order">US: Define order</a></li>
<li><a href="#_ac_6">== AC:</a></li>
<li><a href="#_us_order_the_order">US: Order the order</a></li>
<li><a href="#_us_cancel_order">US: Cancel order</a></li>
<li><a href="#_us_read_twitter_rating_for_dishes">US: Read twitter rating for dishes</a></li>
<li><a href="#_epic_user_profile">Epic: User Profile</a></li>
<li><a href="#_us_user_profile">US: User Profile</a></li>
<li><a href="#_epic_rate_by_twitter">Epic: Rate by twitter</a></li>
<li><a href="#_us_receive_mail_to_rate_your_dish">US: Receive mail to rate your dish</a></li>
<li><a href="#_us_rate_your_dish">US: Rate your dish</a></li>
<li><a href="#_epic_waiter_cockpit">Epic: Waiter Cockpit</a></li>
<li><a href="#_us_see_all_ordersreservations">US: See all orders/reservations</a></li>
</ul>
</li>
<li><a href="#_technical_design">Technical design</a></li>
<li><a href="#_data_model">Data Model</a>
<ul class="sectlevel4">
<li><a href="#_data_model_2">Data Model</a></li>
<li><a href="#_nosql_data_model">NoSQL Data Model</a></li>
</ul>
</li>
<li><a href="#_server_side">Server Side</a>
<ul class="sectlevel4">
<li><a href="#_java_design">Java design</a></li>
<li><a href="#_introduction">Introduction</a></li>
<li><a href="#_basic_architecture_details">Basic architecture details</a></li>
<li><a href="#_project_modules">Project modules</a></li>
<li><a href="#_components">Components</a></li>
<li><a href="#_layers">Layers</a></li>
<li><a href="#_component_structure">Component structure</a></li>
<li><a href="#_dependency_injection">Dependency injection</a></li>
<li><a href="#_layers_communication">Layers communication</a></li>
<li><a href="#_service_layer">Service layer</a></li>
<li><a href="#_service_api">Service API</a></li>
<li><a href="#_service_impl">Service <code>impl</code></a></li>
<li><a href="#">==</a></li>
<li><a href="#_logic_layer">Logic layer</a></li>
<li><a href="#_data_access_layer">Data Access layer</a></li>
<li><a href="#_security_with_json_web_token">Security with Json Web Token</a></li>
<li><a href="#_jwt_basics">JWT basics</a></li>
<li><a href="#_jwt_implementation_details">JWT implementation details</a></li>
<li><a href="#_authentication">==  Authentication</a></li>
<li><a href="#_token_set_up">==  Token set up</a></li>
<li><a href="#_current_user_request">==  Current User request</a></li>
<li><a href="#_authorization">==  Authorization</a></li>
<li><a href="#_net_design">.NET design</a></li>
<li><a href="#_nodejs_design_deprecated">NodeJS design (deprecated)</a></li>
<li><a href="#_introduction_2">Introduction</a></li>
<li><a href="#_basic_architecture_details_2">Basic architecture details</a></li>
<li><a href="#_layers_2">Layers</a></li>
<li><a href="#_service_layer_2">Service layer</a></li>
<li><a href="#_logic_layer_and_data_access_layer">Logic layer and Data access layer</a></li>
<li><a href="#_security_with_json_web_token_2">Security with Json Web Token</a></li>
<li><a href="#_jwt_basics_2">JWT basics</a></li>
<li><a href="#_jwt_implementation_details_2">JWT implementation details</a></li>
<li><a href="#_authentication_2">==  Authentication</a></li>
<li><a href="#_token_set_up_2">==  Token set up</a></li>
<li><a href="#_current_user_request_2">==  Current User request</a></li>
<li><a href="#_authorization_2">==  Authorization</a></li>
<li><a href="#_serverless_design_deprecated">Serverless design (deprecated)</a></li>
<li><a href="#_introduction_3">Introduction</a></li>
<li><a href="#_basic_architecture_details_3">Basic architecture details</a></li>
<li><a href="#_layers_3">Layers</a></li>
<li><a href="#_service_layer_3">Service layer</a></li>
<li><a href="#_2">==</a></li>
<li><a href="#_logic_layer_and_data_access_layer_2">Logic layer and Data access layer</a></li>
<li><a href="#_security_with_json_web_token_3">Security with Json Web Token</a></li>
<li><a href="#_jwt_basics_3">JWT basics</a></li>
<li><a href="#_jwt_implementation_details_3">JWT implementation details</a></li>
<li><a href="#_authentication_3">==  Authentication</a></li>
<li><a href="#_token_set_up_3">==  Token set up</a></li>
<li><a href="#_current_user_request_3">==  Current User request</a></li>
<li><a href="#_authorization_3">==  Authorization</a></li>
<li><a href="#_graphql_design">GraphQL design</a></li>
</ul>
</li>
<li><a href="#_client_side">Client Side</a>
<ul class="sectlevel4">
<li><a href="#_angular_design">Angular design</a></li>
<li><a href="#_introduction_4">Introduction</a></li>
<li><a href="#_basic_project_structure">Basic project structure</a></li>
<li><a href="#_main_views_and_components">Main Views and components</a></li>
<li><a href="#_public_area">Public area</a></li>
<li><a href="#_app_component">==  App Component</a></li>
<li><a href="#_order_sidenav">== Order sidenav</a></li>
<li><a href="#_navigation_sidenav_only_for_mobile">== Navigation sidenav (only for mobile)</a></li>
<li><a href="#_header">== Header</a></li>
<li><a href="#_footer_only_for_desktop">== Footer (only for desktop)</a></li>
<li><a href="#_home_component">==  Home-Component</a></li>
<li><a href="#_menu_component">==  Menu-Component</a></li>
<li><a href="#_menu_card">== Menu-card</a></li>
<li><a href="#_book_table_component">==  Book Table Component</a></li>
<li><a href="#_book_table_dialog">== Book-table-dialog</a></li>
<li><a href="#_invitation_dialog">== Invitation-dialog</a></li>
<li><a href="#_user_area">==  User Area</a></li>
<li><a href="#_login_dialog">== Login-dialog</a></li>
<li><a href="#_password_dialog">== Password-dialog</a></li>
<li><a href="#_twitter_dialog">== Twitter-dialog</a></li>
<li><a href="#_waiter_cockpit_area">Waiter cockpit area</a></li>
<li><a href="#_order_cockpit_component">==  Order Cockpit Component</a></li>
<li><a href="#_order_dialog">== Order-dialog</a></li>
<li><a href="#_reservation_cockpit_component">==  Reservation Cockpit Component</a></li>
<li><a href="#_reservation_dialog">== Reservation-dialog</a></li>
<li><a href="#_email_management">Email Management</a></li>
<li><a href="#_accept_invite">==  Accept Invite</a></li>
<li><a href="#_reject_invite">==  Reject Invite</a></li>
<li><a href="#_cancel_reservation">==  Cancel Reservation</a></li>
<li><a href="#_cancel_orders">==  Cancel Orders</a></li>
<li><a href="#_services_and_directives">Services and directives</a></li>
<li><a href="#_price_calculator_service">Price-calculator-service</a></li>
<li><a href="#_authentication_4">Authentication</a></li>
<li><a href="#_snack_service">Snack Service</a></li>
<li><a href="#_window_service">Window Service</a></li>
<li><a href="#_equal_validator_directive">Equal-validator-directive</a></li>
<li><a href="#_mock_back_end">Mock Back-end</a></li>
<li><a href="#_booking">Booking</a></li>
<li><a href="#_orders">Orders</a></li>
<li><a href="#_dishes">Dishes</a></li>
<li><a href="#_login">Login</a></li>
<li><a href="#_security">Security</a></li>
<li><a href="#_auth_guard">Auth-guard</a></li>
<li><a href="#_jwt">JWT</a></li>
<li><a href="#_httpclient">==  HttpClient</a></li>
<li><a href="#_xamarin_design">Xamarin design</a></li>
</ul>
</li>
<li><a href="#_security_2">Security</a>
<ul class="sectlevel3">
<li><a href="#_two_factor_authentication">Two-Factor Authentication</a></li>
<li><a href="#_back_end_mechanism">Back-end mechanism</a></li>
<li><a href="#_activating_two_factor_authentication">Activating Two-Factor Authentication</a></li>
<li><a href="#_frontend">Frontend</a></li>
</ul>
</li>
<li><a href="#_testing">Testing</a></li>
<li><a href="#_server_side_2">Server Side</a>
<ul class="sectlevel4">
<li><a href="#_java_testing">Java testing</a></li>
<li><a href="#_component_testing">Component testing</a></li>
<li><a href="#_running_the_tests">Running the tests</a></li>
<li><a href="#_from_eclipse">From Eclipse</a></li>
<li><a href="#_from_command_line_using_maven">From command line using Maven</a></li>
<li><a href="#_net_testing">.NET testing</a></li>
<li><a href="#_nodejs_testing">NodeJS testing</a></li>
<li><a href="#_graphql_testing">GraphQL testing</a></li>
</ul>
</li>
<li><a href="#_client_side_2">Client Side</a>
<ul class="sectlevel4">
<li><a href="#_angular_testing">Angular testing</a></li>
<li><a href="#_3">==</a></li>
<li><a href="#_testing_components">Testing Components</a></li>
<li><a href="#_dialog_components">Dialog components</a></li>
<li><a href="#_testing_services">Testing Services</a></li>
<li><a href="#_testing_in_a_ci_environment">Testing in a CI environment</a></li>
<li><a href="#_xamarin_testing">Xamarin testing</a></li>
</ul>
</li>
<li><a href="#_end_to_end">End to end</a>
<ul class="sectlevel4">
<li><a href="#_mrchecker_e2e_testing">MrChecker E2E Testing</a></li>
<li><a href="#_introduction_5">Introduction</a></li>
<li><a href="#_how_to_use_it">How to use it</a></li>
<li><a href="#_end_to_end_tests_in_my_thai_star">End to end tests in My Thai Star</a></li>
</ul>
</li>
<li><a href="#_ui_design">UI design</a>
<ul class="sectlevel3">
<li><a href="#_style_guide">Style guide</a></li>
<li><a href="#_low_and_high_fidelity_wireframes">Low and high fidelity wireframes</a></li>
</ul>
</li>
<li><a href="#_cicd">CI/CD</a>
<ul class="sectlevel3">
<li><a href="#_my_thai_star_in_production_line">My Thai Star in Production Line</a></li>
<li><a href="#_what_is_pl">What is PL?</a></li>
<li><a href="#_introduction_6">Introduction</a></li>
<li><a href="#_where_can_i_find_all_my_thai_star_pipelines">Where can I find all My Thai Star Pipelines?</a></li>
<li><a href="#_ci_in_my_thai_star_stack">CI in My Thai Star stack</a></li>
<li><a href="#_how_to_configure_everything_out_of_the_box">How to configure everything out of the box</a></li>
<li><a href="#_deployment">Deployment</a></li>
<li><a href="#_where_docker_containers_will_be_running">Where Docker containers will be running?</a></li>
<li><a href="#_container_schema">Container Schema</a></li>
<li><a href="#_run_my_thai_star">Run My Thai Star</a></li>
<li><a href="#_mythaistar_on_native_kubernetes_as_a_service_nkaas"><code>MyThaiStar</code> on Native Kubernetes as a Service (nKaaS)</a></li>
<li><a href="#_setting_up_the_environment">Setting up the environment</a></li>
<li><a href="#_following_the_nkaas_guide">Following the nKaaS guide</a></li>
<li><a href="#_requesting_a_namespace">Requesting a namespace</a></li>
<li><a href="#_setting_up_harbor">Setting up Harbor</a></li>
<li><a href="#_setting_up_jenkins">Setting up Jenkins</a></li>
<li><a href="#_deploying_mts">Deploying MTS</a></li>
</ul>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_nosql_data_model"><a class="anchor" href="#_nosql_data_model"></a>NoSQL Data Model</h5>
<div class="imageblock">
<div class="content">
<a class="image" href="images/nodejs/dynamodb-data-model-1.4.1.png"><img src="_images/images/nodejs/dynamodb-data-model-1.4.1.png" alt="dynamodb data model 1.4.1"></a>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_server_side"><a class="anchor" href="#_server_side"></a>Server Side</h2>
<div class="sectionbody">
<div id="toc" class="toc">
<div id="toctitle" class="title">Table of Contents</div>
<ul class="sectlevel1">
<li><a href="#_mythaistar">MyThaiStar</a>
<ul class="sectlevel2">
<li><a href="#_1_my_thai_star_agile_framework">1.	My Thai Star – Agile Framework</a></li>
<li><a href="#_1_1_team_setup">1.1 Team Setup</a></li>
<li><a href="#_1_2_scrum_events">1.2 Scrum events</a></li>
<li><a href="#_sprint_planning">Sprint Planning</a></li>
<li><a href="#_sprint_review">Sprint Review</a></li>
<li><a href="#_sprint_retrospective">Sprint Retrospective</a></li>
<li><a href="#_daily_stand_ups">Daily Stand-ups</a></li>
<li><a href="#_backlog_refinement">Backlog refinement</a></li>
<li><a href="#_1_3_establish_product_backlog">1.3 Establish Product Backlog</a></li>
<li><a href="#_2_my_thai_star_agile_diary">2.	My Thai Star – Agile Diary</a></li>
<li><a href="#_24_03_2017_sprint_1_planning">24.03.2017 Sprint 1 Planning</a></li>
<li><a href="#_27_04_2017_sprint_1_review">27.04.2017 Sprint 1 Review</a></li>
<li><a href="#_03_05_2017_sprint_2_planning">03.05.2017 Sprint 2 Planning</a></li>
<li><a href="#_01_06_2017_sprint_2_review">01.06.2017 Sprint 2 Review</a></li>
<li><a href="#_user_stories">User Stories</a></li>
<li><a href="#_epic_invite_friends">Epic: Invite friends</a></li>
<li><a href="#_us_create_invite_for_friends">US: create invite for friends</a></li>
<li><a href="#_acceptance_criteria">== Acceptance criteria</a></li>
<li><a href="#_us_create_reservation">US: create reservation</a></li>
<li><a href="#_acceptance_criteria_2">== Acceptance criteria</a></li>
<li><a href="#_wireframes">== Wireframes</a></li>
<li><a href="#_us_handle_invite">US: handle invite</a></li>
<li><a href="#_ac">== AC:</a></li>
<li><a href="#_us_revoke_accepted_invite">US: revoke accepted invite</a></li>
<li><a href="#_ac_2">==  AC:</a></li>
<li><a href="#_us_calculate_best_table">US: calculate best table</a></li>
<li><a href="#_details">== Details</a></li>
<li><a href="#_us_find_table_by_reservation_info">US: find table by reservation info</a></li>
<li><a href="#_ac_3">== AC:</a></li>
<li><a href="#_us_cancel_invite">US: cancel invite</a></li>
<li><a href="#_ac_4">== AC:</a></li>
<li><a href="#_epic_digital_menu">Epic: Digital Menu</a></li>
<li><a href="#_us_filter_menu">US: filter menu</a></li>
<li><a href="#_ac_5">== AC:</a></li>
<li><a href="#_us_define_order">US: Define order</a></li>
<li><a href="#_ac_6">== AC:</a></li>
<li><a href="#_us_order_the_order">US: Order the order</a></li>
<li><a href="#_us_cancel_order">US: Cancel order</a></li>
<li><a href="#_us_read_twitter_rating_for_dishes">US: Read twitter rating for dishes</a></li>
<li><a href="#_epic_user_profile">Epic: User Profile</a></li>
<li><a href="#_us_user_profile">US: User Profile</a></li>
<li><a href="#_epic_rate_by_twitter">Epic: Rate by twitter</a></li>
<li><a href="#_us_receive_mail_to_rate_your_dish">US: Receive mail to rate your dish</a></li>
<li><a href="#_us_rate_your_dish">US: Rate your dish</a></li>
<li><a href="#_epic_waiter_cockpit">Epic: Waiter Cockpit</a></li>
<li><a href="#_us_see_all_ordersreservations">US: See all orders/reservations</a></li>
</ul>
</li>
<li><a href="#_technical_design">Technical design</a></li>
<li><a href="#_data_model">Data Model</a>
<ul class="sectlevel4">
<li><a href="#_data_model_2">Data Model</a></li>
<li><a href="#_nosql_data_model">NoSQL Data Model</a></li>
</ul>
</li>
<li><a href="#_server_side">Server Side</a>
<ul class="sectlevel4">
<li><a href="#_java_design">Java design</a></li>
<li><a href="#_introduction">Introduction</a></li>
<li><a href="#_basic_architecture_details">Basic architecture details</a></li>
<li><a href="#_project_modules">Project modules</a></li>
<li><a href="#_components">Components</a></li>
<li><a href="#_layers">Layers</a></li>
<li><a href="#_component_structure">Component structure</a></li>
<li><a href="#_dependency_injection">Dependency injection</a></li>
<li><a href="#_layers_communication">Layers communication</a></li>
<li><a href="#_service_layer">Service layer</a></li>
<li><a href="#_service_api">Service API</a></li>
<li><a href="#_service_impl">Service <code>impl</code></a></li>
<li><a href="#">==</a></li>
<li><a href="#_logic_layer">Logic layer</a></li>
<li><a href="#_data_access_layer">Data Access layer</a></li>
<li><a href="#_security_with_json_web_token">Security with Json Web Token</a></li>
<li><a href="#_jwt_basics">JWT basics</a></li>
<li><a href="#_jwt_implementation_details">JWT implementation details</a></li>
<li><a href="#_authentication">==  Authentication</a></li>
<li><a href="#_token_set_up">==  Token set up</a></li>
<li><a href="#_current_user_request">==  Current User request</a></li>
<li><a href="#_authorization">==  Authorization</a></li>
<li><a href="#_net_design">.NET design</a></li>
<li><a href="#_nodejs_design_deprecated">NodeJS design (deprecated)</a></li>
<li><a href="#_introduction_2">Introduction</a></li>
<li><a href="#_basic_architecture_details_2">Basic architecture details</a></li>
<li><a href="#_layers_2">Layers</a></li>
<li><a href="#_service_layer_2">Service layer</a></li>
<li><a href="#_logic_layer_and_data_access_layer">Logic layer and Data access layer</a></li>
<li><a href="#_security_with_json_web_token_2">Security with Json Web Token</a></li>
<li><a href="#_jwt_basics_2">JWT basics</a></li>
<li><a href="#_jwt_implementation_details_2">JWT implementation details</a></li>
<li><a href="#_authentication_2">==  Authentication</a></li>
<li><a href="#_token_set_up_2">==  Token set up</a></li>
<li><a href="#_current_user_request_2">==  Current User request</a></li>
<li><a href="#_authorization_2">==  Authorization</a></li>
<li><a href="#_serverless_design_deprecated">Serverless design (deprecated)</a></li>
<li><a href="#_introduction_3">Introduction</a></li>
<li><a href="#_basic_architecture_details_3">Basic architecture details</a></li>
<li><a href="#_layers_3">Layers</a></li>
<li><a href="#_service_layer_3">Service layer</a></li>
<li><a href="#_2">==</a></li>
<li><a href="#_logic_layer_and_data_access_layer_2">Logic layer and Data access layer</a></li>
<li><a href="#_security_with_json_web_token_3">Security with Json Web Token</a></li>
<li><a href="#_jwt_basics_3">JWT basics</a></li>
<li><a href="#_jwt_implementation_details_3">JWT implementation details</a></li>
<li><a href="#_authentication_3">==  Authentication</a></li>
<li><a href="#_token_set_up_3">==  Token set up</a></li>
<li><a href="#_current_user_request_3">==  Current User request</a></li>
<li><a href="#_authorization_3">==  Authorization</a></li>
<li><a href="#_graphql_design">GraphQL design</a></li>
</ul>
</li>
<li><a href="#_client_side">Client Side</a>
<ul class="sectlevel4">
<li><a href="#_angular_design">Angular design</a></li>
<li><a href="#_introduction_4">Introduction</a></li>
<li><a href="#_basic_project_structure">Basic project structure</a></li>
<li><a href="#_main_views_and_components">Main Views and components</a></li>
<li><a href="#_public_area">Public area</a></li>
<li><a href="#_app_component">==  App Component</a></li>
<li><a href="#_order_sidenav">== Order sidenav</a></li>
<li><a href="#_navigation_sidenav_only_for_mobile">== Navigation sidenav (only for mobile)</a></li>
<li><a href="#_header">== Header</a></li>
<li><a href="#_footer_only_for_desktop">== Footer (only for desktop)</a></li>
<li><a href="#_home_component">==  Home-Component</a></li>
<li><a href="#_menu_component">==  Menu-Component</a></li>
<li><a href="#_menu_card">== Menu-card</a></li>
<li><a href="#_book_table_component">==  Book Table Component</a></li>
<li><a href="#_book_table_dialog">== Book-table-dialog</a></li>
<li><a href="#_invitation_dialog">== Invitation-dialog</a></li>
<li><a href="#_user_area">==  User Area</a></li>
<li><a href="#_login_dialog">== Login-dialog</a></li>
<li><a href="#_password_dialog">== Password-dialog</a></li>
<li><a href="#_twitter_dialog">== Twitter-dialog</a></li>
<li><a href="#_waiter_cockpit_area">Waiter cockpit area</a></li>
<li><a href="#_order_cockpit_component">==  Order Cockpit Component</a></li>
<li><a href="#_order_dialog">== Order-dialog</a></li>
<li><a href="#_reservation_cockpit_component">==  Reservation Cockpit Component</a></li>
<li><a href="#_reservation_dialog">== Reservation-dialog</a></li>
<li><a href="#_email_management">Email Management</a></li>
<li><a href="#_accept_invite">==  Accept Invite</a></li>
<li><a href="#_reject_invite">==  Reject Invite</a></li>
<li><a href="#_cancel_reservation">==  Cancel Reservation</a></li>
<li><a href="#_cancel_orders">==  Cancel Orders</a></li>
<li><a href="#_services_and_directives">Services and directives</a></li>
<li><a href="#_price_calculator_service">Price-calculator-service</a></li>
<li><a href="#_authentication_4">Authentication</a></li>
<li><a href="#_snack_service">Snack Service</a></li>
<li><a href="#_window_service">Window Service</a></li>
<li><a href="#_equal_validator_directive">Equal-validator-directive</a></li>
<li><a href="#_mock_back_end">Mock Back-end</a></li>
<li><a href="#_booking">Booking</a></li>
<li><a href="#_orders">Orders</a></li>
<li><a href="#_dishes">Dishes</a></li>
<li><a href="#_login">Login</a></li>
<li><a href="#_security">Security</a></li>
<li><a href="#_auth_guard">Auth-guard</a></li>
<li><a href="#_jwt">JWT</a></li>
<li><a href="#_httpclient">==  HttpClient</a></li>
<li><a href="#_xamarin_design">Xamarin design</a></li>
</ul>
</li>
<li><a href="#_security_2">Security</a>
<ul class="sectlevel3">
<li><a href="#_two_factor_authentication">Two-Factor Authentication</a></li>
<li><a href="#_back_end_mechanism">Back-end mechanism</a></li>
<li><a href="#_activating_two_factor_authentication">Activating Two-Factor Authentication</a></li>
<li><a href="#_frontend">Frontend</a></li>
</ul>
</li>
<li><a href="#_testing">Testing</a></li>
<li><a href="#_server_side_2">Server Side</a>
<ul class="sectlevel4">
<li><a href="#_java_testing">Java testing</a></li>
<li><a href="#_component_testing">Component testing</a></li>
<li><a href="#_running_the_tests">Running the tests</a></li>
<li><a href="#_from_eclipse">From Eclipse</a></li>
<li><a href="#_from_command_line_using_maven">From command line using Maven</a></li>
<li><a href="#_net_testing">.NET testing</a></li>
<li><a href="#_nodejs_testing">NodeJS testing</a></li>
<li><a href="#_graphql_testing">GraphQL testing</a></li>
</ul>
</li>
<li><a href="#_client_side_2">Client Side</a>
<ul class="sectlevel4">
<li><a href="#_angular_testing">Angular testing</a></li>
<li><a href="#_3">==</a></li>
<li><a href="#_testing_components">Testing Components</a></li>
<li><a href="#_dialog_components">Dialog components</a></li>
<li><a href="#_testing_services">Testing Services</a></li>
<li><a href="#_testing_in_a_ci_environment">Testing in a CI environment</a></li>
<li><a href="#_xamarin_testing">Xamarin testing</a></li>
</ul>
</li>
<li><a href="#_end_to_end">End to end</a>
<ul class="sectlevel4">
<li><a href="#_mrchecker_e2e_testing">MrChecker E2E Testing</a></li>
<li><a href="#_introduction_5">Introduction</a></li>
<li><a href="#_how_to_use_it">How to use it</a></li>
<li><a href="#_end_to_end_tests_in_my_thai_star">End to end tests in My Thai Star</a></li>
</ul>
</li>
<li><a href="#_ui_design">UI design</a>
<ul class="sectlevel3">
<li><a href="#_style_guide">Style guide</a></li>
<li><a href="#_low_and_high_fidelity_wireframes">Low and high fidelity wireframes</a></li>
</ul>
</li>
<li><a href="#_cicd">CI/CD</a>
<ul class="sectlevel3">
<li><a href="#_my_thai_star_in_production_line">My Thai Star in Production Line</a></li>
<li><a href="#_what_is_pl">What is PL?</a></li>
<li><a href="#_introduction_6">Introduction</a></li>
<li><a href="#_where_can_i_find_all_my_thai_star_pipelines">Where can I find all My Thai Star Pipelines?</a></li>
<li><a href="#_ci_in_my_thai_star_stack">CI in My Thai Star stack</a></li>
<li><a href="#_how_to_configure_everything_out_of_the_box">How to configure everything out of the box</a></li>
<li><a href="#_deployment">Deployment</a></li>
<li><a href="#_where_docker_containers_will_be_running">Where Docker containers will be running?</a></li>
<li><a href="#_container_schema">Container Schema</a></li>
<li><a href="#_run_my_thai_star">Run My Thai Star</a></li>
<li><a href="#_mythaistar_on_native_kubernetes_as_a_service_nkaas"><code>MyThaiStar</code> on Native Kubernetes as a Service (nKaaS)</a></li>
<li><a href="#_setting_up_the_environment">Setting up the environment</a></li>
<li><a href="#_following_the_nkaas_guide">Following the nKaaS guide</a></li>
<li><a href="#_requesting_a_namespace">Requesting a namespace</a></li>
<li><a href="#_setting_up_harbor">Setting up Harbor</a></li>
<li><a href="#_setting_up_jenkins">Setting up Jenkins</a></li>
<li><a href="#_deploying_mts">Deploying MTS</a></li>
</ul>
</li>
</ul>
</div>
<div class="sect4">
<h5 id="_java_design"><a class="anchor" href="#_java_design"></a>Java design</h5>

</div>
<div class="sect4">
<h5 id="_introduction"><a class="anchor" href="#_introduction"></a>Introduction</h5>
<div class="paragraph">
<p>The Java back-end for My Thai Star application is going to be based on:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>DEVON4J</strong> as the Java framework</p>
</li>
<li>
<p><strong>Devonfw</strong> as the Development environment</p>
</li>
<li>
<p><strong>CobiGen</strong> as code generation tool</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>To know more details about the above technologies please visit the following documentation:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="https://github.com/devonfw/devon4j/wiki">DEVON4J</a></p>
</li>
<li>
<p><a href="https://github.com/devonfw/devon/wiki">Devonfw</a></p>
</li>
<li>
<p><a href="https://github.com/devonfw/cobigen/wiki">CobiGen</a></p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_basic_architecture_details"><a class="anchor" href="#_basic_architecture_details"></a>Basic architecture details</h5>
<div class="paragraph">
<p>Following the DEVON4J conventions the Java My Thai Star back-end is going to be developed dividing the application in <em>Components</em> and using a three layers architecture.</p>
</div>
</div>
<div class="sect4">
<h5 id="_project_modules"><a class="anchor" href="#_project_modules"></a>Project modules</h5>
<div class="paragraph">
<p>Using the DEVON4J approach for the Java back-end project we will have a structure of a <em>Maven</em> project formed by three projects</p>
</div>
<div class="imageblock">
<div class="content">
<a class="image" href="images/java/project_modules.png"><img src="_images/images/java/project_modules.png" alt="project modules"></a>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code><em>api</em></code>: Stores all the REST interfaces and corresponding Request/Response objects.</p>
</li>
<li>
<p><em>core</em>: Stores all the logic and functionality of the application.</p>
</li>
<li>
<p><em>server</em>: Configures the packaging of the application.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>We can automatically generate this project structure <a href="https://github.com/devonfw/devon/wiki/getting-started-creating-new-devonfw-application#running-the-archetype">using the DEVON4J <em>Maven</em> archetype</a></p>
</div>
</div>
<div class="sect4">
<h5 id="_components"><a class="anchor" href="#_components"></a>Components</h5>
<div class="paragraph">
<p>The application is going to be divided in different components to encapsulate the different domains of the application functionalities.</p>
</div>
<div class="imageblock">
<div class="content">
<a class="image" href="images/java/mtsj_components.png"><img src="_images/images/java/mtsj_components.png" alt="mtsj components"></a>
</div>
</div>
<div class="paragraph">
<p>As <em>main components</em> we will find:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code><em>Bookingmanagement</em></code>: Manages the bookings part of the application. With this component the users (anonymous/logged in) can create new bookings or cancel an existing booking. The users with waiter role can see all scheduled bookings.</p>
</li>
<li>
<p><code><em>Ordermanagement</em></code>: This component handles the process to order dishes (related to bookings). A user (as a host or as a guest) can create orders (that contain dishes) or cancel an existing one. The users with waiter role can see all ordered orders.</p>
</li>
<li>
<p><code><em>Dishmanagement</em></code>: This component groups the logic related to the menu (dishes) view. Its main feature is to provide the client with the data of the available dishes but also can be used by other components <code>(Ordermanagement)</code> as a data provider in some processes.</p>
</li>
<li>
<p><code><em>Usermanagement</em></code>: Takes care of the User Profile management, allowing to create and update the data profiles.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>As <em>common components</em> (that don&#8217;t exactly represent an application&#8217;s area but provide functionalities that can be used by the <em>main components</em>):</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code><em>Imagemanagement</em></code>: Manages the images of the application. In a first approach the` <em>Dishmanagement</em>` component and the <code><em>Usermanagement</em></code> component will have an image as part of its data. The <code><em>Imagemanagement</em></code> component will expose the functionality to store and retrieve this kind of data.</p>
</li>
<li>
<p><code><em>Mailservice</em></code>: with this service we will provide the functionality for sending email notifications. This is a shared service between different app components such as <code><em>bookingmanagement</em></code> or <code><em>ordercomponent</em></code>.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Other components:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Security (will manage the access to the <em>private</em> part of the application using a <code><a href="https://jwt.io/">jwt</a></code> implementation).</p>
</li>
<li>
<p>Twitter integration: planned as a <em>Microservice</em> will provide the twitter integration needed for some specific functionalities of the application.</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_layers"><a class="anchor" href="#_layers"></a>Layers</h5>
<div class="ulist">
<ul>
<li>
<p><code><a href="https://github.com/devonfw/devon4j/wiki/guide-service-layer">Service Layer</a></code>: this layer will expose the REST API to exchange information with the client applications.</p>
</li>
<li>
<p><code><a href="https://github.com/devonfw/devon4j/wiki/guide-logic-layer">Logic Layer</a></code>: the layer in charge of hosting the business logic of the application.</p>
</li>
<li>
<p><code><a href="https://github.com/devonfw/devon4j/wiki/guide-dataaccess-layer">Data Access Layer</a></code>: the layer to communicate with the data base.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>This architecture is going to be reflected dividing each component of the application in different packages to match those three layers.</p>
</div>
</div>
<div class="sect4">
<h5 id="_component_structure"><a class="anchor" href="#_component_structure"></a>Component structure</h5>
<div class="paragraph">
<p>Each one of the components defined previously are going to be structured using the <em>three-layers</em> architecture. In each case we will have a <em>service</em> package, a <em>logic</em> package and a <code><em>dataaccess</em></code> package to fit the layers definition.</p>
</div>
<div class="imageblock">
<div class="content">
<a class="image" href="images/java/component_structure.png"><img src="_images/images/java/component_structure.png" alt="component structure"></a>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_dependency_injection"><a class="anchor" href="#_dependency_injection"></a>Dependency injection</h5>
<div class="paragraph">
<p>As it is explained in the <code><a href="https://github.com/devonfw/devon4j/wiki/guide-dependency-injection">devonfw documentation</a></code> we are going to implement the <em>dependency injection</em> pattern basing our solution on <em>Spring</em> and the Java standards: <em>java.inject</em> (JSR330) combined with JSR250.</p>
</div>
<div class="imageblock">
<div class="content">
<a class="image" href="images/java/dependency_injection.png"><img src="_images/images/java/dependency_injection.png" alt="dependency injection"></a>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>Separation of API and implementation: Inside each layer we will separate the elements in different packages: <code><em>api</em></code> and <code><em>impl</em></code>. The <code><em>api</em></code> will store the <code><em>interface</em></code> with the methods definition and inside the <code><em>impl</em></code> we will store the class that implements the <code><em>interface</em></code>.</p>
</li>
</ul>
</div>
<div class="imageblock">
<div class="content">
<a class="image" href="images/java/layer_api_impl.png"><img src="_images/images/java/layer_api_impl.png" alt="layer api impl"></a>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>Usage of JSR330: The Java standard set of annotations for <em>dependency injection</em> (<code>@Named</code>, <code>@Inject</code>, <code>@PostConstruct</code>, <code>@PreDestroy</code>, etc.) provides us with all the needed annotations to define our beans and inject them.</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">@Named
public class MyBeanImpl implements MyBean {
  @Inject
  private MyOtherBean myOtherBean;

  @PostConstruct
  public void init() {
    // initialization if required (otherwise omit this method)
  }

  @PreDestroy
  public void dispose() {
    // shutdown bean, free resources if required (otherwise omit this method)
  }
}</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_layers_communication"><a class="anchor" href="#_layers_communication"></a>Layers communication</h5>
<div class="paragraph">
<p>The connection between layers, to access to the functionalities of each one, will be solved using the <em>dependency injection</em> and the JSR330 annotations.</p>
</div>
<div class="imageblock">
<div class="content">
<a class="image" href="images/java/layers_impl.png"><img src="_images/images/java/layers_impl.png" alt="layers impl"></a>
</div>
</div>
<div class="paragraph">
<p><strong>Connection Service - Logic</strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">@Named("DishmanagementRestService")
public class DishmanagementRestServiceImpl implements DishmanagementRestService {

  @Inject
  private Dishmanagement dishmanagement;

  // use the 'this.dishmanagement' object to access to the functionalities of the logic layer of the component

  ...

}</code></pre>
</div>
</div>
<div class="paragraph">
<p><strong>Connection Logic - Data Access</strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">@Named
public class DishmanagementImpl extends AbstractComponentFacade implements Dishmanagement {

  @Inject
  private DishDao dishDao;

  // use the 'this.dishDao' to access to the functionalities of the data access layer of the component
  ...

}</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_service_layer"><a class="anchor" href="#_service_layer"></a>Service layer</h5>
<div class="paragraph">
<p>The services layer will be solved using REST services with the <a href="https://github.com/devonfw/devon4j/wiki/guide-rest#jax-rs">JAX-RS implementation</a>.</p>
</div>
<div class="paragraph">
<p>To give service to the defined <em>User Stories</em> we will need to implement the following services:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>provide all available dishes.</p>
</li>
<li>
<p>save a booking.</p>
</li>
<li>
<p>save an order.</p>
</li>
<li>
<p>provide a list of bookings (only for waiters) and allow filtering.</p>
</li>
<li>
<p>provide a list of orders (only for waiters) and allow filtering.</p>
</li>
<li>
<p>login service (see the <em>Security</em> section).</p>
</li>
<li>
<p>provide the <em>current user</em> data (see the <em>Security</em> section)</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Following the <a href="https://github.com/devonfw/devon4j/wiki/guide-rest">naming conventions</a> proposed for <em>Devon4j</em> applications we will define the following <em>end points</em> for the listed services.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>(POST) <code>/mythaistar/services/rest/dishmanagement/v1/dish/search</code>.</p>
</li>
<li>
<p>(POST) <code>/mythaistar/services/rest/bookingmanagement/v1/booking</code>.</p>
</li>
<li>
<p>(POST) <code>/mythaistar/services/rest/ordermanagement/v1/order</code>.</p>
</li>
<li>
<p>(POST) <code>/mythaistar/services/rest/bookingmanagement/v1/booking/search</code>.</p>
</li>
<li>
<p>(POST) <code>/mythaistar/services/rest/ordermanagement/v1/order/search</code>.</p>
</li>
<li>
<p>(POST) <code>/mythaistar/services/rest/ordermanagement/v1/order/filter</code> (to filter with fields that does not belong to the Order entity).</p>
</li>
<li>
<p>(POST) <code>/mythaistar/login</code>.</p>
</li>
<li>
<p>(GET) <code>/mythaistar/services/rest/security/v1/currentuser/</code>.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>You can find all the details for the services implementation in the <a href="https://github.com/devonfw/my-thai-star/blob/develop/swagger/mythaistar.yaml">Swagger definition</a> included in the My Thai Star project on Github.</p>
</div>
</div>
<div class="sect4">
<h5 id="_service_api"><a class="anchor" href="#_service_api"></a>Service API</h5>
<div class="paragraph">
<p>The <code><em>api.rest</em></code> package in the <em>service</em> layer of a <em>component</em> will store the definition of the service by a  <em>Java interface</em>. In this definition of the service we will set-up the <em>endpoints</em> of the service, the type of data expected and returned, the <em>HTTP</em> method for each endpoint of the service and other configurations if needed.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">@Path("/dishmanagement/v1")
@Consumes(MediaType.APPLICATION_JSON)
@Produces(MediaType.APPLICATION_JSON)
public interface DishmanagementRestService {

  @GET
  @Path("/dish/{id}/")
  public DishCto getDish(@PathParam("id") long id);

  ...

}</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_service_impl"><a class="anchor" href="#_service_impl"></a>Service <code>impl</code></h5>
<div class="paragraph">
<p>Once the service <code><em>api</em></code> is defined we need to implement it using the <em>Java interface</em> as reference. We will add the <em>service implementation</em> class to the <code><em>impl.rest</em></code> package and implement the <code><em>RestService interface</em></code>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">@Named("DishmanagementRestService")
public class DishmanagementRestServiceImpl implements DishmanagementRestService {

  @Inject
  private Dishmanagement dishmanagement;

  @Override
  public DishCto getDish(long id) {
    return this.dishmanagement.findDish(id);
  }

  ...

}</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id=""><a class="anchor" href="#"></a>==</h5>
<div class="paragraph">
<p>You can see the Devon4j conventions for REST services <a href="https://github.com/devonfw/devon4j/wiki/guide-rest">here</a>. And the My Thai Star services definition <a href="https://github.com/devonfw/my-thai-star/blob/develop/swagger/mythaistar.yaml">here</a> as part of the <a href="https://github.com/devonfw/my-thai-star">My Thai Star</a> project.
== ==</p>
</div>
</div>
<div class="sect4">
<h5 id="_logic_layer"><a class="anchor" href="#_logic_layer"></a>Logic layer</h5>
<div class="paragraph">
<p>In the <em>logic</em> layer we will locate all the <em>business logic</em> of the application. We will keep the same schema as we have done for the <em>service</em> layer, having an <code><em>api</em></code> package with the definition of the methods and a <code><em>impl</em></code> package for the implementation.</p>
</div>
<div class="paragraph">
<p>Also, inside the <code><em>api</em></code> package, a <em>to</em> package will be the place to store the <code><a href="https://github.com/devonfw/devon4j/wiki/guide-transferobject"><em>transfer objects</em></a></code> needed to pass data through the layers of the component.</p>
</div>
<div class="imageblock">
<div class="content">
<a class="image" href="images/java/logic_layer.png"><img src="_images/images/java/logic_layer.png" alt="logic layer"></a>
</div>
</div>
<div class="paragraph">
<p>The logic <code><em>api</em></code> definition:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">public interface Dishmanagement {

  DishCto findDish(Long id);

  ...
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>The logic <code><em>impl</em></code> class:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">@Named
public class DishmanagementImpl extends AbstractComponentFacade implements Dishmanagement {

  @Inject
  private DishDao dishDao;


  @Override
  public DishCto findDish(Long id) {

    return getBeanMapper().map(this.dishDao.findOne(id), DishCto.class);
  }

  ...

}</code></pre>
</div>
</div>
<div class="paragraph">
<p>The <code><em>BeanMapper</em></code> will provide the needed transformations between <em>entity</em> and <em>transfer objects</em>.</p>
</div>
<div class="paragraph">
<p>Also, the <em>logic</em> layer is the place to add validation for <em>Authorization</em> based on <em>roles</em> as we will see later.</p>
</div>
</div>
<div class="sect4">
<h5 id="_data_access_layer"><a class="anchor" href="#_data_access_layer"></a>Data Access layer</h5>
<div class="paragraph">
<p>The data-access layer is responsible for managing the connections to access and process data. The mapping between java objects to a relational database is done in <em>Devon4j</em> with the <a href="https://spring.io/projects/spring-data-jpa">spring-data-jpa</a>.</p>
</div>
<div class="paragraph">
<p>As in the previous layers, the <em>data-access</em> layer will have both <code><em>api</em></code> and <code><em>impl</em></code> packages. However, in this case, the implementation will be slightly different. The <code><em>api</em></code> package will store the <em>component</em> main <em>entities and, inside the <code>_api</em></code> package, another <code><em>api.repo</em></code> package will store the Repositories. The <em>repository</em> interface will extend <code>DefaultRepository</code> interface (located in <code>com.devonfw.module.jpa.dataaccess.api.data</code> package of <a href="http://repo1.maven.org/maven2/com/devonfw/java/starters/devon4j-starter-spring-data-jpa/3.0.0/">devon4j-starter-spring-data-jpa</a> ).</p>
</div>
<div class="paragraph">
<p>For queries we will differentiate between <em>static queries</em> (that will be located in a mapped file) and <em>dynamic queries</em> (implemented with <a href="http://www.querydsl.com/">QueryDsl</a>). You can find all the details about how to manage queries with <em>Devon4j</em> <a href="https://github.com/devonfw/devon4j/wiki/guide-jpa-query">here</a>.</p>
</div>
<div class="paragraph">
<p>The default data base included in the project will be the <a href="http://www.h2database.com/html/main.html">H2</a> instance included with the <em>Devon4j</em> projects.</p>
</div>
<div class="paragraph">
<p>To get more details about <em>pagination</em>, <em>data base security, _concurrency control</em>, <em>inheritance</em> or how to solve the different <em>relationships</em> between entities visit the official <code><a href="https://github.com/devonfw/devon4j/wiki/guide-dataaccess-layer">devon4j dataaccess documentation</a></code>.</p>
</div>
</div>
<div class="sect4">
<h5 id="_security_with_json_web_token"><a class="anchor" href="#_security_with_json_web_token"></a>Security with Json Web Token</h5>
<div class="paragraph">
<p>For the <em>Authentication</em> and <em>Authorization</em> the app will implement the <code><a href="https://jwt.io/">json web token</code></a> protocol.</p>
</div>
</div>
<div class="sect4">
<h5 id="_jwt_basics"><a class="anchor" href="#_jwt_basics"></a>JWT basics</h5>
<div class="ulist">
<ul>
<li>
<p>A user will provide a username / password combination to our Auth server.</p>
</li>
<li>
<p>The Auth server will try to identify the user and, if the credentials match, will issue a token.</p>
</li>
<li>
<p>The user will send the token as the <em>Authorization</em> header to access resources on server protected by JWT Authentication.</p>
</li>
</ul>
</div>
<div class="imageblock">
<div class="content">
<a class="image" href="images/java/jwt_schema.png"><img src="_images/images/java/jwt_schema.png" alt="jwt schema"></a>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_jwt_implementation_details"><a class="anchor" href="#_jwt_implementation_details"></a>JWT implementation details</h5>
<div class="paragraph">
<p>The <em>Json Web Token</em> pattern will be implemented based on the <a href="https://docs.spring.io/spring-security/site/docs/4.0.x/reference/htmlsingle/"><em>Spring Security</em></a> framework that is provided by default in the <em>Devon4j</em> projects.</p>
</div>
</div>
<div class="sect4">
<h5 id="_authentication"><a class="anchor" href="#_authentication"></a>==  Authentication</h5>
<div class="paragraph">
<p>Based on the <em>Spring Security</em> approach, we will implement a class extending <code><em>WebSecurityConfigurerAdapter</em></code> (<em>Devon4j</em> already provides the` <em>BaseWebSecurityConfig</em>` class) to define the security <em>entry point</em> and filters. Also, as <em>My Thai Star</em> is a mainly <em>public</em> application, we will define here the resources that won&#8217;t be secured.</p>
</div>
<div class="paragraph">
<p>List of <em>unsecured resources</em>:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code><em>/services/rest/dishmanagement/**</em></code>: to allow anonymous users to see the dishes info in the <em>menu</em> section.</p>
</li>
<li>
<p><code><em>/services/rest/ordermanagement/v1/order</em></code>: to allow anonymous users to save an order. They will need a <em>booking token</em> but they won&#8217;t be authenticated to do this task.</p>
</li>
<li>
<p><code><em>/services/rest/bookingmanagement/v1/booking</em></code>: to allow anonymous users to create a booking. Only a <em>booking token</em> is necessary to accomplish this task.</p>
</li>
<li>
<p><code><em>/services/rest/bookingmanagement/v1/booking/cancel/**</em></code>: to allow canceling a booking from an email. Only the <em>booking token</em> is needed.</p>
</li>
<li>
<p><code><em>/services/rest/bookingmanagement/v1/invitedguest/accept/**</em></code>: to allow guests to accept an invite. Only a <em>guest token</em> is needed.</p>
</li>
<li>
<p><code><em>/services/rest/bookingmanagement/v1/invitedguest/decline/**</em></code>: to allow guests to reject an invite. Only a <em>guest token</em> is needed.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>To configure the <em>login</em> we will set up the <code><em>HttpSecurity</em></code> object in the <em>configure</em> method of the class. We will define a <code><em>JWTLoginFilter</em></code> class that will handle the requests to the <code>/login</code> <em>endpoint</em>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">http.[...].antMatchers(HttpMethod.POST, "/login").permitAll().[...].addFilterBefore(new JWTLoginFilter("/login", authenticationManager()), UsernamePasswordAuthenticationFilter.class);</code></pre>
</div>
</div>
<div class="paragraph">
<p>In the same <code><em>HttpSecurity</em></code> object we will set up the filter for the rest of the requests, to check the presence of the JWT token in the header. First we will need to create a <code><em>JWTAuthenticationFilter</em></code> class extending the <code><em>GenericFilterBean</em></code> class. Then we can add the filter to the <code><em>HttpSecurity</em></code> object</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">http.[...].addFilterBefore(new `JWTAuthenticationFilter()`, UsernamePasswordAuthenticationFilter.class);</code></pre>
</div>
</div>
<div class="paragraph">
<p>Finally, as default users to start using the <em>My Thai Star</em> app we are going to define two profiles using the <code><em>inMemoryAuthentication</em></code> of the <em>Spring Security</em> framework. In the <code>configure(AuthenticationManagerBuilder Auth)</code> method we will create:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>user: <em>waiter</em></p>
</li>
<li>
<p>password: <em>waiter</em></p>
</li>
<li>
<p>role: <em>Waiter</em></p>
</li>
<li>
<p>user: <em>user0</em></p>
</li>
<li>
<p>password: <em>password</em></p>
</li>
<li>
<p>role: <em>Customer</em></p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">auth.inMemoryAuthentication().withUser("waiter").password("waiter").roles("Waiter").and().withUser("user0").password("password").roles("Customer");</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_token_set_up"><a class="anchor" href="#_token_set_up"></a>==  Token set up</h5>
<div class="paragraph">
<p>Following the <code><a href="https://jwt.io/introduction/">official documentation</a></code> the implementation details for the MyThaiStar&#8217;s JWT will be:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><em>Secret</em>: Used as part of the signature of the token, acting as a private key. For the showcase purposes we will use simply <code>"ThisIsASecret"</code>.</p>
</li>
<li>
<p><em>Token Prefix</em> schema: Bearer. The token will look like <code>Bearer &lt;token&gt;</code></p>
</li>
<li>
<p><em>Header</em>: Authorization. The response header where the token will be included. Also, in the requests, when checking the token it will be expected to be in the same header.</p>
</li>
<li>
<p>The <em>Authorization</em> header should be part of the <code>Access-Control-Expose-Headers</code> header to allow clients access to the <em>Authorization</em> header content (the token);</p>
</li>
<li>
<p>The <em>claims</em> are the content of the <em>payload</em> of the token. The <em>claims</em> are statements about the user, so we will include the user info in this section.</p>
<div class="ulist">
<ul>
<li>
<p><em>subject</em>: "sub". The username.</p>
</li>
<li>
<p><em>issuer</em>: <code>"iss"</code>. Who creates the token. We could use the <code><em>url</em></code> of our service but, as this is a showcase app, we simply will use <code>"MyThaiStarApp"</code></p>
</li>
<li>
<p><em>expiration date</em>: "exp". Defines when the token expires.</p>
</li>
<li>
<p><em>creation date</em>: <code>"iat"</code>. Defines when the token has been created.</p>
</li>
<li>
<p><em>scope</em>: "scope". Array of strings to store the user roles.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Signature Algorithm: To encrypt the token we will use the default algorithm HS512.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>An example of a token claims before encryption would be:</p>
</div>
<div class="paragraph">
<p><code>{sub=waiter, scope=[ROLE_Waiter], iss=MyThaiStarApp, exp=1496920280, iat=1496916680}</code></p>
</div>
</div>
<div class="sect4">
<h5 id="_current_user_request"><a class="anchor" href="#_current_user_request"></a>==  Current User request</h5>
<div class="paragraph">
<p>To provide to the client with the current user data our application should expose a service to return the user details. In <em>Devon4j</em> applications the <code>/general/service/impl/rest/SecurityRestServiceImpl.java</code> class is ready to do that.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">@Path("/security/v1")
@Named("SecurityRestService")
public class SecurityRestServiceImpl {

  @Produces(MediaType.APPLICATION_JSON)
  @GET
  @Path("/currentuser/")
  public UserDetailsClientTo getCurrentUserDetails(@Context HttpServletRequest request) {

  }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>we only will need to implement the <code>getCurrentUserDetails</code> method.</p>
</div>
</div>
<div class="sect4">
<h5 id="_authorization"><a class="anchor" href="#_authorization"></a>==  Authorization</h5>
<div class="paragraph">
<p>We need to secure three services, that only should be accessible for users with role <em>Waiter</em>:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>(POST) <code>/mythaistar/services/rest/bookingmanagement/v1/booking/search</code>.</p>
</li>
<li>
<p>(POST) <code>/mythaistar/services/rest/ordermanagement/v1/order/search</code>.</p>
</li>
<li>
<p>(POST) <code>/mythaistar/services/rest/ordermanagement/v1/order/filter</code>.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>As part of the token we are providing the user <em>Role</em>. So, when validating the token, we can obtain that same information and build a <code>UsernamePasswordAuthenticationToken</code> with username and the roles as collection of <em>Granted Authorities</em>.</p>
</div>
<div class="paragraph">
<p>Doing so, afterwards, in the implementation class of the <em>logic</em> layer we can set up the related methods with the <em>java security</em> <code>'@RolesAllowed'</code> annotation to block the access to the resource to users that does not match the expected roles.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">`@RolesAllowed(Roles.WAITER)`
public PaginatedListTo&lt;BookingEto&gt; findBookings(BookingSearchCriteriaTo criteria) {
  return findBookings(criteria);
}</code></pre>
</div>
</div>
<div id="toc" class="toc">
<div id="toctitle" class="title">Table of Contents</div>
<ul class="sectlevel1">
<li><a href="#_mythaistar">MyThaiStar</a>
<ul class="sectlevel2">
<li><a href="#_1_my_thai_star_agile_framework">1.	My Thai Star – Agile Framework</a></li>
<li><a href="#_1_1_team_setup">1.1 Team Setup</a></li>
<li><a href="#_1_2_scrum_events">1.2 Scrum events</a></li>
<li><a href="#_sprint_planning">Sprint Planning</a></li>
<li><a href="#_sprint_review">Sprint Review</a></li>
<li><a href="#_sprint_retrospective">Sprint Retrospective</a></li>
<li><a href="#_daily_stand_ups">Daily Stand-ups</a></li>
<li><a href="#_backlog_refinement">Backlog refinement</a></li>
<li><a href="#_1_3_establish_product_backlog">1.3 Establish Product Backlog</a></li>
<li><a href="#_2_my_thai_star_agile_diary">2.	My Thai Star – Agile Diary</a></li>
<li><a href="#_24_03_2017_sprint_1_planning">24.03.2017 Sprint 1 Planning</a></li>
<li><a href="#_27_04_2017_sprint_1_review">27.04.2017 Sprint 1 Review</a></li>
<li><a href="#_03_05_2017_sprint_2_planning">03.05.2017 Sprint 2 Planning</a></li>
<li><a href="#_01_06_2017_sprint_2_review">01.06.2017 Sprint 2 Review</a></li>
<li><a href="#_user_stories">User Stories</a></li>
<li><a href="#_epic_invite_friends">Epic: Invite friends</a></li>
<li><a href="#_us_create_invite_for_friends">US: create invite for friends</a></li>
<li><a href="#_acceptance_criteria">== Acceptance criteria</a></li>
<li><a href="#_us_create_reservation">US: create reservation</a></li>
<li><a href="#_acceptance_criteria_2">== Acceptance criteria</a></li>
<li><a href="#_wireframes">== Wireframes</a></li>
<li><a href="#_us_handle_invite">US: handle invite</a></li>
<li><a href="#_ac">== AC:</a></li>
<li><a href="#_us_revoke_accepted_invite">US: revoke accepted invite</a></li>
<li><a href="#_ac_2">==  AC:</a></li>
<li><a href="#_us_calculate_best_table">US: calculate best table</a></li>
<li><a href="#_details">== Details</a></li>
<li><a href="#_us_find_table_by_reservation_info">US: find table by reservation info</a></li>
<li><a href="#_ac_3">== AC:</a></li>
<li><a href="#_us_cancel_invite">US: cancel invite</a></li>
<li><a href="#_ac_4">== AC:</a></li>
<li><a href="#_epic_digital_menu">Epic: Digital Menu</a></li>
<li><a href="#_us_filter_menu">US: filter menu</a></li>
<li><a href="#_ac_5">== AC:</a></li>
<li><a href="#_us_define_order">US: Define order</a></li>
<li><a href="#_ac_6">== AC:</a></li>
<li><a href="#_us_order_the_order">US: Order the order</a></li>
<li><a href="#_us_cancel_order">US: Cancel order</a></li>
<li><a href="#_us_read_twitter_rating_for_dishes">US: Read twitter rating for dishes</a></li>
<li><a href="#_epic_user_profile">Epic: User Profile</a></li>
<li><a href="#_us_user_profile">US: User Profile</a></li>
<li><a href="#_epic_rate_by_twitter">Epic: Rate by twitter</a></li>
<li><a href="#_us_receive_mail_to_rate_your_dish">US: Receive mail to rate your dish</a></li>
<li><a href="#_us_rate_your_dish">US: Rate your dish</a></li>
<li><a href="#_epic_waiter_cockpit">Epic: Waiter Cockpit</a></li>
<li><a href="#_us_see_all_ordersreservations">US: See all orders/reservations</a></li>
</ul>
</li>
<li><a href="#_technical_design">Technical design</a></li>
<li><a href="#_data_model">Data Model</a>
<ul class="sectlevel4">
<li><a href="#_data_model_2">Data Model</a></li>
<li><a href="#_nosql_data_model">NoSQL Data Model</a></li>
</ul>
</li>
<li><a href="#_server_side">Server Side</a>
<ul class="sectlevel4">
<li><a href="#_java_design">Java design</a></li>
<li><a href="#_introduction">Introduction</a></li>
<li><a href="#_basic_architecture_details">Basic architecture details</a></li>
<li><a href="#_project_modules">Project modules</a></li>
<li><a href="#_components">Components</a></li>
<li><a href="#_layers">Layers</a></li>
<li><a href="#_component_structure">Component structure</a></li>
<li><a href="#_dependency_injection">Dependency injection</a></li>
<li><a href="#_layers_communication">Layers communication</a></li>
<li><a href="#_service_layer">Service layer</a></li>
<li><a href="#_service_api">Service API</a></li>
<li><a href="#_service_impl">Service <code>impl</code></a></li>
<li><a href="#">==</a></li>
<li><a href="#_logic_layer">Logic layer</a></li>
<li><a href="#_data_access_layer">Data Access layer</a></li>
<li><a href="#_security_with_json_web_token">Security with Json Web Token</a></li>
<li><a href="#_jwt_basics">JWT basics</a></li>
<li><a href="#_jwt_implementation_details">JWT implementation details</a></li>
<li><a href="#_authentication">==  Authentication</a></li>
<li><a href="#_token_set_up">==  Token set up</a></li>
<li><a href="#_current_user_request">==  Current User request</a></li>
<li><a href="#_authorization">==  Authorization</a></li>
<li><a href="#_net_design">.NET design</a></li>
<li><a href="#_nodejs_design_deprecated">NodeJS design (deprecated)</a></li>
<li><a href="#_introduction_2">Introduction</a></li>
<li><a href="#_basic_architecture_details_2">Basic architecture details</a></li>
<li><a href="#_layers_2">Layers</a></li>
<li><a href="#_service_layer_2">Service layer</a></li>
<li><a href="#_logic_layer_and_data_access_layer">Logic layer and Data access layer</a></li>
<li><a href="#_security_with_json_web_token_2">Security with Json Web Token</a></li>
<li><a href="#_jwt_basics_2">JWT basics</a></li>
<li><a href="#_jwt_implementation_details_2">JWT implementation details</a></li>
<li><a href="#_authentication_2">==  Authentication</a></li>
<li><a href="#_token_set_up_2">==  Token set up</a></li>
<li><a href="#_current_user_request_2">==  Current User request</a></li>
<li><a href="#_authorization_2">==  Authorization</a></li>
<li><a href="#_serverless_design_deprecated">Serverless design (deprecated)</a></li>
<li><a href="#_introduction_3">Introduction</a></li>
<li><a href="#_basic_architecture_details_3">Basic architecture details</a></li>
<li><a href="#_layers_3">Layers</a></li>
<li><a href="#_service_layer_3">Service layer</a></li>
<li><a href="#_2">==</a></li>
<li><a href="#_logic_layer_and_data_access_layer_2">Logic layer and Data access layer</a></li>
<li><a href="#_security_with_json_web_token_3">Security with Json Web Token</a></li>
<li><a href="#_jwt_basics_3">JWT basics</a></li>
<li><a href="#_jwt_implementation_details_3">JWT implementation details</a></li>
<li><a href="#_authentication_3">==  Authentication</a></li>
<li><a href="#_token_set_up_3">==  Token set up</a></li>
<li><a href="#_current_user_request_3">==  Current User request</a></li>
<li><a href="#_authorization_3">==  Authorization</a></li>
<li><a href="#_graphql_design">GraphQL design</a></li>
</ul>
</li>
<li><a href="#_client_side">Client Side</a>
<ul class="sectlevel4">
<li><a href="#_angular_design">Angular design</a></li>
<li><a href="#_introduction_4">Introduction</a></li>
<li><a href="#_basic_project_structure">Basic project structure</a></li>
<li><a href="#_main_views_and_components">Main Views and components</a></li>
<li><a href="#_public_area">Public area</a></li>
<li><a href="#_app_component">==  App Component</a></li>
<li><a href="#_order_sidenav">== Order sidenav</a></li>
<li><a href="#_navigation_sidenav_only_for_mobile">== Navigation sidenav (only for mobile)</a></li>
<li><a href="#_header">== Header</a></li>
<li><a href="#_footer_only_for_desktop">== Footer (only for desktop)</a></li>
<li><a href="#_home_component">==  Home-Component</a></li>
<li><a href="#_menu_component">==  Menu-Component</a></li>
<li><a href="#_menu_card">== Menu-card</a></li>
<li><a href="#_book_table_component">==  Book Table Component</a></li>
<li><a href="#_book_table_dialog">== Book-table-dialog</a></li>
<li><a href="#_invitation_dialog">== Invitation-dialog</a></li>
<li><a href="#_user_area">==  User Area</a></li>
<li><a href="#_login_dialog">== Login-dialog</a></li>
<li><a href="#_password_dialog">== Password-dialog</a></li>
<li><a href="#_twitter_dialog">== Twitter-dialog</a></li>
<li><a href="#_waiter_cockpit_area">Waiter cockpit area</a></li>
<li><a href="#_order_cockpit_component">==  Order Cockpit Component</a></li>
<li><a href="#_order_dialog">== Order-dialog</a></li>
<li><a href="#_reservation_cockpit_component">==  Reservation Cockpit Component</a></li>
<li><a href="#_reservation_dialog">== Reservation-dialog</a></li>
<li><a href="#_email_management">Email Management</a></li>
<li><a href="#_accept_invite">==  Accept Invite</a></li>
<li><a href="#_reject_invite">==  Reject Invite</a></li>
<li><a href="#_cancel_reservation">==  Cancel Reservation</a></li>
<li><a href="#_cancel_orders">==  Cancel Orders</a></li>
<li><a href="#_services_and_directives">Services and directives</a></li>
<li><a href="#_price_calculator_service">Price-calculator-service</a></li>
<li><a href="#_authentication_4">Authentication</a></li>
<li><a href="#_snack_service">Snack Service</a></li>
<li><a href="#_window_service">Window Service</a></li>
<li><a href="#_equal_validator_directive">Equal-validator-directive</a></li>
<li><a href="#_mock_back_end">Mock Back-end</a></li>
<li><a href="#_booking">Booking</a></li>
<li><a href="#_orders">Orders</a></li>
<li><a href="#_dishes">Dishes</a></li>
<li><a href="#_login">Login</a></li>
<li><a href="#_security">Security</a></li>
<li><a href="#_auth_guard">Auth-guard</a></li>
<li><a href="#_jwt">JWT</a></li>
<li><a href="#_httpclient">==  HttpClient</a></li>
<li><a href="#_xamarin_design">Xamarin design</a></li>
</ul>
</li>
<li><a href="#_security_2">Security</a>
<ul class="sectlevel3">
<li><a href="#_two_factor_authentication">Two-Factor Authentication</a></li>
<li><a href="#_back_end_mechanism">Back-end mechanism</a></li>
<li><a href="#_activating_two_factor_authentication">Activating Two-Factor Authentication</a></li>
<li><a href="#_frontend">Frontend</a></li>
</ul>
</li>
<li><a href="#_testing">Testing</a></li>
<li><a href="#_server_side_2">Server Side</a>
<ul class="sectlevel4">
<li><a href="#_java_testing">Java testing</a></li>
<li><a href="#_component_testing">Component testing</a></li>
<li><a href="#_running_the_tests">Running the tests</a></li>
<li><a href="#_from_eclipse">From Eclipse</a></li>
<li><a href="#_from_command_line_using_maven">From command line using Maven</a></li>
<li><a href="#_net_testing">.NET testing</a></li>
<li><a href="#_nodejs_testing">NodeJS testing</a></li>
<li><a href="#_graphql_testing">GraphQL testing</a></li>
</ul>
</li>
<li><a href="#_client_side_2">Client Side</a>
<ul class="sectlevel4">
<li><a href="#_angular_testing">Angular testing</a></li>
<li><a href="#_3">==</a></li>
<li><a href="#_testing_components">Testing Components</a></li>
<li><a href="#_dialog_components">Dialog components</a></li>
<li><a href="#_testing_services">Testing Services</a></li>
<li><a href="#_testing_in_a_ci_environment">Testing in a CI environment</a></li>
<li><a href="#_xamarin_testing">Xamarin testing</a></li>
</ul>
</li>
<li><a href="#_end_to_end">End to end</a>
<ul class="sectlevel4">
<li><a href="#_mrchecker_e2e_testing">MrChecker E2E Testing</a></li>
<li><a href="#_introduction_5">Introduction</a></li>
<li><a href="#_how_to_use_it">How to use it</a></li>
<li><a href="#_end_to_end_tests_in_my_thai_star">End to end tests in My Thai Star</a></li>
</ul>
</li>
<li><a href="#_ui_design">UI design</a>
<ul class="sectlevel3">
<li><a href="#_style_guide">Style guide</a></li>
<li><a href="#_low_and_high_fidelity_wireframes">Low and high fidelity wireframes</a></li>
</ul>
</li>
<li><a href="#_cicd">CI/CD</a>
<ul class="sectlevel3">
<li><a href="#_my_thai_star_in_production_line">My Thai Star in Production Line</a></li>
<li><a href="#_what_is_pl">What is PL?</a></li>
<li><a href="#_introduction_6">Introduction</a></li>
<li><a href="#_where_can_i_find_all_my_thai_star_pipelines">Where can I find all My Thai Star Pipelines?</a></li>
<li><a href="#_ci_in_my_thai_star_stack">CI in My Thai Star stack</a></li>
<li><a href="#_how_to_configure_everything_out_of_the_box">How to configure everything out of the box</a></li>
<li><a href="#_deployment">Deployment</a></li>
<li><a href="#_where_docker_containers_will_be_running">Where Docker containers will be running?</a></li>
<li><a href="#_container_schema">Container Schema</a></li>
<li><a href="#_run_my_thai_star">Run My Thai Star</a></li>
<li><a href="#_mythaistar_on_native_kubernetes_as_a_service_nkaas"><code>MyThaiStar</code> on Native Kubernetes as a Service (nKaaS)</a></li>
<li><a href="#_setting_up_the_environment">Setting up the environment</a></li>
<li><a href="#_following_the_nkaas_guide">Following the nKaaS guide</a></li>
<li><a href="#_requesting_a_namespace">Requesting a namespace</a></li>
<li><a href="#_setting_up_harbor">Setting up Harbor</a></li>
<li><a href="#_setting_up_jenkins">Setting up Jenkins</a></li>
<li><a href="#_deploying_mts">Deploying MTS</a></li>
</ul>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_net_design"><a class="anchor" href="#_net_design"></a>.NET design</h5>
<div class="paragraph">
<p>TODO</p>
</div>
<div id="toc" class="toc">
<div id="toctitle" class="title">Table of Contents</div>
<ul class="sectlevel1">
<li><a href="#_mythaistar">MyThaiStar</a>
<ul class="sectlevel2">
<li><a href="#_1_my_thai_star_agile_framework">1.	My Thai Star – Agile Framework</a></li>
<li><a href="#_1_1_team_setup">1.1 Team Setup</a></li>
<li><a href="#_1_2_scrum_events">1.2 Scrum events</a></li>
<li><a href="#_sprint_planning">Sprint Planning</a></li>
<li><a href="#_sprint_review">Sprint Review</a></li>
<li><a href="#_sprint_retrospective">Sprint Retrospective</a></li>
<li><a href="#_daily_stand_ups">Daily Stand-ups</a></li>
<li><a href="#_backlog_refinement">Backlog refinement</a></li>
<li><a href="#_1_3_establish_product_backlog">1.3 Establish Product Backlog</a></li>
<li><a href="#_2_my_thai_star_agile_diary">2.	My Thai Star – Agile Diary</a></li>
<li><a href="#_24_03_2017_sprint_1_planning">24.03.2017 Sprint 1 Planning</a></li>
<li><a href="#_27_04_2017_sprint_1_review">27.04.2017 Sprint 1 Review</a></li>
<li><a href="#_03_05_2017_sprint_2_planning">03.05.2017 Sprint 2 Planning</a></li>
<li><a href="#_01_06_2017_sprint_2_review">01.06.2017 Sprint 2 Review</a></li>
<li><a href="#_user_stories">User Stories</a></li>
<li><a href="#_epic_invite_friends">Epic: Invite friends</a></li>
<li><a href="#_us_create_invite_for_friends">US: create invite for friends</a></li>
<li><a href="#_acceptance_criteria">== Acceptance criteria</a></li>
<li><a href="#_us_create_reservation">US: create reservation</a></li>
<li><a href="#_acceptance_criteria_2">== Acceptance criteria</a></li>
<li><a href="#_wireframes">== Wireframes</a></li>
<li><a href="#_us_handle_invite">US: handle invite</a></li>
<li><a href="#_ac">== AC:</a></li>
<li><a href="#_us_revoke_accepted_invite">US: revoke accepted invite</a></li>
<li><a href="#_ac_2">==  AC:</a></li>
<li><a href="#_us_calculate_best_table">US: calculate best table</a></li>
<li><a href="#_details">== Details</a></li>
<li><a href="#_us_find_table_by_reservation_info">US: find table by reservation info</a></li>
<li><a href="#_ac_3">== AC:</a></li>
<li><a href="#_us_cancel_invite">US: cancel invite</a></li>
<li><a href="#_ac_4">== AC:</a></li>
<li><a href="#_epic_digital_menu">Epic: Digital Menu</a></li>
<li><a href="#_us_filter_menu">US: filter menu</a></li>
<li><a href="#_ac_5">== AC:</a></li>
<li><a href="#_us_define_order">US: Define order</a></li>
<li><a href="#_ac_6">== AC:</a></li>
<li><a href="#_us_order_the_order">US: Order the order</a></li>
<li><a href="#_us_cancel_order">US: Cancel order</a></li>
<li><a href="#_us_read_twitter_rating_for_dishes">US: Read twitter rating for dishes</a></li>
<li><a href="#_epic_user_profile">Epic: User Profile</a></li>
<li><a href="#_us_user_profile">US: User Profile</a></li>
<li><a href="#_epic_rate_by_twitter">Epic: Rate by twitter</a></li>
<li><a href="#_us_receive_mail_to_rate_your_dish">US: Receive mail to rate your dish</a></li>
<li><a href="#_us_rate_your_dish">US: Rate your dish</a></li>
<li><a href="#_epic_waiter_cockpit">Epic: Waiter Cockpit</a></li>
<li><a href="#_us_see_all_ordersreservations">US: See all orders/reservations</a></li>
</ul>
</li>
<li><a href="#_technical_design">Technical design</a></li>
<li><a href="#_data_model">Data Model</a>
<ul class="sectlevel4">
<li><a href="#_data_model_2">Data Model</a></li>
<li><a href="#_nosql_data_model">NoSQL Data Model</a></li>
</ul>
</li>
<li><a href="#_server_side">Server Side</a>
<ul class="sectlevel4">
<li><a href="#_java_design">Java design</a></li>
<li><a href="#_introduction">Introduction</a></li>
<li><a href="#_basic_architecture_details">Basic architecture details</a></li>
<li><a href="#_project_modules">Project modules</a></li>
<li><a href="#_components">Components</a></li>
<li><a href="#_layers">Layers</a></li>
<li><a href="#_component_structure">Component structure</a></li>
<li><a href="#_dependency_injection">Dependency injection</a></li>
<li><a href="#_layers_communication">Layers communication</a></li>
<li><a href="#_service_layer">Service layer</a></li>
<li><a href="#_service_api">Service API</a></li>
<li><a href="#_service_impl">Service <code>impl</code></a></li>
<li><a href="#">==</a></li>
<li><a href="#_logic_layer">Logic layer</a></li>
<li><a href="#_data_access_layer">Data Access layer</a></li>
<li><a href="#_security_with_json_web_token">Security with Json Web Token</a></li>
<li><a href="#_jwt_basics">JWT basics</a></li>
<li><a href="#_jwt_implementation_details">JWT implementation details</a></li>
<li><a href="#_authentication">==  Authentication</a></li>
<li><a href="#_token_set_up">==  Token set up</a></li>
<li><a href="#_current_user_request">==  Current User request</a></li>
<li><a href="#_authorization">==  Authorization</a></li>
<li><a href="#_net_design">.NET design</a></li>
<li><a href="#_nodejs_design_deprecated">NodeJS design (deprecated)</a></li>
<li><a href="#_introduction_2">Introduction</a></li>
<li><a href="#_basic_architecture_details_2">Basic architecture details</a></li>
<li><a href="#_layers_2">Layers</a></li>
<li><a href="#_service_layer_2">Service layer</a></li>
<li><a href="#_logic_layer_and_data_access_layer">Logic layer and Data access layer</a></li>
<li><a href="#_security_with_json_web_token_2">Security with Json Web Token</a></li>
<li><a href="#_jwt_basics_2">JWT basics</a></li>
<li><a href="#_jwt_implementation_details_2">JWT implementation details</a></li>
<li><a href="#_authentication_2">==  Authentication</a></li>
<li><a href="#_token_set_up_2">==  Token set up</a></li>
<li><a href="#_current_user_request_2">==  Current User request</a></li>
<li><a href="#_authorization_2">==  Authorization</a></li>
<li><a href="#_serverless_design_deprecated">Serverless design (deprecated)</a></li>
<li><a href="#_introduction_3">Introduction</a></li>
<li><a href="#_basic_architecture_details_3">Basic architecture details</a></li>
<li><a href="#_layers_3">Layers</a></li>
<li><a href="#_service_layer_3">Service layer</a></li>
<li><a href="#_2">==</a></li>
<li><a href="#_logic_layer_and_data_access_layer_2">Logic layer and Data access layer</a></li>
<li><a href="#_security_with_json_web_token_3">Security with Json Web Token</a></li>
<li><a href="#_jwt_basics_3">JWT basics</a></li>
<li><a href="#_jwt_implementation_details_3">JWT implementation details</a></li>
<li><a href="#_authentication_3">==  Authentication</a></li>
<li><a href="#_token_set_up_3">==  Token set up</a></li>
<li><a href="#_current_user_request_3">==  Current User request</a></li>
<li><a href="#_authorization_3">==  Authorization</a></li>
<li><a href="#_graphql_design">GraphQL design</a></li>
</ul>
</li>
<li><a href="#_client_side">Client Side</a>
<ul class="sectlevel4">
<li><a href="#_angular_design">Angular design</a></li>
<li><a href="#_introduction_4">Introduction</a></li>
<li><a href="#_basic_project_structure">Basic project structure</a></li>
<li><a href="#_main_views_and_components">Main Views and components</a></li>
<li><a href="#_public_area">Public area</a></li>
<li><a href="#_app_component">==  App Component</a></li>
<li><a href="#_order_sidenav">== Order sidenav</a></li>
<li><a href="#_navigation_sidenav_only_for_mobile">== Navigation sidenav (only for mobile)</a></li>
<li><a href="#_header">== Header</a></li>
<li><a href="#_footer_only_for_desktop">== Footer (only for desktop)</a></li>
<li><a href="#_home_component">==  Home-Component</a></li>
<li><a href="#_menu_component">==  Menu-Component</a></li>
<li><a href="#_menu_card">== Menu-card</a></li>
<li><a href="#_book_table_component">==  Book Table Component</a></li>
<li><a href="#_book_table_dialog">== Book-table-dialog</a></li>
<li><a href="#_invitation_dialog">== Invitation-dialog</a></li>
<li><a href="#_user_area">==  User Area</a></li>
<li><a href="#_login_dialog">== Login-dialog</a></li>
<li><a href="#_password_dialog">== Password-dialog</a></li>
<li><a href="#_twitter_dialog">== Twitter-dialog</a></li>
<li><a href="#_waiter_cockpit_area">Waiter cockpit area</a></li>
<li><a href="#_order_cockpit_component">==  Order Cockpit Component</a></li>
<li><a href="#_order_dialog">== Order-dialog</a></li>
<li><a href="#_reservation_cockpit_component">==  Reservation Cockpit Component</a></li>
<li><a href="#_reservation_dialog">== Reservation-dialog</a></li>
<li><a href="#_email_management">Email Management</a></li>
<li><a href="#_accept_invite">==  Accept Invite</a></li>
<li><a href="#_reject_invite">==  Reject Invite</a></li>
<li><a href="#_cancel_reservation">==  Cancel Reservation</a></li>
<li><a href="#_cancel_orders">==  Cancel Orders</a></li>
<li><a href="#_services_and_directives">Services and directives</a></li>
<li><a href="#_price_calculator_service">Price-calculator-service</a></li>
<li><a href="#_authentication_4">Authentication</a></li>
<li><a href="#_snack_service">Snack Service</a></li>
<li><a href="#_window_service">Window Service</a></li>
<li><a href="#_equal_validator_directive">Equal-validator-directive</a></li>
<li><a href="#_mock_back_end">Mock Back-end</a></li>
<li><a href="#_booking">Booking</a></li>
<li><a href="#_orders">Orders</a></li>
<li><a href="#_dishes">Dishes</a></li>
<li><a href="#_login">Login</a></li>
<li><a href="#_security">Security</a></li>
<li><a href="#_auth_guard">Auth-guard</a></li>
<li><a href="#_jwt">JWT</a></li>
<li><a href="#_httpclient">==  HttpClient</a></li>
<li><a href="#_xamarin_design">Xamarin design</a></li>
</ul>
</li>
<li><a href="#_security_2">Security</a>
<ul class="sectlevel3">
<li><a href="#_two_factor_authentication">Two-Factor Authentication</a></li>
<li><a href="#_back_end_mechanism">Back-end mechanism</a></li>
<li><a href="#_activating_two_factor_authentication">Activating Two-Factor Authentication</a></li>
<li><a href="#_frontend">Frontend</a></li>
</ul>
</li>
<li><a href="#_testing">Testing</a></li>
<li><a href="#_server_side_2">Server Side</a>
<ul class="sectlevel4">
<li><a href="#_java_testing">Java testing</a></li>
<li><a href="#_component_testing">Component testing</a></li>
<li><a href="#_running_the_tests">Running the tests</a></li>
<li><a href="#_from_eclipse">From Eclipse</a></li>
<li><a href="#_from_command_line_using_maven">From command line using Maven</a></li>
<li><a href="#_net_testing">.NET testing</a></li>
<li><a href="#_nodejs_testing">NodeJS testing</a></li>
<li><a href="#_graphql_testing">GraphQL testing</a></li>
</ul>
</li>
<li><a href="#_client_side_2">Client Side</a>
<ul class="sectlevel4">
<li><a href="#_angular_testing">Angular testing</a></li>
<li><a href="#_3">==</a></li>
<li><a href="#_testing_components">Testing Components</a></li>
<li><a href="#_dialog_components">Dialog components</a></li>
<li><a href="#_testing_services">Testing Services</a></li>
<li><a href="#_testing_in_a_ci_environment">Testing in a CI environment</a></li>
<li><a href="#_xamarin_testing">Xamarin testing</a></li>
</ul>
</li>
<li><a href="#_end_to_end">End to end</a>
<ul class="sectlevel4">
<li><a href="#_mrchecker_e2e_testing">MrChecker E2E Testing</a></li>
<li><a href="#_introduction_5">Introduction</a></li>
<li><a href="#_how_to_use_it">How to use it</a></li>
<li><a href="#_end_to_end_tests_in_my_thai_star">End to end tests in My Thai Star</a></li>
</ul>
</li>
<li><a href="#_ui_design">UI design</a>
<ul class="sectlevel3">
<li><a href="#_style_guide">Style guide</a></li>
<li><a href="#_low_and_high_fidelity_wireframes">Low and high fidelity wireframes</a></li>
</ul>
</li>
<li><a href="#_cicd">CI/CD</a>
<ul class="sectlevel3">
<li><a href="#_my_thai_star_in_production_line">My Thai Star in Production Line</a></li>
<li><a href="#_what_is_pl">What is PL?</a></li>
<li><a href="#_introduction_6">Introduction</a></li>
<li><a href="#_where_can_i_find_all_my_thai_star_pipelines">Where can I find all My Thai Star Pipelines?</a></li>
<li><a href="#_ci_in_my_thai_star_stack">CI in My Thai Star stack</a></li>
<li><a href="#_how_to_configure_everything_out_of_the_box">How to configure everything out of the box</a></li>
<li><a href="#_deployment">Deployment</a></li>
<li><a href="#_where_docker_containers_will_be_running">Where Docker containers will be running?</a></li>
<li><a href="#_container_schema">Container Schema</a></li>
<li><a href="#_run_my_thai_star">Run My Thai Star</a></li>
<li><a href="#_mythaistar_on_native_kubernetes_as_a_service_nkaas"><code>MyThaiStar</code> on Native Kubernetes as a Service (nKaaS)</a></li>
<li><a href="#_setting_up_the_environment">Setting up the environment</a></li>
<li><a href="#_following_the_nkaas_guide">Following the nKaaS guide</a></li>
<li><a href="#_requesting_a_namespace">Requesting a namespace</a></li>
<li><a href="#_setting_up_harbor">Setting up Harbor</a></li>
<li><a href="#_setting_up_jenkins">Setting up Jenkins</a></li>
<li><a href="#_deploying_mts">Deploying MTS</a></li>
</ul>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_nodejs_design_deprecated"><a class="anchor" href="#_nodejs_design_deprecated"></a>NodeJS design (deprecated)</h5>

</div>
<div class="sect4">
<h5 id="_introduction_2"><a class="anchor" href="#_introduction_2"></a>Introduction</h5>
<div class="paragraph">
<p>The NodeJS back-end for My Thai Star application is going to be based on:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>ExpressJS</strong> as the web application framework</p>
</li>
<li>
<p><strong>devon4node</strong> as data access layer framework</p>
</li>
<li>
<p><strong>DynamoDB</strong> as NoSQL Database</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>To know more details about the above technologies please visit the following documentation:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="https://expressjs.com">ExpressJS</a></p>
</li>
<li>
<p><a href="https://github.com/devonfw/devon4node/wiki">devon4node</a></p>
</li>
<li>
<p><a href="https://aws.amazon.com/dynamodb/developer-resources/">DynamoDB</a></p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_basic_architecture_details_2"><a class="anchor" href="#_basic_architecture_details_2"></a>Basic architecture details</h5>
<div class="paragraph">
<p>This structure can be shown in the following example image:</p>
</div>
<div class="imageblock">
<div class="content">
<a class="image" href="images/nodejs/folder_organization.png"><img src="_images/images/nodejs/folder_organization.png" alt="folder organization"></a>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>public - All files which be exposed on the server directly</p>
</li>
<li>
<p><code>src</code></p>
<div class="ulist">
<ul>
<li>
<p>database folder - Folder with scripts to create/delete/seed the database</p>
</li>
<li>
<p>model - Folder with all data model</p>
</li>
<li>
<p>routes - Folder with all ExpressJS routers</p>
</li>
<li>
<p>utils - Folder with all utils like classes and functions</p>
</li>
<li>
<p><em>app.ts</em> - File with ExpressJS declaration</p>
</li>
<li>
<p><em>config.ts</em> - File with server configs</p>
</li>
<li>
<p><em>logic.ts</em> - File with the business logic</p>
</li>
</ul>
</div>
</li>
<li>
<p>test - Folder with all tests</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_layers_2"><a class="anchor" href="#_layers_2"></a>Layers</h5>
<div class="ulist">
<ul>
<li>
<p>Service Layer: this layer will expose the REST API to exchange information with the client applications.</p>
</li>
<li>
<p>Logic Layer: the layer in charge of hosting the business logic of the application.</p>
</li>
<li>
<p>Data Access Layer: the layer to communicate with the data base.</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_service_layer_2"><a class="anchor" href="#_service_layer_2"></a>Service layer</h5>
<div class="paragraph">
<p>The services layer will be solved using REST services with <a href="https://expressjs.com">ExpressJS</a></p>
</div>
<div class="paragraph">
<p>To give service to the defined <em>User Stories</em> we will need to implement the following services:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>provide all available dishes.</p>
</li>
<li>
<p>save a booking.</p>
</li>
<li>
<p>save an order.</p>
</li>
<li>
<p>provide a list of bookings (only for waiters) and allow filtering.</p>
</li>
<li>
<p>provide a list of orders (only for waiters) and allow filtering.</p>
</li>
<li>
<p>login service (see the <em>Security</em> section).</p>
</li>
<li>
<p>provide the <em>current user</em> data (see the <em>Security</em> section)</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>In order to be compatible with the other back-end implementations, we must follow the <code><a href="https://github.com/devonfw/devon4j/wiki/guide-rest">naming conventions</a></code> proposed for <em>Devon4j</em> applications. We will define the following <em>end points</em> for the listed services.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>(POST) <code>/mythaistar/services/rest/dishmanagement/v1/dish/search</code>.</p>
</li>
<li>
<p>(POST) <code>/mythaistar/services/rest/bookingmanagement/v1/booking</code>.</p>
</li>
<li>
<p>(POST) <code>/mythaistar/services/rest/ordermanagement/v1/order</code>.</p>
</li>
<li>
<p>(POST) <code>/mythaistar/services/rest/bookingmanagement/v1/booking/search</code>.</p>
</li>
<li>
<p>(POST) <code>/mythaistar/services/rest/ordermanagement/v1/order/search</code>.</p>
</li>
<li>
<p>(POST) <code>/mythaistar/services/rest/ordermanagement/v1/order/filter</code> (to filter with fields that does not belong to the Order entity).</p>
</li>
<li>
<p>(POST) <code>/mythaistar/login</code>.</p>
</li>
<li>
<p>(GET) <code>/mythaistar/services/rest/security/v1/currentuser/</code>.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>You can find all the details for the services implementation in the <a href="https://github.com/devonfw/my-thai-star/blob/develop/swagger/mythaistar.yaml">Swagger definition</a> included in the My Thai Star project on Github.</p>
</div>
<div class="paragraph">
<p>To treat these services separately, the following routers were created:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>bookingmanagement</code>: will answer all requests with the prefix <code>/mythaistar/services/rest/bookingmanagement/v1</code></p>
</li>
<li>
<p><code>dishmanagement</code>: will answer all requests with the prefix <code>/mythaistar/services/rest/dishmanagement/v1</code></p>
</li>
<li>
<p><code>ordermanagement</code>: will answer all requests with the prefix <code>/mythaistar/services/rest/ordermanagement/v1</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>These routers will define the behavior for each service and use the logical layer.</p>
</div>
<div class="paragraph">
<p>An example of service definition:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-JavaScript hljs" data-lang="JavaScript">router.post('/booking/search', (req: types.CustomRequest, res: Response) =&gt; {
    try {
        // body content must be SearchCriteria
        if (!types.isSearchCriteria(req.body)) {
            throw {code: 400, message: 'No booking token given' };
        }

        // use the searchBooking method defined at business logic
        business.searchBooking(req.body, (err: types.Error | null, bookingEntity: types.PaginatedList) =&gt; {
            if (err) {
                res.status(err.code || 500).json(err.message);
            } else {
                res.json(bookingEntity);
            }
        });
    } catch (err) {
        res.status(err.code || 500).json({ message: err.message });
    }
});</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_logic_layer_and_data_access_layer"><a class="anchor" href="#_logic_layer_and_data_access_layer"></a>Logic layer and Data access layer</h5>
<div class="paragraph">
<p>In the <em>logic</em> layer we will locate all the <em>business logic</em> of the application. It will be located in the file logic.ts. If in this layer we need to get access to the data, we make use of data access layer directly, in this case using devon4node with the DynamoDB adapter.</p>
</div>
<div class="paragraph">
<p>Example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-JavaScript hljs" data-lang="JavaScript">export async function cancelOrder(orderId: string, callback: (err: types.Error | null) =&gt; void) {
    let order: dbtypes.Order;

    try {
        // Data access
        order = await oasp4fn.table('Order', orderId).promise() as dbtypes.Order;

        [...]
    }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>We could define the data access layer separately, but devon4node allows us to do this in a simple and clear way. So, we decided  to not separate the access layer to the logic business.</p>
</div>
</div>
<div class="sect4">
<h5 id="_security_with_json_web_token_2"><a class="anchor" href="#_security_with_json_web_token_2"></a>Security with Json Web Token</h5>
<div class="paragraph">
<p>For the <em>Authentication</em> and <em>Authorization</em> the app will implement the <code><a href="https://jwt.io/">json web token</a></code> protocol.</p>
</div>
</div>
<div class="sect4">
<h5 id="_jwt_basics_2"><a class="anchor" href="#_jwt_basics_2"></a>JWT basics</h5>
<div class="paragraph">
<p>Refer to <a href="java-design#jwt-basics">JWT basics</a> for more information.</p>
</div>
</div>
<div class="sect4">
<h5 id="_jwt_implementation_details_2"><a class="anchor" href="#_jwt_implementation_details_2"></a>JWT implementation details</h5>
<div class="paragraph">
<p>The <em>Json Web Token</em> pattern will be implemented based on the <code><a href="https://github.com/auth0/node-jsonwebtoken"><em>JSON web token</em></a></code> library available on npm.</p>
</div>
</div>
<div class="sect4">
<h5 id="_authentication_2"><a class="anchor" href="#_authentication_2"></a>==  Authentication</h5>
<div class="paragraph">
<p>Based on the <em>JSON web token</em> approach, we will implement a class <em>Authentication</em> to define the security <em>entry point</em> and filters. Also, as <em>My Thai Star</em> is a mainly <em>public</em> application, we will define here the resources that won&#8217;t be secured.</p>
</div>
<div class="paragraph">
<p>List of <em>unsecured resources</em>:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code><em>/services/rest/dishmanagement/\**</em></code>: to allow anonymous users to see the dishes info in the <em>menu</em> section.</p>
</li>
<li>
<p><code><em>/services/rest/ordermanagement/v1/order</em></code>: to allow anonymous users to save an order. They will need a <em>booking token</em> but they won&#8217;t be authenticated to do this task.</p>
</li>
<li>
<p><code><em>/services/rest/bookingmanagement/v1/booking</em></code>: to allow anonymous users to create a booking. Only a <em>booking token</em> is necessary to accomplish this task.</p>
</li>
<li>
<p><code><em>/services/rest/bookingmanagement/v1/booking/cancel/\**</em></code>: to allow canceling a booking from an email. Only the <em>booking token</em> is needed.</p>
</li>
<li>
<p><code><em>/services/rest/bookingmanagement/v1/invitedguest/accept/\**</em></code>: to allow guests to accept an invite. Only a <em>guest token</em> is needed.</p>
</li>
<li>
<p><code><em>/services/rest/bookingmanagement/v1/invitedguest/decline/\**</em></code>: to allow guests to reject an invite. Only a <em>guest token</em> is needed.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>To configure the <em>login</em> we will create an instance of <em>Authentication</em> in the app file and then we will use the method <code><em>auth</em></code> for handle the requests to the /login endpoint.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-JavaScript hljs" data-lang="JavaScript">app.post('/mythaistar/login', auth.auth);</code></pre>
</div>
</div>
<div class="paragraph">
<p>To verify the presence of the <em>Authorization token</em> in the headers, we will register in the express the <code><em>Authentication.registerAuthentication</em></code> middleware. This middleware will check if the token is correct, if so, it will place the user in the request and continue to process it. If the token is not correct it will continue processing the request normally.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-JavaScript hljs" data-lang="JavaScript">app.use(auth.registerAuthentication);</code></pre>
</div>
</div>
<div class="paragraph">
<p>Finally, we have two default users created in the database:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>user: <em>waiter</em></p>
</li>
<li>
<p>password: <em>waiter</em></p>
</li>
<li>
<p>role: <em>WAITER</em></p>
</li>
<li>
<p>user: <em>user0</em></p>
</li>
<li>
<p>password: <em>password</em></p>
</li>
<li>
<p>role: <em>CUSTOMER</em></p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_token_set_up_2"><a class="anchor" href="#_token_set_up_2"></a>==  Token set up</h5>
<div class="paragraph">
<p>Following <code>the <a href="https://jwt.io/introduction/">official documentation</a></code> the implementation details for the MyThaiStar&#8217;s JWT will be:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><em>Secret</em>: Used as part of the signature of the token, acting as a private key. It can be modified at config.ts file.</p>
</li>
<li>
<p><em>Token Prefix</em> schema: Bearer. The token will look like <code>Bearer &lt;token&gt;</code></p>
</li>
<li>
<p><em>Header</em>: Authorization. The response header where the token will be included. Also, in the requests, when checking the token it will be expected to be in the same header.</p>
</li>
<li>
<p>The <em>Authorization</em> header should be part of the <code>Access-Control-Expose-Headers</code> header to allow clients access to the <em>Authorization</em> header content (the token);</p>
</li>
<li>
<p>Signature Algorithm: To encrypt the token we will use the default algorithm HS512.</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_current_user_request_2"><a class="anchor" href="#_current_user_request_2"></a>==  Current User request</h5>
<div class="paragraph">
<p>To provide to the client with the current user data our application should expose a service to return the user details. In this case the <em>Authentication</em> has a method called <code><em>getCurrentUser</em></code> which will return the user data. We only need register it at express.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-JavaScript hljs" data-lang="JavaScript">app.get('/mythaistar/services/rest/security/v1/currentuser', auth.getCurrentUser);</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_authorization_2"><a class="anchor" href="#_authorization_2"></a>==  Authorization</h5>
<div class="paragraph">
<p>We need to secure three services, that only should be accessible for users with role <em>Waiter</em>:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>(POST) <code>/mythaistar/services/rest/bookingmanagement/v1/booking/search</code>.</p>
</li>
<li>
<p>(POST) <code>/mythaistar/services/rest/ordermanagement/v1/order/search</code>.</p>
</li>
<li>
<p>(POST) <code>/mythaistar/services/rest/ordermanagement/v1/order/filter</code>.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>To ensure this, the <em>Authorization</em> class has the <code><em>securizedEndpoint</em></code> method that guarantees access based on the role. This method can be used as middleware in secure services. As the role is included in the token, once validated we will have this information in the request and the middleware can guarantee access or return a 403 error.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-JavaScript hljs" data-lang="JavaScript">app.use('/mythaistar/services/rest/ordermanagement/v1/order/filter', auth.securizedEndpoint('WAITER'));
app.use('/mythaistar/services/rest/ordermanagement/v1/order/search', auth.securizedEndpoint('WAITER'));
app.use('/mythaistar/services/rest/bookingmanagement/v1/booking/search', auth.securizedEndpoint('WAITER'));</code></pre>
</div>
</div>
<div id="toc" class="toc">
<div id="toctitle" class="title">Table of Contents</div>
<ul class="sectlevel1">
<li><a href="#_mythaistar">MyThaiStar</a>
<ul class="sectlevel2">
<li><a href="#_1_my_thai_star_agile_framework">1.	My Thai Star – Agile Framework</a></li>
<li><a href="#_1_1_team_setup">1.1 Team Setup</a></li>
<li><a href="#_1_2_scrum_events">1.2 Scrum events</a></li>
<li><a href="#_sprint_planning">Sprint Planning</a></li>
<li><a href="#_sprint_review">Sprint Review</a></li>
<li><a href="#_sprint_retrospective">Sprint Retrospective</a></li>
<li><a href="#_daily_stand_ups">Daily Stand-ups</a></li>
<li><a href="#_backlog_refinement">Backlog refinement</a></li>
<li><a href="#_1_3_establish_product_backlog">1.3 Establish Product Backlog</a></li>
<li><a href="#_2_my_thai_star_agile_diary">2.	My Thai Star – Agile Diary</a></li>
<li><a href="#_24_03_2017_sprint_1_planning">24.03.2017 Sprint 1 Planning</a></li>
<li><a href="#_27_04_2017_sprint_1_review">27.04.2017 Sprint 1 Review</a></li>
<li><a href="#_03_05_2017_sprint_2_planning">03.05.2017 Sprint 2 Planning</a></li>
<li><a href="#_01_06_2017_sprint_2_review">01.06.2017 Sprint 2 Review</a></li>
<li><a href="#_user_stories">User Stories</a></li>
<li><a href="#_epic_invite_friends">Epic: Invite friends</a></li>
<li><a href="#_us_create_invite_for_friends">US: create invite for friends</a></li>
<li><a href="#_acceptance_criteria">== Acceptance criteria</a></li>
<li><a href="#_us_create_reservation">US: create reservation</a></li>
<li><a href="#_acceptance_criteria_2">== Acceptance criteria</a></li>
<li><a href="#_wireframes">== Wireframes</a></li>
<li><a href="#_us_handle_invite">US: handle invite</a></li>
<li><a href="#_ac">== AC:</a></li>
<li><a href="#_us_revoke_accepted_invite">US: revoke accepted invite</a></li>
<li><a href="#_ac_2">==  AC:</a></li>
<li><a href="#_us_calculate_best_table">US: calculate best table</a></li>
<li><a href="#_details">== Details</a></li>
<li><a href="#_us_find_table_by_reservation_info">US: find table by reservation info</a></li>
<li><a href="#_ac_3">== AC:</a></li>
<li><a href="#_us_cancel_invite">US: cancel invite</a></li>
<li><a href="#_ac_4">== AC:</a></li>
<li><a href="#_epic_digital_menu">Epic: Digital Menu</a></li>
<li><a href="#_us_filter_menu">US: filter menu</a></li>
<li><a href="#_ac_5">== AC:</a></li>
<li><a href="#_us_define_order">US: Define order</a></li>
<li><a href="#_ac_6">== AC:</a></li>
<li><a href="#_us_order_the_order">US: Order the order</a></li>
<li><a href="#_us_cancel_order">US: Cancel order</a></li>
<li><a href="#_us_read_twitter_rating_for_dishes">US: Read twitter rating for dishes</a></li>
<li><a href="#_epic_user_profile">Epic: User Profile</a></li>
<li><a href="#_us_user_profile">US: User Profile</a></li>
<li><a href="#_epic_rate_by_twitter">Epic: Rate by twitter</a></li>
<li><a href="#_us_receive_mail_to_rate_your_dish">US: Receive mail to rate your dish</a></li>
<li><a href="#_us_rate_your_dish">US: Rate your dish</a></li>
<li><a href="#_epic_waiter_cockpit">Epic: Waiter Cockpit</a></li>
<li><a href="#_us_see_all_ordersreservations">US: See all orders/reservations</a></li>
</ul>
</li>
<li><a href="#_technical_design">Technical design</a></li>
<li><a href="#_data_model">Data Model</a>
<ul class="sectlevel4">
<li><a href="#_data_model_2">Data Model</a></li>
<li><a href="#_nosql_data_model">NoSQL Data Model</a></li>
</ul>
</li>
<li><a href="#_server_side">Server Side</a>
<ul class="sectlevel4">
<li><a href="#_java_design">Java design</a></li>
<li><a href="#_introduction">Introduction</a></li>
<li><a href="#_basic_architecture_details">Basic architecture details</a></li>
<li><a href="#_project_modules">Project modules</a></li>
<li><a href="#_components">Components</a></li>
<li><a href="#_layers">Layers</a></li>
<li><a href="#_component_structure">Component structure</a></li>
<li><a href="#_dependency_injection">Dependency injection</a></li>
<li><a href="#_layers_communication">Layers communication</a></li>
<li><a href="#_service_layer">Service layer</a></li>
<li><a href="#_service_api">Service API</a></li>
<li><a href="#_service_impl">Service <code>impl</code></a></li>
<li><a href="#">==</a></li>
<li><a href="#_logic_layer">Logic layer</a></li>
<li><a href="#_data_access_layer">Data Access layer</a></li>
<li><a href="#_security_with_json_web_token">Security with Json Web Token</a></li>
<li><a href="#_jwt_basics">JWT basics</a></li>
<li><a href="#_jwt_implementation_details">JWT implementation details</a></li>
<li><a href="#_authentication">==  Authentication</a></li>
<li><a href="#_token_set_up">==  Token set up</a></li>
<li><a href="#_current_user_request">==  Current User request</a></li>
<li><a href="#_authorization">==  Authorization</a></li>
<li><a href="#_net_design">.NET design</a></li>
<li><a href="#_nodejs_design_deprecated">NodeJS design (deprecated)</a></li>
<li><a href="#_introduction_2">Introduction</a></li>
<li><a href="#_basic_architecture_details_2">Basic architecture details</a></li>
<li><a href="#_layers_2">Layers</a></li>
<li><a href="#_service_layer_2">Service layer</a></li>
<li><a href="#_logic_layer_and_data_access_layer">Logic layer and Data access layer</a></li>
<li><a href="#_security_with_json_web_token_2">Security with Json Web Token</a></li>
<li><a href="#_jwt_basics_2">JWT basics</a></li>
<li><a href="#_jwt_implementation_details_2">JWT implementation details</a></li>
<li><a href="#_authentication_2">==  Authentication</a></li>
<li><a href="#_token_set_up_2">==  Token set up</a></li>
<li><a href="#_current_user_request_2">==  Current User request</a></li>
<li><a href="#_authorization_2">==  Authorization</a></li>
<li><a href="#_serverless_design_deprecated">Serverless design (deprecated)</a></li>
<li><a href="#_introduction_3">Introduction</a></li>
<li><a href="#_basic_architecture_details_3">Basic architecture details</a></li>
<li><a href="#_layers_3">Layers</a></li>
<li><a href="#_service_layer_3">Service layer</a></li>
<li><a href="#_2">==</a></li>
<li><a href="#_logic_layer_and_data_access_layer_2">Logic layer and Data access layer</a></li>
<li><a href="#_security_with_json_web_token_3">Security with Json Web Token</a></li>
<li><a href="#_jwt_basics_3">JWT basics</a></li>
<li><a href="#_jwt_implementation_details_3">JWT implementation details</a></li>
<li><a href="#_authentication_3">==  Authentication</a></li>
<li><a href="#_token_set_up_3">==  Token set up</a></li>
<li><a href="#_current_user_request_3">==  Current User request</a></li>
<li><a href="#_authorization_3">==  Authorization</a></li>
<li><a href="#_graphql_design">GraphQL design</a></li>
</ul>
</li>
<li><a href="#_client_side">Client Side</a>
<ul class="sectlevel4">
<li><a href="#_angular_design">Angular design</a></li>
<li><a href="#_introduction_4">Introduction</a></li>
<li><a href="#_basic_project_structure">Basic project structure</a></li>
<li><a href="#_main_views_and_components">Main Views and components</a></li>
<li><a href="#_public_area">Public area</a></li>
<li><a href="#_app_component">==  App Component</a></li>
<li><a href="#_order_sidenav">== Order sidenav</a></li>
<li><a href="#_navigation_sidenav_only_for_mobile">== Navigation sidenav (only for mobile)</a></li>
<li><a href="#_header">== Header</a></li>
<li><a href="#_footer_only_for_desktop">== Footer (only for desktop)</a></li>
<li><a href="#_home_component">==  Home-Component</a></li>
<li><a href="#_menu_component">==  Menu-Component</a></li>
<li><a href="#_menu_card">== Menu-card</a></li>
<li><a href="#_book_table_component">==  Book Table Component</a></li>
<li><a href="#_book_table_dialog">== Book-table-dialog</a></li>
<li><a href="#_invitation_dialog">== Invitation-dialog</a></li>
<li><a href="#_user_area">==  User Area</a></li>
<li><a href="#_login_dialog">== Login-dialog</a></li>
<li><a href="#_password_dialog">== Password-dialog</a></li>
<li><a href="#_twitter_dialog">== Twitter-dialog</a></li>
<li><a href="#_waiter_cockpit_area">Waiter cockpit area</a></li>
<li><a href="#_order_cockpit_component">==  Order Cockpit Component</a></li>
<li><a href="#_order_dialog">== Order-dialog</a></li>
<li><a href="#_reservation_cockpit_component">==  Reservation Cockpit Component</a></li>
<li><a href="#_reservation_dialog">== Reservation-dialog</a></li>
<li><a href="#_email_management">Email Management</a></li>
<li><a href="#_accept_invite">==  Accept Invite</a></li>
<li><a href="#_reject_invite">==  Reject Invite</a></li>
<li><a href="#_cancel_reservation">==  Cancel Reservation</a></li>
<li><a href="#_cancel_orders">==  Cancel Orders</a></li>
<li><a href="#_services_and_directives">Services and directives</a></li>
<li><a href="#_price_calculator_service">Price-calculator-service</a></li>
<li><a href="#_authentication_4">Authentication</a></li>
<li><a href="#_snack_service">Snack Service</a></li>
<li><a href="#_window_service">Window Service</a></li>
<li><a href="#_equal_validator_directive">Equal-validator-directive</a></li>
<li><a href="#_mock_back_end">Mock Back-end</a></li>
<li><a href="#_booking">Booking</a></li>
<li><a href="#_orders">Orders</a></li>
<li><a href="#_dishes">Dishes</a></li>
<li><a href="#_login">Login</a></li>
<li><a href="#_security">Security</a></li>
<li><a href="#_auth_guard">Auth-guard</a></li>
<li><a href="#_jwt">JWT</a></li>
<li><a href="#_httpclient">==  HttpClient</a></li>
<li><a href="#_xamarin_design">Xamarin design</a></li>
</ul>
</li>
<li><a href="#_security_2">Security</a>
<ul class="sectlevel3">
<li><a href="#_two_factor_authentication">Two-Factor Authentication</a></li>
<li><a href="#_back_end_mechanism">Back-end mechanism</a></li>
<li><a href="#_activating_two_factor_authentication">Activating Two-Factor Authentication</a></li>
<li><a href="#_frontend">Frontend</a></li>
</ul>
</li>
<li><a href="#_testing">Testing</a></li>
<li><a href="#_server_side_2">Server Side</a>
<ul class="sectlevel4">
<li><a href="#_java_testing">Java testing</a></li>
<li><a href="#_component_testing">Component testing</a></li>
<li><a href="#_running_the_tests">Running the tests</a></li>
<li><a href="#_from_eclipse">From Eclipse</a></li>
<li><a href="#_from_command_line_using_maven">From command line using Maven</a></li>
<li><a href="#_net_testing">.NET testing</a></li>
<li><a href="#_nodejs_testing">NodeJS testing</a></li>
<li><a href="#_graphql_testing">GraphQL testing</a></li>
</ul>
</li>
<li><a href="#_client_side_2">Client Side</a>
<ul class="sectlevel4">
<li><a href="#_angular_testing">Angular testing</a></li>
<li><a href="#_3">==</a></li>
<li><a href="#_testing_components">Testing Components</a></li>
<li><a href="#_dialog_components">Dialog components</a></li>
<li><a href="#_testing_services">Testing Services</a></li>
<li><a href="#_testing_in_a_ci_environment">Testing in a CI environment</a></li>
<li><a href="#_xamarin_testing">Xamarin testing</a></li>
</ul>
</li>
<li><a href="#_end_to_end">End to end</a>
<ul class="sectlevel4">
<li><a href="#_mrchecker_e2e_testing">MrChecker E2E Testing</a></li>
<li><a href="#_introduction_5">Introduction</a></li>
<li><a href="#_how_to_use_it">How to use it</a></li>
<li><a href="#_end_to_end_tests_in_my_thai_star">End to end tests in My Thai Star</a></li>
</ul>
</li>
<li><a href="#_ui_design">UI design</a>
<ul class="sectlevel3">
<li><a href="#_style_guide">Style guide</a></li>
<li><a href="#_low_and_high_fidelity_wireframes">Low and high fidelity wireframes</a></li>
</ul>
</li>
<li><a href="#_cicd">CI/CD</a>
<ul class="sectlevel3">
<li><a href="#_my_thai_star_in_production_line">My Thai Star in Production Line</a></li>
<li><a href="#_what_is_pl">What is PL?</a></li>
<li><a href="#_introduction_6">Introduction</a></li>
<li><a href="#_where_can_i_find_all_my_thai_star_pipelines">Where can I find all My Thai Star Pipelines?</a></li>
<li><a href="#_ci_in_my_thai_star_stack">CI in My Thai Star stack</a></li>
<li><a href="#_how_to_configure_everything_out_of_the_box">How to configure everything out of the box</a></li>
<li><a href="#_deployment">Deployment</a></li>
<li><a href="#_where_docker_containers_will_be_running">Where Docker containers will be running?</a></li>
<li><a href="#_container_schema">Container Schema</a></li>
<li><a href="#_run_my_thai_star">Run My Thai Star</a></li>
<li><a href="#_mythaistar_on_native_kubernetes_as_a_service_nkaas"><code>MyThaiStar</code> on Native Kubernetes as a Service (nKaaS)</a></li>
<li><a href="#_setting_up_the_environment">Setting up the environment</a></li>
<li><a href="#_following_the_nkaas_guide">Following the nKaaS guide</a></li>
<li><a href="#_requesting_a_namespace">Requesting a namespace</a></li>
<li><a href="#_setting_up_harbor">Setting up Harbor</a></li>
<li><a href="#_setting_up_jenkins">Setting up Jenkins</a></li>
<li><a href="#_deploying_mts">Deploying MTS</a></li>
</ul>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_serverless_design_deprecated"><a class="anchor" href="#_serverless_design_deprecated"></a>Serverless design (deprecated)</h5>

</div>
<div class="sect4">
<h5 id="_introduction_3"><a class="anchor" href="#_introduction_3"></a>Introduction</h5>
<div class="paragraph">
<p>The NodeJS back-end for My Thai Star application is going to be based on:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Serverless</strong> as serverless framework</p>
</li>
<li>
<p><strong>devon4node</strong> as data access layer framework</p>
</li>
<li>
<p><strong>DynamoDB</strong> as NoSQL Database</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>To know more details about the above technologies please visit the following documentation:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="https://serverless.com/">Serverless</a></p>
</li>
<li>
<p><a href="https://github.com/devonfw/devon4node/wiki">devon4node</a></p>
</li>
<li>
<p><a href="https://aws.amazon.com/dynamodb/developer-resources/">DynamoDB</a></p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_basic_architecture_details_3"><a class="anchor" href="#_basic_architecture_details_3"></a>Basic architecture details</h5>
<div class="paragraph">
<p>This structure can be shown in the following example image:</p>
</div>
<div class="imageblock">
<div class="content">
<a class="image" href="images/serverless/folder_organization.png"><img src="_images/images/serverless/folder_organization.png" alt="folder organization"></a>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>handlers - All function handlers following devon4node structure</p>
</li>
<li>
<p><code>src</code></p>
<div class="ulist">
<ul>
<li>
<p>model - Folder with all data model</p>
</li>
<li>
<p>utils - Folder with all utils like classes and functions</p>
</li>
<li>
<p><em>config.ts</em> - File with server configs</p>
</li>
<li>
<p><em>logic.ts</em> - File with the business logic</p>
</li>
</ul>
</div>
</li>
<li>
<p>test - Folder with all tests</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_layers_3"><a class="anchor" href="#_layers_3"></a>Layers</h5>
<div class="ulist">
<ul>
<li>
<p>Service Layer: this layer will expose the REST API to exchange information with the client applications.</p>
</li>
<li>
<p>Logic Layer: the layer in charge of hosting the business logic of the application.</p>
</li>
<li>
<p>Data Access Layer: the layer to communicate with the data base.</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_service_layer_3"><a class="anchor" href="#_service_layer_3"></a>Service layer</h5>
<div class="paragraph">
<p>The services layer will be solved using REST services with <a href="https://serverless.com/">Serverless</a></p>
</div>
<div class="paragraph">
<p>To give service to the defined <em>User Stories</em> we will need to implement the following services:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>provide all available dishes.</p>
</li>
<li>
<p>save a booking.</p>
</li>
<li>
<p>save an order.</p>
</li>
<li>
<p>provide a list of bookings (only for waiters) and allow filtering.</p>
</li>
<li>
<p>provide a list of orders (only for waiters) and allow filtering.</p>
</li>
<li>
<p>login service (see the <em>Security</em> section).</p>
</li>
<li>
<p>provide the <em>current user</em> data (see the <em>Security</em> section)</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>In order to be compatible with the other back-end implementations, we must follow the <a href="https://github.com/devonfw/devon4j/wiki/guide-rest">naming conventions</a> proposed for <em>Devon4j</em> applications. We will define the following <em>end points</em> for the listed services.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>(POST) <code>/mythaistar/services/rest/dishmanagement/v1/dish/search</code>.</p>
</li>
<li>
<p>(POST) <code>/mythaistar/services/rest/bookingmanagement/v1/booking</code>.</p>
</li>
<li>
<p>(POST) <code>/mythaistar/services/rest/ordermanagement/v1/order</code>.</p>
</li>
<li>
<p>(POST) <code>/mythaistar/services/rest/bookingmanagement/v1/booking/search</code>.</p>
</li>
<li>
<p>(POST) <code>/mythaistar/services/rest/ordermanagement/v1/order/search</code>.</p>
</li>
<li>
<p>(POST) <code>/mythaistar/services/rest/ordermanagement/v1/order/filter</code> (to filter with fields that does not belong to the Order entity).</p>
</li>
<li>
<p>(POST) <code>/mythaistar/login</code>.</p>
</li>
<li>
<p>(GET) <code>/mythaistar/services/rest/security/v1/currentuser/</code>.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>You can find all the details for the services implementation in the <a href="https://github.com/devonfw/my-thai-star/blob/develop/swagger/mythaistar.yaml">Swagger definition</a> included in the My Thai Star project on Github.</p>
</div>
<div class="paragraph">
<p>To treat these Http services, we must define the handlers following the <a href="https://github.com/devonfw/devon4node/wiki">devon4node convention</a>:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>(handlers/Http/POST/dish-search-handler) <code>/mythaistar/services/rest/dishmanagement/v1/dish/search</code>.</p>
</li>
<li>
<p>(handlers/Http/POST/booking-handler) <code>/mythaistar/services/rest/bookingmanagement/v1/booking</code>.</p>
</li>
<li>
<p>(handlers/Http/POST/order-handler) <code>/mythaistar/services/rest/ordermanagement/v1/order</code>.</p>
</li>
<li>
<p>(handlers/Http/POST/booking-search-handler) <code>/mythaistar/services/rest/bookingmanagement/v1/booking/search</code>.</p>
</li>
<li>
<p>(handlers/Http/POST/order-search-handler) <code>/mythaistar/services/rest/ordermanagement/v1/order/search</code>.</p>
</li>
<li>
<p>(handlers/Http/POST/order-filter-handler) <code>/mythaistar/services/rest/ordermanagement/v1/order/filter</code> (to filter with fields that does not belong to the Order entity).</p>
</li>
<li>
<p>(handlers/Http/POST/login-handler) <code>/mythaistar/login</code>.</p>
</li>
<li>
<p>(handlers/Http/GET/current-user-handler) <code>/mythaistar/services/rest/security/v1/currentuser/</code>.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>These handlers will define the behavior for each service and use the logical layer.</p>
</div>
<div class="paragraph">
<p>An example of handler definition:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-JavaScript hljs" data-lang="JavaScript">oasp4fn.config({ path: '/mythaistar/services/rest/bookingmanagement/v1/booking/search' });
export async function bookingSearch(event: HttpEvent, context: Context, callback: Function) {
    try {
        const search = &lt;types.SearchCriteria&gt;event.body;
        const authToken = event.headers.Authorization;
        // falta lo que viene siendo comprobar el token y eso

        auth.decode(authToken, (err, decoded) =&gt; {
            if (err || decoded.role !==  'WAITER') {
                throw { code: 403, message: 'Forbidden'};
            }

            // body content must be SearchCriteria
            if (!types.isSearchCriteria(search)) {
                throw { code: 400, message: 'No booking token given' };
            }

            business.searchBooking(search, (err: types.Error | null, bookingEntity: types.PaginatedList) =&gt; {
                if (err) {
                    callback(new Error(`[${err.code || 500}] ${err.message}`));
                } else {
                    callback(null, bookingEntity);
                }
            });
        });
    } catch (err) {
        callback(new Error(`[${err.code || 500}] ${err.message}`));
    }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>The default integration for a handler is <em>lambda</em>. See <a href="https://github.com/devonfw/devon4node/wiki/guides-configuration-module">devon4node documentation</a> for more information about default values and how to change it.</p>
</div>
</div>
<div class="sect4">
<h5 id="_2"><a class="anchor" href="#_2"></a>==</h5>
<div class="paragraph">
<p>If you change the integration to lambda-proxy, you must take care that in this case the data will not be parsed. You must do JSON.parse explicitly
== ==</p>
</div>
<div class="paragraph">
<p>After defining all the handlers, we must execute the <em>fun</em> command, which will generate the files serverless.yml and <code>webpack.config.js</code>.</p>
</div>
</div>
<div class="sect4">
<h5 id="_logic_layer_and_data_access_layer_2"><a class="anchor" href="#_logic_layer_and_data_access_layer_2"></a>Logic layer and Data access layer</h5>
<div class="paragraph">
<p><a href="NodeJS-design#logic-layer-and-data-access-layer">See in NodeJS section</a></p>
</div>
</div>
<div class="sect4">
<h5 id="_security_with_json_web_token_3"><a class="anchor" href="#_security_with_json_web_token_3"></a>Security with Json Web Token</h5>
<div class="paragraph">
<p>For the <em>Authentication</em> and <em>Authorization</em> the app will implement the <a href="https://jwt.io/">json web token</a> protocol.</p>
</div>
</div>
<div class="sect4">
<h5 id="_jwt_basics_3"><a class="anchor" href="#_jwt_basics_3"></a>JWT basics</h5>
<div class="paragraph">
<p>Refer to <a href="java-design#jwt-basics">JWT basics</a> for more information.</p>
</div>
</div>
<div class="sect4">
<h5 id="_jwt_implementation_details_3"><a class="anchor" href="#_jwt_implementation_details_3"></a>JWT implementation details</h5>
<div class="paragraph">
<p>The <em>Json Web Token</em> pattern will be implemented based on the <a href="https://github.com/auth0/node-jsonwebtoken"><em>JSON web token</em></a> library available on npm.</p>
</div>
</div>
<div class="sect4">
<h5 id="_authentication_3"><a class="anchor" href="#_authentication_3"></a>==  Authentication</h5>
<div class="paragraph">
<p>Based on the <em>JSON web token</em> approach, we will implement two methods in order to verify and user + generate the token and decode the token + return the user data. Also, as <em>My Thai Star</em> is a mainly <em>public</em> application, we will define here the resources that won&#8217;t be secured.</p>
</div>
<div class="paragraph">
<p>List of <em>unsecured resources</em>:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code><em>/services/rest/dishmanagement/**</em></code>: to allow anonymous users to see the dishes info in the <em>menu</em> section.</p>
</li>
<li>
<p><code><em>/services/rest/ordermanagement/v1/order</em></code>: to allow anonymous users to save an order. They will need a <em>booking token</em> but they won&#8217;t be authenticated to do this task.</p>
</li>
<li>
<p><code><em>/services/rest/bookingmanagement/v1/booking</em></code>: to allow anonymous users to create a booking. Only a <em>booking token</em> is necessary to accomplish this task.</p>
</li>
<li>
<p><code><em>/services/rest/bookingmanagement/v1/booking/cancel/**</em></code>: to allow canceling a booking from an email. Only the <em>booking token</em> is needed.</p>
</li>
<li>
<p><code><em>/services/rest/bookingmanagement/v1/invitedguest/accept/**</em></code>: to allow guests to accept an invite. Only a <em>guest token</em> is needed.</p>
</li>
<li>
<p><code><em>/services/rest/bookingmanagement/v1/invitedguest/decline/**</em></code>: to allow guests to reject an invite. Only a <em>guest token</em> is needed.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>To configure the <em>login</em> we will create a handler called login and then we will use the method <em>code</em> to verify the user and generate the token.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-JavaScript hljs" data-lang="JavaScript">app.post(oasp4fn.config({ integration: 'lambda-proxy', path: '/mythaistar/login' });
export async function login(event: HttpEvent, context: Context, callback: Function) {
.
.
.
.
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>We have two default users created in the database:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>user: <em>waiter</em></p>
</li>
<li>
<p>password: <em>waiter</em></p>
</li>
<li>
<p>role: <em>WAITER</em></p>
</li>
<li>
<p>user: <em>user0</em></p>
</li>
<li>
<p>password: <em>password</em></p>
</li>
<li>
<p>role: <em>CUSTOMER</em></p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_token_set_up_3"><a class="anchor" href="#_token_set_up_3"></a>==  Token set up</h5>
<div class="paragraph">
<p><a href="NodeJS-design#token-set-up">See in NodeJS section</a></p>
</div>
</div>
<div class="sect4">
<h5 id="_current_user_request_3"><a class="anchor" href="#_current_user_request_3"></a>==  Current User request</h5>
<div class="paragraph">
<p>To provide the client with the current user data our application should expose a service to return the user details. In order to do this, we must define a handler called current-user-handler. This handler must decode the <em>Authorization token</em> and return the user data.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-JavaScript hljs" data-lang="JavaScript">oasp4fn.config({
    path: '/mythaistar/services/rest/security/v1/currentuser',
});
export async function currentUser(event: HttpEvent, context: Context, callback: Function) {
    let authToken = event.headers.Authorization;
    try {
        auth.decode(authToken, (err: any, decoded?: any) =&gt; {
            if (err) {
                callback(new Error(`[403] Forbidden`));
            } else {
                callback(null, decoded);
            }
        });
    } catch (err) {
        callback(new Error(`[${err.code || 500}] ${err.message}`));
    }
}</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_authorization_3"><a class="anchor" href="#_authorization_3"></a>==  Authorization</h5>
<div class="paragraph">
<p>We need to secure three services, that only should be accessible for users with role <em>Waiter</em>:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>(POST) <code>/mythaistar/services/rest/bookingmanagement/v1/booking/search</code>.</p>
</li>
<li>
<p>(POST) <code>/mythaistar/services/rest/ordermanagement/v1/order/search</code>.</p>
</li>
<li>
<p>(POST) <code>/mythaistar/services/rest/ordermanagement/v1/order/filter</code>.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>To ensure this, we must decode the <em>Authorization token</em> and check the result. As the role is included in the token, once validated we will have this information and can guarantee access or return a 403 error.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-JavaScript hljs" data-lang="JavaScript">oasp4fn.config({ path: '/mythaistar/services/rest/bookingmanagement/v1/booking/search' });
export async function bookingSearch(event: HttpEvent, context: Context, callback: Function) {
    const authToken = event.headers.Authorization;
    auth.decode(authToken, (err, decoded) =&gt; {
        try {
            if (err || decoded.role !==  'WAITER') {
                throw { code: 403, message: 'Forbidden' };
            }

            [...]

        } catch (err) {
            callback(new Error(`[${err.code || 500}] ${err.message}`));
        }
    });
}</code></pre>
</div>
</div>
<div id="toc" class="toc">
<div id="toctitle" class="title">Table of Contents</div>
<ul class="sectlevel1">
<li><a href="#_mythaistar">MyThaiStar</a>
<ul class="sectlevel2">
<li><a href="#_1_my_thai_star_agile_framework">1.	My Thai Star – Agile Framework</a></li>
<li><a href="#_1_1_team_setup">1.1 Team Setup</a></li>
<li><a href="#_1_2_scrum_events">1.2 Scrum events</a></li>
<li><a href="#_sprint_planning">Sprint Planning</a></li>
<li><a href="#_sprint_review">Sprint Review</a></li>
<li><a href="#_sprint_retrospective">Sprint Retrospective</a></li>
<li><a href="#_daily_stand_ups">Daily Stand-ups</a></li>
<li><a href="#_backlog_refinement">Backlog refinement</a></li>
<li><a href="#_1_3_establish_product_backlog">1.3 Establish Product Backlog</a></li>
<li><a href="#_2_my_thai_star_agile_diary">2.	My Thai Star – Agile Diary</a></li>
<li><a href="#_24_03_2017_sprint_1_planning">24.03.2017 Sprint 1 Planning</a></li>
<li><a href="#_27_04_2017_sprint_1_review">27.04.2017 Sprint 1 Review</a></li>
<li><a href="#_03_05_2017_sprint_2_planning">03.05.2017 Sprint 2 Planning</a></li>
<li><a href="#_01_06_2017_sprint_2_review">01.06.2017 Sprint 2 Review</a></li>
<li><a href="#_user_stories">User Stories</a></li>
<li><a href="#_epic_invite_friends">Epic: Invite friends</a></li>
<li><a href="#_us_create_invite_for_friends">US: create invite for friends</a></li>
<li><a href="#_acceptance_criteria">== Acceptance criteria</a></li>
<li><a href="#_us_create_reservation">US: create reservation</a></li>
<li><a href="#_acceptance_criteria_2">== Acceptance criteria</a></li>
<li><a href="#_wireframes">== Wireframes</a></li>
<li><a href="#_us_handle_invite">US: handle invite</a></li>
<li><a href="#_ac">== AC:</a></li>
<li><a href="#_us_revoke_accepted_invite">US: revoke accepted invite</a></li>
<li><a href="#_ac_2">==  AC:</a></li>
<li><a href="#_us_calculate_best_table">US: calculate best table</a></li>
<li><a href="#_details">== Details</a></li>
<li><a href="#_us_find_table_by_reservation_info">US: find table by reservation info</a></li>
<li><a href="#_ac_3">== AC:</a></li>
<li><a href="#_us_cancel_invite">US: cancel invite</a></li>
<li><a href="#_ac_4">== AC:</a></li>
<li><a href="#_epic_digital_menu">Epic: Digital Menu</a></li>
<li><a href="#_us_filter_menu">US: filter menu</a></li>
<li><a href="#_ac_5">== AC:</a></li>
<li><a href="#_us_define_order">US: Define order</a></li>
<li><a href="#_ac_6">== AC:</a></li>
<li><a href="#_us_order_the_order">US: Order the order</a></li>
<li><a href="#_us_cancel_order">US: Cancel order</a></li>
<li><a href="#_us_read_twitter_rating_for_dishes">US: Read twitter rating for dishes</a></li>
<li><a href="#_epic_user_profile">Epic: User Profile</a></li>
<li><a href="#_us_user_profile">US: User Profile</a></li>
<li><a href="#_epic_rate_by_twitter">Epic: Rate by twitter</a></li>
<li><a href="#_us_receive_mail_to_rate_your_dish">US: Receive mail to rate your dish</a></li>
<li><a href="#_us_rate_your_dish">US: Rate your dish</a></li>
<li><a href="#_epic_waiter_cockpit">Epic: Waiter Cockpit</a></li>
<li><a href="#_us_see_all_ordersreservations">US: See all orders/reservations</a></li>
</ul>
</li>
<li><a href="#_technical_design">Technical design</a></li>
<li><a href="#_data_model">Data Model</a>
<ul class="sectlevel4">
<li><a href="#_data_model_2">Data Model</a></li>
<li><a href="#_nosql_data_model">NoSQL Data Model</a></li>
</ul>
</li>
<li><a href="#_server_side">Server Side</a>
<ul class="sectlevel4">
<li><a href="#_java_design">Java design</a></li>
<li><a href="#_introduction">Introduction</a></li>
<li><a href="#_basic_architecture_details">Basic architecture details</a></li>
<li><a href="#_project_modules">Project modules</a></li>
<li><a href="#_components">Components</a></li>
<li><a href="#_layers">Layers</a></li>
<li><a href="#_component_structure">Component structure</a></li>
<li><a href="#_dependency_injection">Dependency injection</a></li>
<li><a href="#_layers_communication">Layers communication</a></li>
<li><a href="#_service_layer">Service layer</a></li>
<li><a href="#_service_api">Service API</a></li>
<li><a href="#_service_impl">Service <code>impl</code></a></li>
<li><a href="#">==</a></li>
<li><a href="#_logic_layer">Logic layer</a></li>
<li><a href="#_data_access_layer">Data Access layer</a></li>
<li><a href="#_security_with_json_web_token">Security with Json Web Token</a></li>
<li><a href="#_jwt_basics">JWT basics</a></li>
<li><a href="#_jwt_implementation_details">JWT implementation details</a></li>
<li><a href="#_authentication">==  Authentication</a></li>
<li><a href="#_token_set_up">==  Token set up</a></li>
<li><a href="#_current_user_request">==  Current User request</a></li>
<li><a href="#_authorization">==  Authorization</a></li>
<li><a href="#_net_design">.NET design</a></li>
<li><a href="#_nodejs_design_deprecated">NodeJS design (deprecated)</a></li>
<li><a href="#_introduction_2">Introduction</a></li>
<li><a href="#_basic_architecture_details_2">Basic architecture details</a></li>
<li><a href="#_layers_2">Layers</a></li>
<li><a href="#_service_layer_2">Service layer</a></li>
<li><a href="#_logic_layer_and_data_access_layer">Logic layer and Data access layer</a></li>
<li><a href="#_security_with_json_web_token_2">Security with Json Web Token</a></li>
<li><a href="#_jwt_basics_2">JWT basics</a></li>
<li><a href="#_jwt_implementation_details_2">JWT implementation details</a></li>
<li><a href="#_authentication_2">==  Authentication</a></li>
<li><a href="#_token_set_up_2">==  Token set up</a></li>
<li><a href="#_current_user_request_2">==  Current User request</a></li>
<li><a href="#_authorization_2">==  Authorization</a></li>
<li><a href="#_serverless_design_deprecated">Serverless design (deprecated)</a></li>
<li><a href="#_introduction_3">Introduction</a></li>
<li><a href="#_basic_architecture_details_3">Basic architecture details</a></li>
<li><a href="#_layers_3">Layers</a></li>
<li><a href="#_service_layer_3">Service layer</a></li>
<li><a href="#_2">==</a></li>
<li><a href="#_logic_layer_and_data_access_layer_2">Logic layer and Data access layer</a></li>
<li><a href="#_security_with_json_web_token_3">Security with Json Web Token</a></li>
<li><a href="#_jwt_basics_3">JWT basics</a></li>
<li><a href="#_jwt_implementation_details_3">JWT implementation details</a></li>
<li><a href="#_authentication_3">==  Authentication</a></li>
<li><a href="#_token_set_up_3">==  Token set up</a></li>
<li><a href="#_current_user_request_3">==  Current User request</a></li>
<li><a href="#_authorization_3">==  Authorization</a></li>
<li><a href="#_graphql_design">GraphQL design</a></li>
</ul>
</li>
<li><a href="#_client_side">Client Side</a>
<ul class="sectlevel4">
<li><a href="#_angular_design">Angular design</a></li>
<li><a href="#_introduction_4">Introduction</a></li>
<li><a href="#_basic_project_structure">Basic project structure</a></li>
<li><a href="#_main_views_and_components">Main Views and components</a></li>
<li><a href="#_public_area">Public area</a></li>
<li><a href="#_app_component">==  App Component</a></li>
<li><a href="#_order_sidenav">== Order sidenav</a></li>
<li><a href="#_navigation_sidenav_only_for_mobile">== Navigation sidenav (only for mobile)</a></li>
<li><a href="#_header">== Header</a></li>
<li><a href="#_footer_only_for_desktop">== Footer (only for desktop)</a></li>
<li><a href="#_home_component">==  Home-Component</a></li>
<li><a href="#_menu_component">==  Menu-Component</a></li>
<li><a href="#_menu_card">== Menu-card</a></li>
<li><a href="#_book_table_component">==  Book Table Component</a></li>
<li><a href="#_book_table_dialog">== Book-table-dialog</a></li>
<li><a href="#_invitation_dialog">== Invitation-dialog</a></li>
<li><a href="#_user_area">==  User Area</a></li>
<li><a href="#_login_dialog">== Login-dialog</a></li>
<li><a href="#_password_dialog">== Password-dialog</a></li>
<li><a href="#_twitter_dialog">== Twitter-dialog</a></li>
<li><a href="#_waiter_cockpit_area">Waiter cockpit area</a></li>
<li><a href="#_order_cockpit_component">==  Order Cockpit Component</a></li>
<li><a href="#_order_dialog">== Order-dialog</a></li>
<li><a href="#_reservation_cockpit_component">==  Reservation Cockpit Component</a></li>
<li><a href="#_reservation_dialog">== Reservation-dialog</a></li>
<li><a href="#_email_management">Email Management</a></li>
<li><a href="#_accept_invite">==  Accept Invite</a></li>
<li><a href="#_reject_invite">==  Reject Invite</a></li>
<li><a href="#_cancel_reservation">==  Cancel Reservation</a></li>
<li><a href="#_cancel_orders">==  Cancel Orders</a></li>
<li><a href="#_services_and_directives">Services and directives</a></li>
<li><a href="#_price_calculator_service">Price-calculator-service</a></li>
<li><a href="#_authentication_4">Authentication</a></li>
<li><a href="#_snack_service">Snack Service</a></li>
<li><a href="#_window_service">Window Service</a></li>
<li><a href="#_equal_validator_directive">Equal-validator-directive</a></li>
<li><a href="#_mock_back_end">Mock Back-end</a></li>
<li><a href="#_booking">Booking</a></li>
<li><a href="#_orders">Orders</a></li>
<li><a href="#_dishes">Dishes</a></li>
<li><a href="#_login">Login</a></li>
<li><a href="#_security">Security</a></li>
<li><a href="#_auth_guard">Auth-guard</a></li>
<li><a href="#_jwt">JWT</a></li>
<li><a href="#_httpclient">==  HttpClient</a></li>
<li><a href="#_xamarin_design">Xamarin design</a></li>
</ul>
</li>
<li><a href="#_security_2">Security</a>
<ul class="sectlevel3">
<li><a href="#_two_factor_authentication">Two-Factor Authentication</a></li>
<li><a href="#_back_end_mechanism">Back-end mechanism</a></li>
<li><a href="#_activating_two_factor_authentication">Activating Two-Factor Authentication</a></li>
<li><a href="#_frontend">Frontend</a></li>
</ul>
</li>
<li><a href="#_testing">Testing</a></li>
<li><a href="#_server_side_2">Server Side</a>
<ul class="sectlevel4">
<li><a href="#_java_testing">Java testing</a></li>
<li><a href="#_component_testing">Component testing</a></li>
<li><a href="#_running_the_tests">Running the tests</a></li>
<li><a href="#_from_eclipse">From Eclipse</a></li>
<li><a href="#_from_command_line_using_maven">From command line using Maven</a></li>
<li><a href="#_net_testing">.NET testing</a></li>
<li><a href="#_nodejs_testing">NodeJS testing</a></li>
<li><a href="#_graphql_testing">GraphQL testing</a></li>
</ul>
</li>
<li><a href="#_client_side_2">Client Side</a>
<ul class="sectlevel4">
<li><a href="#_angular_testing">Angular testing</a></li>
<li><a href="#_3">==</a></li>
<li><a href="#_testing_components">Testing Components</a></li>
<li><a href="#_dialog_components">Dialog components</a></li>
<li><a href="#_testing_services">Testing Services</a></li>
<li><a href="#_testing_in_a_ci_environment">Testing in a CI environment</a></li>
<li><a href="#_xamarin_testing">Xamarin testing</a></li>
</ul>
</li>
<li><a href="#_end_to_end">End to end</a>
<ul class="sectlevel4">
<li><a href="#_mrchecker_e2e_testing">MrChecker E2E Testing</a></li>
<li><a href="#_introduction_5">Introduction</a></li>
<li><a href="#_how_to_use_it">How to use it</a></li>
<li><a href="#_end_to_end_tests_in_my_thai_star">End to end tests in My Thai Star</a></li>
</ul>
</li>
<li><a href="#_ui_design">UI design</a>
<ul class="sectlevel3">
<li><a href="#_style_guide">Style guide</a></li>
<li><a href="#_low_and_high_fidelity_wireframes">Low and high fidelity wireframes</a></li>
</ul>
</li>
<li><a href="#_cicd">CI/CD</a>
<ul class="sectlevel3">
<li><a href="#_my_thai_star_in_production_line">My Thai Star in Production Line</a></li>
<li><a href="#_what_is_pl">What is PL?</a></li>
<li><a href="#_introduction_6">Introduction</a></li>
<li><a href="#_where_can_i_find_all_my_thai_star_pipelines">Where can I find all My Thai Star Pipelines?</a></li>
<li><a href="#_ci_in_my_thai_star_stack">CI in My Thai Star stack</a></li>
<li><a href="#_how_to_configure_everything_out_of_the_box">How to configure everything out of the box</a></li>
<li><a href="#_deployment">Deployment</a></li>
<li><a href="#_where_docker_containers_will_be_running">Where Docker containers will be running?</a></li>
<li><a href="#_container_schema">Container Schema</a></li>
<li><a href="#_run_my_thai_star">Run My Thai Star</a></li>
<li><a href="#_mythaistar_on_native_kubernetes_as_a_service_nkaas"><code>MyThaiStar</code> on Native Kubernetes as a Service (nKaaS)</a></li>
<li><a href="#_setting_up_the_environment">Setting up the environment</a></li>
<li><a href="#_following_the_nkaas_guide">Following the nKaaS guide</a></li>
<li><a href="#_requesting_a_namespace">Requesting a namespace</a></li>
<li><a href="#_setting_up_harbor">Setting up Harbor</a></li>
<li><a href="#_setting_up_jenkins">Setting up Jenkins</a></li>
<li><a href="#_deploying_mts">Deploying MTS</a></li>
</ul>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_graphql_design"><a class="anchor" href="#_graphql_design"></a>GraphQL design</h5>
<div class="paragraph">
<p>TODO</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_client_side"><a class="anchor" href="#_client_side"></a>Client Side</h2>
<div class="sectionbody">
<div id="toc" class="toc">
<div id="toctitle" class="title">Table of Contents</div>
<ul class="sectlevel1">
<li><a href="#_mythaistar">MyThaiStar</a>
<ul class="sectlevel2">
<li><a href="#_1_my_thai_star_agile_framework">1.	My Thai Star – Agile Framework</a></li>
<li><a href="#_1_1_team_setup">1.1 Team Setup</a></li>
<li><a href="#_1_2_scrum_events">1.2 Scrum events</a></li>
<li><a href="#_sprint_planning">Sprint Planning</a></li>
<li><a href="#_sprint_review">Sprint Review</a></li>
<li><a href="#_sprint_retrospective">Sprint Retrospective</a></li>
<li><a href="#_daily_stand_ups">Daily Stand-ups</a></li>
<li><a href="#_backlog_refinement">Backlog refinement</a></li>
<li><a href="#_1_3_establish_product_backlog">1.3 Establish Product Backlog</a></li>
<li><a href="#_2_my_thai_star_agile_diary">2.	My Thai Star – Agile Diary</a></li>
<li><a href="#_24_03_2017_sprint_1_planning">24.03.2017 Sprint 1 Planning</a></li>
<li><a href="#_27_04_2017_sprint_1_review">27.04.2017 Sprint 1 Review</a></li>
<li><a href="#_03_05_2017_sprint_2_planning">03.05.2017 Sprint 2 Planning</a></li>
<li><a href="#_01_06_2017_sprint_2_review">01.06.2017 Sprint 2 Review</a></li>
<li><a href="#_user_stories">User Stories</a></li>
<li><a href="#_epic_invite_friends">Epic: Invite friends</a></li>
<li><a href="#_us_create_invite_for_friends">US: create invite for friends</a></li>
<li><a href="#_acceptance_criteria">== Acceptance criteria</a></li>
<li><a href="#_us_create_reservation">US: create reservation</a></li>
<li><a href="#_acceptance_criteria_2">== Acceptance criteria</a></li>
<li><a href="#_wireframes">== Wireframes</a></li>
<li><a href="#_us_handle_invite">US: handle invite</a></li>
<li><a href="#_ac">== AC:</a></li>
<li><a href="#_us_revoke_accepted_invite">US: revoke accepted invite</a></li>
<li><a href="#_ac_2">==  AC:</a></li>
<li><a href="#_us_calculate_best_table">US: calculate best table</a></li>
<li><a href="#_details">== Details</a></li>
<li><a href="#_us_find_table_by_reservation_info">US: find table by reservation info</a></li>
<li><a href="#_ac_3">== AC:</a></li>
<li><a href="#_us_cancel_invite">US: cancel invite</a></li>
<li><a href="#_ac_4">== AC:</a></li>
<li><a href="#_epic_digital_menu">Epic: Digital Menu</a></li>
<li><a href="#_us_filter_menu">US: filter menu</a></li>
<li><a href="#_ac_5">== AC:</a></li>
<li><a href="#_us_define_order">US: Define order</a></li>
<li><a href="#_ac_6">== AC:</a></li>
<li><a href="#_us_order_the_order">US: Order the order</a></li>
<li><a href="#_us_cancel_order">US: Cancel order</a></li>
<li><a href="#_us_read_twitter_rating_for_dishes">US: Read twitter rating for dishes</a></li>
<li><a href="#_epic_user_profile">Epic: User Profile</a></li>
<li><a href="#_us_user_profile">US: User Profile</a></li>
<li><a href="#_epic_rate_by_twitter">Epic: Rate by twitter</a></li>
<li><a href="#_us_receive_mail_to_rate_your_dish">US: Receive mail to rate your dish</a></li>
<li><a href="#_us_rate_your_dish">US: Rate your dish</a></li>
<li><a href="#_epic_waiter_cockpit">Epic: Waiter Cockpit</a></li>
<li><a href="#_us_see_all_ordersreservations">US: See all orders/reservations</a></li>
</ul>
</li>
<li><a href="#_technical_design">Technical design</a></li>
<li><a href="#_data_model">Data Model</a>
<ul class="sectlevel4">
<li><a href="#_data_model_2">Data Model</a></li>
<li><a href="#_nosql_data_model">NoSQL Data Model</a></li>
</ul>
</li>
<li><a href="#_server_side">Server Side</a>
<ul class="sectlevel4">
<li><a href="#_java_design">Java design</a></li>
<li><a href="#_introduction">Introduction</a></li>
<li><a href="#_basic_architecture_details">Basic architecture details</a></li>
<li><a href="#_project_modules">Project modules</a></li>
<li><a href="#_components">Components</a></li>
<li><a href="#_layers">Layers</a></li>
<li><a href="#_component_structure">Component structure</a></li>
<li><a href="#_dependency_injection">Dependency injection</a></li>
<li><a href="#_layers_communication">Layers communication</a></li>
<li><a href="#_service_layer">Service layer</a></li>
<li><a href="#_service_api">Service API</a></li>
<li><a href="#_service_impl">Service <code>impl</code></a></li>
<li><a href="#">==</a></li>
<li><a href="#_logic_layer">Logic layer</a></li>
<li><a href="#_data_access_layer">Data Access layer</a></li>
<li><a href="#_security_with_json_web_token">Security with Json Web Token</a></li>
<li><a href="#_jwt_basics">JWT basics</a></li>
<li><a href="#_jwt_implementation_details">JWT implementation details</a></li>
<li><a href="#_authentication">==  Authentication</a></li>
<li><a href="#_token_set_up">==  Token set up</a></li>
<li><a href="#_current_user_request">==  Current User request</a></li>
<li><a href="#_authorization">==  Authorization</a></li>
<li><a href="#_net_design">.NET design</a></li>
<li><a href="#_nodejs_design_deprecated">NodeJS design (deprecated)</a></li>
<li><a href="#_introduction_2">Introduction</a></li>
<li><a href="#_basic_architecture_details_2">Basic architecture details</a></li>
<li><a href="#_layers_2">Layers</a></li>
<li><a href="#_service_layer_2">Service layer</a></li>
<li><a href="#_logic_layer_and_data_access_layer">Logic layer and Data access layer</a></li>
<li><a href="#_security_with_json_web_token_2">Security with Json Web Token</a></li>
<li><a href="#_jwt_basics_2">JWT basics</a></li>
<li><a href="#_jwt_implementation_details_2">JWT implementation details</a></li>
<li><a href="#_authentication_2">==  Authentication</a></li>
<li><a href="#_token_set_up_2">==  Token set up</a></li>
<li><a href="#_current_user_request_2">==  Current User request</a></li>
<li><a href="#_authorization_2">==  Authorization</a></li>
<li><a href="#_serverless_design_deprecated">Serverless design (deprecated)</a></li>
<li><a href="#_introduction_3">Introduction</a></li>
<li><a href="#_basic_architecture_details_3">Basic architecture details</a></li>
<li><a href="#_layers_3">Layers</a></li>
<li><a href="#_service_layer_3">Service layer</a></li>
<li><a href="#_2">==</a></li>
<li><a href="#_logic_layer_and_data_access_layer_2">Logic layer and Data access layer</a></li>
<li><a href="#_security_with_json_web_token_3">Security with Json Web Token</a></li>
<li><a href="#_jwt_basics_3">JWT basics</a></li>
<li><a href="#_jwt_implementation_details_3">JWT implementation details</a></li>
<li><a href="#_authentication_3">==  Authentication</a></li>
<li><a href="#_token_set_up_3">==  Token set up</a></li>
<li><a href="#_current_user_request_3">==  Current User request</a></li>
<li><a href="#_authorization_3">==  Authorization</a></li>
<li><a href="#_graphql_design">GraphQL design</a></li>
</ul>
</li>
<li><a href="#_client_side">Client Side</a>
<ul class="sectlevel4">
<li><a href="#_angular_design">Angular design</a></li>
<li><a href="#_introduction_4">Introduction</a></li>
<li><a href="#_basic_project_structure">Basic project structure</a></li>
<li><a href="#_main_views_and_components">Main Views and components</a></li>
<li><a href="#_public_area">Public area</a></li>
<li><a href="#_app_component">==  App Component</a></li>
<li><a href="#_order_sidenav">== Order sidenav</a></li>
<li><a href="#_navigation_sidenav_only_for_mobile">== Navigation sidenav (only for mobile)</a></li>
<li><a href="#_header">== Header</a></li>
<li><a href="#_footer_only_for_desktop">== Footer (only for desktop)</a></li>
<li><a href="#_home_component">==  Home-Component</a></li>
<li><a href="#_menu_component">==  Menu-Component</a></li>
<li><a href="#_menu_card">== Menu-card</a></li>
<li><a href="#_book_table_component">==  Book Table Component</a></li>
<li><a href="#_book_table_dialog">== Book-table-dialog</a></li>
<li><a href="#_invitation_dialog">== Invitation-dialog</a></li>
<li><a href="#_user_area">==  User Area</a></li>
<li><a href="#_login_dialog">== Login-dialog</a></li>
<li><a href="#_password_dialog">== Password-dialog</a></li>
<li><a href="#_twitter_dialog">== Twitter-dialog</a></li>
<li><a href="#_waiter_cockpit_area">Waiter cockpit area</a></li>
<li><a href="#_order_cockpit_component">==  Order Cockpit Component</a></li>
<li><a href="#_order_dialog">== Order-dialog</a></li>
<li><a href="#_reservation_cockpit_component">==  Reservation Cockpit Component</a></li>
<li><a href="#_reservation_dialog">== Reservation-dialog</a></li>
<li><a href="#_email_management">Email Management</a></li>
<li><a href="#_accept_invite">==  Accept Invite</a></li>
<li><a href="#_reject_invite">==  Reject Invite</a></li>
<li><a href="#_cancel_reservation">==  Cancel Reservation</a></li>
<li><a href="#_cancel_orders">==  Cancel Orders</a></li>
<li><a href="#_services_and_directives">Services and directives</a></li>
<li><a href="#_price_calculator_service">Price-calculator-service</a></li>
<li><a href="#_authentication_4">Authentication</a></li>
<li><a href="#_snack_service">Snack Service</a></li>
<li><a href="#_window_service">Window Service</a></li>
<li><a href="#_equal_validator_directive">Equal-validator-directive</a></li>
<li><a href="#_mock_back_end">Mock Back-end</a></li>
<li><a href="#_booking">Booking</a></li>
<li><a href="#_orders">Orders</a></li>
<li><a href="#_dishes">Dishes</a></li>
<li><a href="#_login">Login</a></li>
<li><a href="#_security">Security</a></li>
<li><a href="#_auth_guard">Auth-guard</a></li>
<li><a href="#_jwt">JWT</a></li>
<li><a href="#_httpclient">==  HttpClient</a></li>
<li><a href="#_xamarin_design">Xamarin design</a></li>
</ul>
</li>
<li><a href="#_security_2">Security</a>
<ul class="sectlevel3">
<li><a href="#_two_factor_authentication">Two-Factor Authentication</a></li>
<li><a href="#_back_end_mechanism">Back-end mechanism</a></li>
<li><a href="#_activating_two_factor_authentication">Activating Two-Factor Authentication</a></li>
<li><a href="#_frontend">Frontend</a></li>
</ul>
</li>
<li><a href="#_testing">Testing</a></li>
<li><a href="#_server_side_2">Server Side</a>
<ul class="sectlevel4">
<li><a href="#_java_testing">Java testing</a></li>
<li><a href="#_component_testing">Component testing</a></li>
<li><a href="#_running_the_tests">Running the tests</a></li>
<li><a href="#_from_eclipse">From Eclipse</a></li>
<li><a href="#_from_command_line_using_maven">From command line using Maven</a></li>
<li><a href="#_net_testing">.NET testing</a></li>
<li><a href="#_nodejs_testing">NodeJS testing</a></li>
<li><a href="#_graphql_testing">GraphQL testing</a></li>
</ul>
</li>
<li><a href="#_client_side_2">Client Side</a>
<ul class="sectlevel4">
<li><a href="#_angular_testing">Angular testing</a></li>
<li><a href="#_3">==</a></li>
<li><a href="#_testing_components">Testing Components</a></li>
<li><a href="#_dialog_components">Dialog components</a></li>
<li><a href="#_testing_services">Testing Services</a></li>
<li><a href="#_testing_in_a_ci_environment">Testing in a CI environment</a></li>
<li><a href="#_xamarin_testing">Xamarin testing</a></li>
</ul>
</li>
<li><a href="#_end_to_end">End to end</a>
<ul class="sectlevel4">
<li><a href="#_mrchecker_e2e_testing">MrChecker E2E Testing</a></li>
<li><a href="#_introduction_5">Introduction</a></li>
<li><a href="#_how_to_use_it">How to use it</a></li>
<li><a href="#_end_to_end_tests_in_my_thai_star">End to end tests in My Thai Star</a></li>
</ul>
</li>
<li><a href="#_ui_design">UI design</a>
<ul class="sectlevel3">
<li><a href="#_style_guide">Style guide</a></li>
<li><a href="#_low_and_high_fidelity_wireframes">Low and high fidelity wireframes</a></li>
</ul>
</li>
<li><a href="#_cicd">CI/CD</a>
<ul class="sectlevel3">
<li><a href="#_my_thai_star_in_production_line">My Thai Star in Production Line</a></li>
<li><a href="#_what_is_pl">What is PL?</a></li>
<li><a href="#_introduction_6">Introduction</a></li>
<li><a href="#_where_can_i_find_all_my_thai_star_pipelines">Where can I find all My Thai Star Pipelines?</a></li>
<li><a href="#_ci_in_my_thai_star_stack">CI in My Thai Star stack</a></li>
<li><a href="#_how_to_configure_everything_out_of_the_box">How to configure everything out of the box</a></li>
<li><a href="#_deployment">Deployment</a></li>
<li><a href="#_where_docker_containers_will_be_running">Where Docker containers will be running?</a></li>
<li><a href="#_container_schema">Container Schema</a></li>
<li><a href="#_run_my_thai_star">Run My Thai Star</a></li>
<li><a href="#_mythaistar_on_native_kubernetes_as_a_service_nkaas"><code>MyThaiStar</code> on Native Kubernetes as a Service (nKaaS)</a></li>
<li><a href="#_setting_up_the_environment">Setting up the environment</a></li>
<li><a href="#_following_the_nkaas_guide">Following the nKaaS guide</a></li>
<li><a href="#_requesting_a_namespace">Requesting a namespace</a></li>
<li><a href="#_setting_up_harbor">Setting up Harbor</a></li>
<li><a href="#_setting_up_jenkins">Setting up Jenkins</a></li>
<li><a href="#_deploying_mts">Deploying MTS</a></li>
</ul>
</li>
</ul>
</div>
<div class="sect4">
<h5 id="_angular_design"><a class="anchor" href="#_angular_design"></a>Angular design</h5>

</div>
<div class="sect4">
<h5 id="_introduction_4"><a class="anchor" href="#_introduction_4"></a>Introduction</h5>
<div class="paragraph">
<p><code>MyThaiStar</code> client side has been built using latest frameworks, component libraries and designs:</p>
</div>
<div class="paragraph">
<p><strong>Angular</strong> <em>4</em> as main front-end Framework. <a href="https://angular.io/" class="bare">https://angular.io/</a></p>
</div>
<div class="paragraph">
<p><strong>Angular/CLI</strong> <em>1.0.5</em> as Angular tool helper. <a href="https://github.com/angular/angular-cli" class="bare">https://github.com/angular/angular-cli</a></p>
</div>
<div class="paragraph">
<p><strong>Covalent Teradata</strong> <em>1.0.0-beta4</em> as Angular native component library based on Material Design. <a href="https://teradata.github.io/covalent/#/" class="bare">https://teradata.github.io/covalent/#/</a></p>
</div>
<div class="paragraph">
<p><strong>Angular/Material2</strong> <em>1.0.0-beta5</em> used by Covalent Teradata. <a href="https://github.com/angular/material2" class="bare">https://github.com/angular/material2</a></p>
</div>
<div class="paragraph">
<p><em>Note: this dependencies are evolving at this moment and if it is possible, we are updating it on the project.</em></p>
</div>
</div>
<div class="sect4">
<h5 id="_basic_project_structure"><a class="anchor" href="#_basic_project_structure"></a>Basic project structure</h5>
<div class="paragraph">
<p>The project is using the basic project seed that Angular/CLI provides with “ng new &lt;project name&gt;”. Then the app folder has been organized as Angular recommends and goes as follows:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>app</p>
<div class="ulist">
<ul>
<li>
<p>components</p>
<div class="ulist">
<ul>
<li>
<p>sub-components</p>
</li>
<li>
<p>shared</p>
</li>
<li>
<p>component files</p>
</li>
</ul>
</div>
</li>
<li>
<p>main app component</p>
</li>
</ul>
</div>
</li>
<li>
<p>assets folder</p>
</li>
<li>
<p>environments folder</p>
</li>
<li>
<p>rest of angular files</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>This structure can be shown in the following example image:</p>
</div>
<div class="imageblock">
<div class="content">
<a class="image" href="images/angular/folder_organization.png"><img src="_images/images/angular/folder_organization.png" alt="folder organization"></a>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_main_views_and_components"><a class="anchor" href="#_main_views_and_components"></a>Main Views and components</h5>
<div class="paragraph">
<p>List of components that serve as a main view to navigate or components developed to make atomically a group of functionalities which given their nature, can be highly reusable through the app.</p>
</div>
<div class="imageblock">
<div class="content">
<a class="image" href="images/angular/routes.png"><img src="_images/images/angular/routes.png" alt="routes"></a>
</div>
</div>
<div class="paragraph">
<p><em>Note: no-name-route corresponds to whatever URL the user introduced and does not exist, it redirects to Home-Component.</em></p>
</div>
</div>
<div class="sect4">
<h5 id="_public_area"><a class="anchor" href="#_public_area"></a>Public area</h5>

</div>
<div class="sect4">
<h5 id="_app_component"><a class="anchor" href="#_app_component"></a>==  App Component</h5>
<div class="paragraph">
<p>Contains the components that are on top of all views, including:</p>
</div>
</div>
<div class="sect4">
<h5 id="_order_sidenav"><a class="anchor" href="#_order_sidenav"></a>== Order sidenav</h5>
<div class="paragraph">
<p>Sidenav where selected orders are displayed with their total price and some comments.</p>
</div>
</div>
<div class="sect4">
<h5 id="_navigation_sidenav_only_for_mobile"><a class="anchor" href="#_navigation_sidenav_only_for_mobile"></a>== Navigation sidenav (only for mobile)</h5>
<div class="paragraph">
<p>This sidenav proposal is to let user navigate through the app when the screen is too small to show the navigation buttons on the header.</p>
</div>
</div>
<div class="sect4">
<h5 id="_header"><a class="anchor" href="#_header"></a>== Header</h5>
<div class="paragraph">
<p>It contains the title, and some other basic functions regarding open and close sidenavs.</p>
</div>
</div>
<div class="sect4">
<h5 id="_footer_only_for_desktop"><a class="anchor" href="#_footer_only_for_desktop"></a>== Footer (only for desktop)</h5>
<div class="paragraph">
<p>At the end of the page that shows only when open on desktop.</p>
</div>
</div>
<div class="sect4">
<h5 id="_home_component"><a class="anchor" href="#_home_component"></a>==  Home-Component</h5>
<div class="paragraph">
<p>Main view that shows up when the app initializes.</p>
</div>
</div>
<div class="sect4">
<h5 id="_menu_component"><a class="anchor" href="#_menu_component"></a>==  Menu-Component</h5>
<div class="paragraph">
<p>View where the users can view, filter and select the dishes (with their extras) they want to order it contains a component to each menu entry:</p>
</div>
</div>
<div class="sect4">
<h5 id="_menu_card"><a class="anchor" href="#_menu_card"></a>== Menu-card</h5>
<div class="paragraph">
<p>This component composes all the data of a dish in a card. Component made to display indeterminate number of dishes easily.</p>
</div>
</div>
<div class="sect4">
<h5 id="_book_table_component"><a class="anchor" href="#_book_table_component"></a>==  Book Table Component</h5>
<div class="paragraph">
<p>View to make book a table in a given data with a given number of assistants or create a reservation with a number of invitations via email.</p>
</div>
</div>
<div class="sect4">
<h5 id="_book_table_dialog"><a class="anchor" href="#_book_table_dialog"></a>== Book-table-dialog</h5>
<div class="paragraph">
<p>Dialog which opens as a result of fulfilling the booking form, it displays all the data of the booking attempt, if everything is correct, the user can send the information or cancel if something is wrong.</p>
</div>
</div>
<div class="sect4">
<h5 id="_invitation_dialog"><a class="anchor" href="#_invitation_dialog"></a>== Invitation-dialog</h5>
<div class="paragraph">
<p>Dialog which opens as a result of fulfilling the invitation form, it displays all the data of the booking with friends attempt, if everything is correct, the user can send the information or cancel if something is wrong.</p>
</div>
</div>
<div class="sect4">
<h5 id="_user_area"><a class="anchor" href="#_user_area"></a>==  User Area</h5>
<div class="paragraph">
<p>Group of dialogs with the proposal of giving some functionalities to the user, as login, register, change password or connect with Twitter.</p>
</div>
</div>
<div class="sect4">
<h5 id="_login_dialog"><a class="anchor" href="#_login_dialog"></a>== Login-dialog</h5>
<div class="paragraph">
<p>Dialog with a tab to navigate between login and register.</p>
</div>
</div>
<div class="sect4">
<h5 id="_password_dialog"><a class="anchor" href="#_password_dialog"></a>== Password-dialog</h5>
<div class="paragraph">
<p>Functionality reserved to already logged users, in this dialog the user can change freely their password.</p>
</div>
</div>
<div class="sect4">
<h5 id="_twitter_dialog"><a class="anchor" href="#_twitter_dialog"></a>== Twitter-dialog</h5>
<div class="paragraph">
<p>Dialog designed specifically to connect your user account with Twitter.</p>
</div>
</div>
<div class="sect4">
<h5 id="_waiter_cockpit_area"><a class="anchor" href="#_waiter_cockpit_area"></a>Waiter cockpit area</h5>
<div class="paragraph">
<p>Restricted area to workers of the restaurant, here we can see all information about booked tables with the selected orders and the reservations with all the guests and their acceptance or decline of the event.</p>
</div>
</div>
<div class="sect4">
<h5 id="_order_cockpit_component"><a class="anchor" href="#_order_cockpit_component"></a>==  Order Cockpit Component</h5>
<div class="paragraph">
<p>Data table with all the booked tables and a filter to search them, to show more info about that table you can click on it and open a dialog.</p>
</div>
</div>
<div class="sect4">
<h5 id="_order_dialog"><a class="anchor" href="#_order_dialog"></a>== Order-dialog</h5>
<div class="paragraph">
<p>Complete display of data regarding the selected table and its orders.</p>
</div>
</div>
<div class="sect4">
<h5 id="_reservation_cockpit_component"><a class="anchor" href="#_reservation_cockpit_component"></a>==  Reservation Cockpit Component</h5>
<div class="paragraph">
<p>Data table with all the reservations and a filter to search them, to show more info about that table you can click on it and open a dialog.</p>
</div>
</div>
<div class="sect4">
<h5 id="_reservation_dialog"><a class="anchor" href="#_reservation_dialog"></a>== Reservation-dialog</h5>
<div class="paragraph">
<p>Complete display of data regarding the selected table and its guests.</p>
</div>
</div>
<div class="sect4">
<h5 id="_email_management"><a class="anchor" href="#_email_management"></a>Email Management</h5>
<div class="paragraph">
<p>As the application send emails to both guests and hosts, we choose an approach based on URL where the email contain a button with an URL to a service in the app and a token, front-end read that token and depending on the URL, will redirect to one service or another. For example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code>`http://localhost:4200/booking/cancel/CB_20170605_8fb5bc4c84a1c5049da1f6beb1968afc`</code></pre>
</div>
</div>
<div class="paragraph">
<p>This URL will tell the app that is a cancellation of a booking with the token <code><em>CB_20170605_8fb5bc4c84a1c5049da1f6beb1968afc</em></code>. The app will process this information, send it to back-end with the correct headers, show the confirmation of the event and redirect to home page.</p>
</div>
<div class="paragraph">
<p>The main cases at the moment are:</p>
</div>
</div>
<div class="sect4">
<h5 id="_accept_invite"><a class="anchor" href="#_accept_invite"></a>==  Accept Invite</h5>
<div class="paragraph">
<p>A guest accept an invitation sent by a host. It will receive another email to decline if it change its mind later on.</p>
</div>
</div>
<div class="sect4">
<h5 id="_reject_invite"><a class="anchor" href="#_reject_invite"></a>==  Reject Invite</h5>
<div class="paragraph">
<p>A guest decline the invitation.</p>
</div>
</div>
<div class="sect4">
<h5 id="_cancel_reservation"><a class="anchor" href="#_cancel_reservation"></a>==  Cancel Reservation</h5>
<div class="paragraph">
<p>A host cancel the reservation, everybody that has accepted or not already answered will receive an email notifying this event is canceled. Also all the orders related to this reservations will be removed.</p>
</div>
</div>
<div class="sect4">
<h5 id="_cancel_orders"><a class="anchor" href="#_cancel_orders"></a>==  Cancel Orders</h5>
<div class="paragraph">
<p>When you have a reservation, you will be assigned to a token, with that token you can save your order in the restaurant. When sent, you will receive an email confirming the order and the possibility to remove it.</p>
</div>
</div>
<div class="sect4">
<h5 id="_services_and_directives"><a class="anchor" href="#_services_and_directives"></a>Services and directives</h5>
<div class="paragraph">
<p>Services are where all the main logic between components of that view should be. This includes calling a remote server, composing objects, calculate prices, etc.</p>
</div>
<div class="paragraph">
<p>Directives are a single functionality that are related to a component.</p>
</div>
<div class="paragraph">
<p>As it can be seen in the basic structure, every view that has a minimum of logic or need to call a server has its own service located in the shared folder.</p>
</div>
<div class="paragraph">
<p>Also, services and directives can be created to compose a reusable piece of code that will be reused in some parts of the code:</p>
</div>
</div>
<div class="sect4">
<h5 id="_price_calculator_service"><a class="anchor" href="#_price_calculator_service"></a>Price-calculator-service</h5>
<div class="paragraph">
<p>This service located in the shared folder of sidenav contains the basic logic to calculate the price of a single order (with all the possibilities) and to calculate the price of a full list of orders for a table. As this is used in the sidenav and in the waiter cockpit, it has been exported as a service to be imported where needed and easily testable.</p>
</div>
</div>
<div class="sect4">
<h5 id="_authentication_4"><a class="anchor" href="#_authentication_4"></a>Authentication</h5>
<div class="paragraph">
<p>Authentication services serves as a validator of roles and login and, at the same time, stores the basic data regarding security and authentication.</p>
</div>
<div class="paragraph">
<p>Main task of this services is to provide visibility at app level of the current user information:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Check if the user is logged or not.</p>
</li>
<li>
<p>Check the permissions of the current user.</p>
</li>
<li>
<p>Store the username and the JWT token.</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_snack_service"><a class="anchor" href="#_snack_service"></a>Snack Service</h5>
<div class="paragraph">
<p>Service created to serve as a factory of Angular Material <code>Snackbars</code>, which are used commonly through the app. This service accepts some parameters to customize the <code>snackBar</code> and opens it with this parameters.</p>
</div>
</div>
<div class="sect4">
<h5 id="_window_service"><a class="anchor" href="#_window_service"></a>Window Service</h5>
<div class="paragraph">
<p>For responsiveness reasons, the dialogs have to accept a width parameter to adjust to screen width and this information is given by Window object, as it is a good practice to have it in an isolated service, which also calculates the width percentage to apply on the dialogs.</p>
</div>
</div>
<div class="sect4">
<h5 id="_equal_validator_directive"><a class="anchor" href="#_equal_validator_directive"></a>Equal-validator-directive</h5>
<div class="paragraph">
<p>This directive located in the shared folder of <code>userArea</code> is used in 2 fields to make sure they have the same value. This directive is used in confirm password fields in register and change password.</p>
</div>
</div>
<div class="sect4">
<h5 id="_mock_back_end"><a class="anchor" href="#_mock_back_end"></a>Mock Back-end</h5>
<div class="paragraph">
<p>To develop meanwhile a real back-end is being developed let us to make a more realistic application and to make easier the adaptation when the back-end is able to be connected and called. Its structure is as following:</p>
</div>
<div class="imageblock">
<div class="content">
<a class="image" href="images/angular/back-end.png"><img src="_images/images/angular/back-end.png" alt="back end"></a>
</div>
</div>
<div class="paragraph">
<p>Contains the three main groups of functionalities in the application. Every group is composed by:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>An <strong>interface</strong> with all the methods to implement.</p>
</li>
<li>
<p>A <strong>service</strong> that implements that interface, the main task of this service is to choose between real back-end and mock back-end depending on an environment variable.</p>
</li>
<li>
<p><strong>Mock back-end service</strong> which implements all the methods declared in the interface using mock data stored in a local file and mainly uses Lodash to operate the arrays.</p>
</li>
<li>
<p><strong>Real back-end service</strong> works as Mock back-end but in this case the methods call for server rest services through Http.</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_booking"><a class="anchor" href="#_booking"></a>Booking</h5>
<div class="paragraph">
<p>The booking group of functionalities manages the calls to reserve a table with a given time and assistants or with guests, get reservations filtered, accept or decline invitations or cancel the reservation.</p>
</div>
</div>
<div class="sect4">
<h5 id="_orders"><a class="anchor" href="#_orders"></a>Orders</h5>
<div class="paragraph">
<p>Management of the orders, including saving, filtering and cancel an order.</p>
</div>
</div>
<div class="sect4">
<h5 id="_dishes"><a class="anchor" href="#_dishes"></a>Dishes</h5>
<div class="paragraph">
<p>The dishes group of functionalities manages the calls to get and filter dishes.</p>
</div>
</div>
<div class="sect4">
<h5 id="_login"><a class="anchor" href="#_login"></a>Login</h5>
<div class="paragraph">
<p>Login manages the <code>userArea</code> logic: login, register and change password.</p>
</div>
</div>
<div class="sect4">
<h5 id="_security"><a class="anchor" href="#_security"></a>Security</h5>
<div class="paragraph">
<p>My Thai Star security is composed by two main security services:</p>
</div>
</div>
<div class="sect4">
<h5 id="_auth_guard"><a class="anchor" href="#_auth_guard"></a>Auth-guard</h5>
<div class="paragraph">
<p>Front-end security approach, this service implements an interface called <code>CanActivate</code> that comes from angular/router module. <code>CanActivate</code> interface forces you to implement a <code>canActivate()</code> function which returns a Boolean.
This service checks with the Auth-Service stored data if the user is logged and if he has enough permission to access the waiter cockpit. This prevents that a forbidden user could access to waiter cockpit just by editing the URL in the browser.</p>
</div>
</div>
<div class="sect4">
<h5 id="_jwt"><a class="anchor" href="#_jwt"></a>JWT</h5>
<div class="paragraph">
<p>JSON Web Token consists of a token that is generated by the server when the user logs in. Once provided, the token has to be included in an Authentication header on every Http call to the rest service, otherwise the call will be forbidden.
JWT also has an expiration date and a role checking, so if a user has not enough permissions or keeps logged for a long certain amount of time that exceeds this expiration date, the next time he calls for a service call, the server will return an error and forbid the call. You can log again to restore the token.</p>
</div>
</div>
<div class="sect4">
<h5 id="_httpclient"><a class="anchor" href="#_httpclient"></a>==  HttpClient</h5>
<div class="paragraph">
<p>To implement this Authorization header management, an HttpClient service has been implemented.
This services works as an envelope of Http, providing some more functionalities, likes a header management and an automatically management of a server token error in case the JWT has expired, corrupted or not permitted.</p>
</div>
<div id="toc" class="toc">
<div id="toctitle" class="title">Table of Contents</div>
<ul class="sectlevel1">
<li><a href="#_mythaistar">MyThaiStar</a>
<ul class="sectlevel2">
<li><a href="#_1_my_thai_star_agile_framework">1.	My Thai Star – Agile Framework</a></li>
<li><a href="#_1_1_team_setup">1.1 Team Setup</a></li>
<li><a href="#_1_2_scrum_events">1.2 Scrum events</a></li>
<li><a href="#_sprint_planning">Sprint Planning</a></li>
<li><a href="#_sprint_review">Sprint Review</a></li>
<li><a href="#_sprint_retrospective">Sprint Retrospective</a></li>
<li><a href="#_daily_stand_ups">Daily Stand-ups</a></li>
<li><a href="#_backlog_refinement">Backlog refinement</a></li>
<li><a href="#_1_3_establish_product_backlog">1.3 Establish Product Backlog</a></li>
<li><a href="#_2_my_thai_star_agile_diary">2.	My Thai Star – Agile Diary</a></li>
<li><a href="#_24_03_2017_sprint_1_planning">24.03.2017 Sprint 1 Planning</a></li>
<li><a href="#_27_04_2017_sprint_1_review">27.04.2017 Sprint 1 Review</a></li>
<li><a href="#_03_05_2017_sprint_2_planning">03.05.2017 Sprint 2 Planning</a></li>
<li><a href="#_01_06_2017_sprint_2_review">01.06.2017 Sprint 2 Review</a></li>
<li><a href="#_user_stories">User Stories</a></li>
<li><a href="#_epic_invite_friends">Epic: Invite friends</a></li>
<li><a href="#_us_create_invite_for_friends">US: create invite for friends</a></li>
<li><a href="#_acceptance_criteria">== Acceptance criteria</a></li>
<li><a href="#_us_create_reservation">US: create reservation</a></li>
<li><a href="#_acceptance_criteria_2">== Acceptance criteria</a></li>
<li><a href="#_wireframes">== Wireframes</a></li>
<li><a href="#_us_handle_invite">US: handle invite</a></li>
<li><a href="#_ac">== AC:</a></li>
<li><a href="#_us_revoke_accepted_invite">US: revoke accepted invite</a></li>
<li><a href="#_ac_2">==  AC:</a></li>
<li><a href="#_us_calculate_best_table">US: calculate best table</a></li>
<li><a href="#_details">== Details</a></li>
<li><a href="#_us_find_table_by_reservation_info">US: find table by reservation info</a></li>
<li><a href="#_ac_3">== AC:</a></li>
<li><a href="#_us_cancel_invite">US: cancel invite</a></li>
<li><a href="#_ac_4">== AC:</a></li>
<li><a href="#_epic_digital_menu">Epic: Digital Menu</a></li>
<li><a href="#_us_filter_menu">US: filter menu</a></li>
<li><a href="#_ac_5">== AC:</a></li>
<li><a href="#_us_define_order">US: Define order</a></li>
<li><a href="#_ac_6">== AC:</a></li>
<li><a href="#_us_order_the_order">US: Order the order</a></li>
<li><a href="#_us_cancel_order">US: Cancel order</a></li>
<li><a href="#_us_read_twitter_rating_for_dishes">US: Read twitter rating for dishes</a></li>
<li><a href="#_epic_user_profile">Epic: User Profile</a></li>
<li><a href="#_us_user_profile">US: User Profile</a></li>
<li><a href="#_epic_rate_by_twitter">Epic: Rate by twitter</a></li>
<li><a href="#_us_receive_mail_to_rate_your_dish">US: Receive mail to rate your dish</a></li>
<li><a href="#_us_rate_your_dish">US: Rate your dish</a></li>
<li><a href="#_epic_waiter_cockpit">Epic: Waiter Cockpit</a></li>
<li><a href="#_us_see_all_ordersreservations">US: See all orders/reservations</a></li>
</ul>
</li>
<li><a href="#_technical_design">Technical design</a></li>
<li><a href="#_data_model">Data Model</a>
<ul class="sectlevel4">
<li><a href="#_data_model_2">Data Model</a></li>
<li><a href="#_nosql_data_model">NoSQL Data Model</a></li>
</ul>
</li>
<li><a href="#_server_side">Server Side</a>
<ul class="sectlevel4">
<li><a href="#_java_design">Java design</a></li>
<li><a href="#_introduction">Introduction</a></li>
<li><a href="#_basic_architecture_details">Basic architecture details</a></li>
<li><a href="#_project_modules">Project modules</a></li>
<li><a href="#_components">Components</a></li>
<li><a href="#_layers">Layers</a></li>
<li><a href="#_component_structure">Component structure</a></li>
<li><a href="#_dependency_injection">Dependency injection</a></li>
<li><a href="#_layers_communication">Layers communication</a></li>
<li><a href="#_service_layer">Service layer</a></li>
<li><a href="#_service_api">Service API</a></li>
<li><a href="#_service_impl">Service <code>impl</code></a></li>
<li><a href="#">==</a></li>
<li><a href="#_logic_layer">Logic layer</a></li>
<li><a href="#_data_access_layer">Data Access layer</a></li>
<li><a href="#_security_with_json_web_token">Security with Json Web Token</a></li>
<li><a href="#_jwt_basics">JWT basics</a></li>
<li><a href="#_jwt_implementation_details">JWT implementation details</a></li>
<li><a href="#_authentication">==  Authentication</a></li>
<li><a href="#_token_set_up">==  Token set up</a></li>
<li><a href="#_current_user_request">==  Current User request</a></li>
<li><a href="#_authorization">==  Authorization</a></li>
<li><a href="#_net_design">.NET design</a></li>
<li><a href="#_nodejs_design_deprecated">NodeJS design (deprecated)</a></li>
<li><a href="#_introduction_2">Introduction</a></li>
<li><a href="#_basic_architecture_details_2">Basic architecture details</a></li>
<li><a href="#_layers_2">Layers</a></li>
<li><a href="#_service_layer_2">Service layer</a></li>
<li><a href="#_logic_layer_and_data_access_layer">Logic layer and Data access layer</a></li>
<li><a href="#_security_with_json_web_token_2">Security with Json Web Token</a></li>
<li><a href="#_jwt_basics_2">JWT basics</a></li>
<li><a href="#_jwt_implementation_details_2">JWT implementation details</a></li>
<li><a href="#_authentication_2">==  Authentication</a></li>
<li><a href="#_token_set_up_2">==  Token set up</a></li>
<li><a href="#_current_user_request_2">==  Current User request</a></li>
<li><a href="#_authorization_2">==  Authorization</a></li>
<li><a href="#_serverless_design_deprecated">Serverless design (deprecated)</a></li>
<li><a href="#_introduction_3">Introduction</a></li>
<li><a href="#_basic_architecture_details_3">Basic architecture details</a></li>
<li><a href="#_layers_3">Layers</a></li>
<li><a href="#_service_layer_3">Service layer</a></li>
<li><a href="#_2">==</a></li>
<li><a href="#_logic_layer_and_data_access_layer_2">Logic layer and Data access layer</a></li>
<li><a href="#_security_with_json_web_token_3">Security with Json Web Token</a></li>
<li><a href="#_jwt_basics_3">JWT basics</a></li>
<li><a href="#_jwt_implementation_details_3">JWT implementation details</a></li>
<li><a href="#_authentication_3">==  Authentication</a></li>
<li><a href="#_token_set_up_3">==  Token set up</a></li>
<li><a href="#_current_user_request_3">==  Current User request</a></li>
<li><a href="#_authorization_3">==  Authorization</a></li>
<li><a href="#_graphql_design">GraphQL design</a></li>
</ul>
</li>
<li><a href="#_client_side">Client Side</a>
<ul class="sectlevel4">
<li><a href="#_angular_design">Angular design</a></li>
<li><a href="#_introduction_4">Introduction</a></li>
<li><a href="#_basic_project_structure">Basic project structure</a></li>
<li><a href="#_main_views_and_components">Main Views and components</a></li>
<li><a href="#_public_area">Public area</a></li>
<li><a href="#_app_component">==  App Component</a></li>
<li><a href="#_order_sidenav">== Order sidenav</a></li>
<li><a href="#_navigation_sidenav_only_for_mobile">== Navigation sidenav (only for mobile)</a></li>
<li><a href="#_header">== Header</a></li>
<li><a href="#_footer_only_for_desktop">== Footer (only for desktop)</a></li>
<li><a href="#_home_component">==  Home-Component</a></li>
<li><a href="#_menu_component">==  Menu-Component</a></li>
<li><a href="#_menu_card">== Menu-card</a></li>
<li><a href="#_book_table_component">==  Book Table Component</a></li>
<li><a href="#_book_table_dialog">== Book-table-dialog</a></li>
<li><a href="#_invitation_dialog">== Invitation-dialog</a></li>
<li><a href="#_user_area">==  User Area</a></li>
<li><a href="#_login_dialog">== Login-dialog</a></li>
<li><a href="#_password_dialog">== Password-dialog</a></li>
<li><a href="#_twitter_dialog">== Twitter-dialog</a></li>
<li><a href="#_waiter_cockpit_area">Waiter cockpit area</a></li>
<li><a href="#_order_cockpit_component">==  Order Cockpit Component</a></li>
<li><a href="#_order_dialog">== Order-dialog</a></li>
<li><a href="#_reservation_cockpit_component">==  Reservation Cockpit Component</a></li>
<li><a href="#_reservation_dialog">== Reservation-dialog</a></li>
<li><a href="#_email_management">Email Management</a></li>
<li><a href="#_accept_invite">==  Accept Invite</a></li>
<li><a href="#_reject_invite">==  Reject Invite</a></li>
<li><a href="#_cancel_reservation">==  Cancel Reservation</a></li>
<li><a href="#_cancel_orders">==  Cancel Orders</a></li>
<li><a href="#_services_and_directives">Services and directives</a></li>
<li><a href="#_price_calculator_service">Price-calculator-service</a></li>
<li><a href="#_authentication_4">Authentication</a></li>
<li><a href="#_snack_service">Snack Service</a></li>
<li><a href="#_window_service">Window Service</a></li>
<li><a href="#_equal_validator_directive">Equal-validator-directive</a></li>
<li><a href="#_mock_back_end">Mock Back-end</a></li>
<li><a href="#_booking">Booking</a></li>
<li><a href="#_orders">Orders</a></li>
<li><a href="#_dishes">Dishes</a></li>
<li><a href="#_login">Login</a></li>
<li><a href="#_security">Security</a></li>
<li><a href="#_auth_guard">Auth-guard</a></li>
<li><a href="#_jwt">JWT</a></li>
<li><a href="#_httpclient">==  HttpClient</a></li>
<li><a href="#_xamarin_design">Xamarin design</a></li>
</ul>
</li>
<li><a href="#_security_2">Security</a>
<ul class="sectlevel3">
<li><a href="#_two_factor_authentication">Two-Factor Authentication</a></li>
<li><a href="#_back_end_mechanism">Back-end mechanism</a></li>
<li><a href="#_activating_two_factor_authentication">Activating Two-Factor Authentication</a></li>
<li><a href="#_frontend">Frontend</a></li>
</ul>
</li>
<li><a href="#_testing">Testing</a></li>
<li><a href="#_server_side_2">Server Side</a>
<ul class="sectlevel4">
<li><a href="#_java_testing">Java testing</a></li>
<li><a href="#_component_testing">Component testing</a></li>
<li><a href="#_running_the_tests">Running the tests</a></li>
<li><a href="#_from_eclipse">From Eclipse</a></li>
<li><a href="#_from_command_line_using_maven">From command line using Maven</a></li>
<li><a href="#_net_testing">.NET testing</a></li>
<li><a href="#_nodejs_testing">NodeJS testing</a></li>
<li><a href="#_graphql_testing">GraphQL testing</a></li>
</ul>
</li>
<li><a href="#_client_side_2">Client Side</a>
<ul class="sectlevel4">
<li><a href="#_angular_testing">Angular testing</a></li>
<li><a href="#_3">==</a></li>
<li><a href="#_testing_components">Testing Components</a></li>
<li><a href="#_dialog_components">Dialog components</a></li>
<li><a href="#_testing_services">Testing Services</a></li>
<li><a href="#_testing_in_a_ci_environment">Testing in a CI environment</a></li>
<li><a href="#_xamarin_testing">Xamarin testing</a></li>
</ul>
</li>
<li><a href="#_end_to_end">End to end</a>
<ul class="sectlevel4">
<li><a href="#_mrchecker_e2e_testing">MrChecker E2E Testing</a></li>
<li><a href="#_introduction_5">Introduction</a></li>
<li><a href="#_how_to_use_it">How to use it</a></li>
<li><a href="#_end_to_end_tests_in_my_thai_star">End to end tests in My Thai Star</a></li>
</ul>
</li>
<li><a href="#_ui_design">UI design</a>
<ul class="sectlevel3">
<li><a href="#_style_guide">Style guide</a></li>
<li><a href="#_low_and_high_fidelity_wireframes">Low and high fidelity wireframes</a></li>
</ul>
</li>
<li><a href="#_cicd">CI/CD</a>
<ul class="sectlevel3">
<li><a href="#_my_thai_star_in_production_line">My Thai Star in Production Line</a></li>
<li><a href="#_what_is_pl">What is PL?</a></li>
<li><a href="#_introduction_6">Introduction</a></li>
<li><a href="#_where_can_i_find_all_my_thai_star_pipelines">Where can I find all My Thai Star Pipelines?</a></li>
<li><a href="#_ci_in_my_thai_star_stack">CI in My Thai Star stack</a></li>
<li><a href="#_how_to_configure_everything_out_of_the_box">How to configure everything out of the box</a></li>
<li><a href="#_deployment">Deployment</a></li>
<li><a href="#_where_docker_containers_will_be_running">Where Docker containers will be running?</a></li>
<li><a href="#_container_schema">Container Schema</a></li>
<li><a href="#_run_my_thai_star">Run My Thai Star</a></li>
<li><a href="#_mythaistar_on_native_kubernetes_as_a_service_nkaas"><code>MyThaiStar</code> on Native Kubernetes as a Service (nKaaS)</a></li>
<li><a href="#_setting_up_the_environment">Setting up the environment</a></li>
<li><a href="#_following_the_nkaas_guide">Following the nKaaS guide</a></li>
<li><a href="#_requesting_a_namespace">Requesting a namespace</a></li>
<li><a href="#_setting_up_harbor">Setting up Harbor</a></li>
<li><a href="#_setting_up_jenkins">Setting up Jenkins</a></li>
<li><a href="#_deploying_mts">Deploying MTS</a></li>
</ul>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_xamarin_design"><a class="anchor" href="#_xamarin_design"></a>Xamarin design</h5>
<div class="paragraph">
<p>TODO</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_security_2"><a class="anchor" href="#_security_2"></a>Security</h2>
<div class="sectionbody">
<div id="toc" class="toc">
<div id="toctitle" class="title">Table of Contents</div>
<ul class="sectlevel1">
<li><a href="#_mythaistar">MyThaiStar</a>
<ul class="sectlevel2">
<li><a href="#_1_my_thai_star_agile_framework">1.	My Thai Star – Agile Framework</a></li>
<li><a href="#_1_1_team_setup">1.1 Team Setup</a></li>
<li><a href="#_1_2_scrum_events">1.2 Scrum events</a></li>
<li><a href="#_sprint_planning">Sprint Planning</a></li>
<li><a href="#_sprint_review">Sprint Review</a></li>
<li><a href="#_sprint_retrospective">Sprint Retrospective</a></li>
<li><a href="#_daily_stand_ups">Daily Stand-ups</a></li>
<li><a href="#_backlog_refinement">Backlog refinement</a></li>
<li><a href="#_1_3_establish_product_backlog">1.3 Establish Product Backlog</a></li>
<li><a href="#_2_my_thai_star_agile_diary">2.	My Thai Star – Agile Diary</a></li>
<li><a href="#_24_03_2017_sprint_1_planning">24.03.2017 Sprint 1 Planning</a></li>
<li><a href="#_27_04_2017_sprint_1_review">27.04.2017 Sprint 1 Review</a></li>
<li><a href="#_03_05_2017_sprint_2_planning">03.05.2017 Sprint 2 Planning</a></li>
<li><a href="#_01_06_2017_sprint_2_review">01.06.2017 Sprint 2 Review</a></li>
<li><a href="#_user_stories">User Stories</a></li>
<li><a href="#_epic_invite_friends">Epic: Invite friends</a></li>
<li><a href="#_us_create_invite_for_friends">US: create invite for friends</a></li>
<li><a href="#_acceptance_criteria">== Acceptance criteria</a></li>
<li><a href="#_us_create_reservation">US: create reservation</a></li>
<li><a href="#_acceptance_criteria_2">== Acceptance criteria</a></li>
<li><a href="#_wireframes">== Wireframes</a></li>
<li><a href="#_us_handle_invite">US: handle invite</a></li>
<li><a href="#_ac">== AC:</a></li>
<li><a href="#_us_revoke_accepted_invite">US: revoke accepted invite</a></li>
<li><a href="#_ac_2">==  AC:</a></li>
<li><a href="#_us_calculate_best_table">US: calculate best table</a></li>
<li><a href="#_details">== Details</a></li>
<li><a href="#_us_find_table_by_reservation_info">US: find table by reservation info</a></li>
<li><a href="#_ac_3">== AC:</a></li>
<li><a href="#_us_cancel_invite">US: cancel invite</a></li>
<li><a href="#_ac_4">== AC:</a></li>
<li><a href="#_epic_digital_menu">Epic: Digital Menu</a></li>
<li><a href="#_us_filter_menu">US: filter menu</a></li>
<li><a href="#_ac_5">== AC:</a></li>
<li><a href="#_us_define_order">US: Define order</a></li>
<li><a href="#_ac_6">== AC:</a></li>
<li><a href="#_us_order_the_order">US: Order the order</a></li>
<li><a href="#_us_cancel_order">US: Cancel order</a></li>
<li><a href="#_us_read_twitter_rating_for_dishes">US: Read twitter rating for dishes</a></li>
<li><a href="#_epic_user_profile">Epic: User Profile</a></li>
<li><a href="#_us_user_profile">US: User Profile</a></li>
<li><a href="#_epic_rate_by_twitter">Epic: Rate by twitter</a></li>
<li><a href="#_us_receive_mail_to_rate_your_dish">US: Receive mail to rate your dish</a></li>
<li><a href="#_us_rate_your_dish">US: Rate your dish</a></li>
<li><a href="#_epic_waiter_cockpit">Epic: Waiter Cockpit</a></li>
<li><a href="#_us_see_all_ordersreservations">US: See all orders/reservations</a></li>
</ul>
</li>
<li><a href="#_technical_design">Technical design</a></li>
<li><a href="#_data_model">Data Model</a>
<ul class="sectlevel4">
<li><a href="#_data_model_2">Data Model</a></li>
<li><a href="#_nosql_data_model">NoSQL Data Model</a></li>
</ul>
</li>
<li><a href="#_server_side">Server Side</a>
<ul class="sectlevel4">
<li><a href="#_java_design">Java design</a></li>
<li><a href="#_introduction">Introduction</a></li>
<li><a href="#_basic_architecture_details">Basic architecture details</a></li>
<li><a href="#_project_modules">Project modules</a></li>
<li><a href="#_components">Components</a></li>
<li><a href="#_layers">Layers</a></li>
<li><a href="#_component_structure">Component structure</a></li>
<li><a href="#_dependency_injection">Dependency injection</a></li>
<li><a href="#_layers_communication">Layers communication</a></li>
<li><a href="#_service_layer">Service layer</a></li>
<li><a href="#_service_api">Service API</a></li>
<li><a href="#_service_impl">Service <code>impl</code></a></li>
<li><a href="#">==</a></li>
<li><a href="#_logic_layer">Logic layer</a></li>
<li><a href="#_data_access_layer">Data Access layer</a></li>
<li><a href="#_security_with_json_web_token">Security with Json Web Token</a></li>
<li><a href="#_jwt_basics">JWT basics</a></li>
<li><a href="#_jwt_implementation_details">JWT implementation details</a></li>
<li><a href="#_authentication">==  Authentication</a></li>
<li><a href="#_token_set_up">==  Token set up</a></li>
<li><a href="#_current_user_request">==  Current User request</a></li>
<li><a href="#_authorization">==  Authorization</a></li>
<li><a href="#_net_design">.NET design</a></li>
<li><a href="#_nodejs_design_deprecated">NodeJS design (deprecated)</a></li>
<li><a href="#_introduction_2">Introduction</a></li>
<li><a href="#_basic_architecture_details_2">Basic architecture details</a></li>
<li><a href="#_layers_2">Layers</a></li>
<li><a href="#_service_layer_2">Service layer</a></li>
<li><a href="#_logic_layer_and_data_access_layer">Logic layer and Data access layer</a></li>
<li><a href="#_security_with_json_web_token_2">Security with Json Web Token</a></li>
<li><a href="#_jwt_basics_2">JWT basics</a></li>
<li><a href="#_jwt_implementation_details_2">JWT implementation details</a></li>
<li><a href="#_authentication_2">==  Authentication</a></li>
<li><a href="#_token_set_up_2">==  Token set up</a></li>
<li><a href="#_current_user_request_2">==  Current User request</a></li>
<li><a href="#_authorization_2">==  Authorization</a></li>
<li><a href="#_serverless_design_deprecated">Serverless design (deprecated)</a></li>
<li><a href="#_introduction_3">Introduction</a></li>
<li><a href="#_basic_architecture_details_3">Basic architecture details</a></li>
<li><a href="#_layers_3">Layers</a></li>
<li><a href="#_service_layer_3">Service layer</a></li>
<li><a href="#_2">==</a></li>
<li><a href="#_logic_layer_and_data_access_layer_2">Logic layer and Data access layer</a></li>
<li><a href="#_security_with_json_web_token_3">Security with Json Web Token</a></li>
<li><a href="#_jwt_basics_3">JWT basics</a></li>
<li><a href="#_jwt_implementation_details_3">JWT implementation details</a></li>
<li><a href="#_authentication_3">==  Authentication</a></li>
<li><a href="#_token_set_up_3">==  Token set up</a></li>
<li><a href="#_current_user_request_3">==  Current User request</a></li>
<li><a href="#_authorization_3">==  Authorization</a></li>
<li><a href="#_graphql_design">GraphQL design</a></li>
</ul>
</li>
<li><a href="#_client_side">Client Side</a>
<ul class="sectlevel4">
<li><a href="#_angular_design">Angular design</a></li>
<li><a href="#_introduction_4">Introduction</a></li>
<li><a href="#_basic_project_structure">Basic project structure</a></li>
<li><a href="#_main_views_and_components">Main Views and components</a></li>
<li><a href="#_public_area">Public area</a></li>
<li><a href="#_app_component">==  App Component</a></li>
<li><a href="#_order_sidenav">== Order sidenav</a></li>
<li><a href="#_navigation_sidenav_only_for_mobile">== Navigation sidenav (only for mobile)</a></li>
<li><a href="#_header">== Header</a></li>
<li><a href="#_footer_only_for_desktop">== Footer (only for desktop)</a></li>
<li><a href="#_home_component">==  Home-Component</a></li>
<li><a href="#_menu_component">==  Menu-Component</a></li>
<li><a href="#_menu_card">== Menu-card</a></li>
<li><a href="#_book_table_component">==  Book Table Component</a></li>
<li><a href="#_book_table_dialog">== Book-table-dialog</a></li>
<li><a href="#_invitation_dialog">== Invitation-dialog</a></li>
<li><a href="#_user_area">==  User Area</a></li>
<li><a href="#_login_dialog">== Login-dialog</a></li>
<li><a href="#_password_dialog">== Password-dialog</a></li>
<li><a href="#_twitter_dialog">== Twitter-dialog</a></li>
<li><a href="#_waiter_cockpit_area">Waiter cockpit area</a></li>
<li><a href="#_order_cockpit_component">==  Order Cockpit Component</a></li>
<li><a href="#_order_dialog">== Order-dialog</a></li>
<li><a href="#_reservation_cockpit_component">==  Reservation Cockpit Component</a></li>
<li><a href="#_reservation_dialog">== Reservation-dialog</a></li>
<li><a href="#_email_management">Email Management</a></li>
<li><a href="#_accept_invite">==  Accept Invite</a></li>
<li><a href="#_reject_invite">==  Reject Invite</a></li>
<li><a href="#_cancel_reservation">==  Cancel Reservation</a></li>
<li><a href="#_cancel_orders">==  Cancel Orders</a></li>
<li><a href="#_services_and_directives">Services and directives</a></li>
<li><a href="#_price_calculator_service">Price-calculator-service</a></li>
<li><a href="#_authentication_4">Authentication</a></li>
<li><a href="#_snack_service">Snack Service</a></li>
<li><a href="#_window_service">Window Service</a></li>
<li><a href="#_equal_validator_directive">Equal-validator-directive</a></li>
<li><a href="#_mock_back_end">Mock Back-end</a></li>
<li><a href="#_booking">Booking</a></li>
<li><a href="#_orders">Orders</a></li>
<li><a href="#_dishes">Dishes</a></li>
<li><a href="#_login">Login</a></li>
<li><a href="#_security">Security</a></li>
<li><a href="#_auth_guard">Auth-guard</a></li>
<li><a href="#_jwt">JWT</a></li>
<li><a href="#_httpclient">==  HttpClient</a></li>
<li><a href="#_xamarin_design">Xamarin design</a></li>
</ul>
</li>
<li><a href="#_security_2">Security</a>
<ul class="sectlevel3">
<li><a href="#_two_factor_authentication">Two-Factor Authentication</a></li>
<li><a href="#_back_end_mechanism">Back-end mechanism</a></li>
<li><a href="#_activating_two_factor_authentication">Activating Two-Factor Authentication</a></li>
<li><a href="#_frontend">Frontend</a></li>
</ul>
</li>
<li><a href="#_testing">Testing</a></li>
<li><a href="#_server_side_2">Server Side</a>
<ul class="sectlevel4">
<li><a href="#_java_testing">Java testing</a></li>
<li><a href="#_component_testing">Component testing</a></li>
<li><a href="#_running_the_tests">Running the tests</a></li>
<li><a href="#_from_eclipse">From Eclipse</a></li>
<li><a href="#_from_command_line_using_maven">From command line using Maven</a></li>
<li><a href="#_net_testing">.NET testing</a></li>
<li><a href="#_nodejs_testing">NodeJS testing</a></li>
<li><a href="#_graphql_testing">GraphQL testing</a></li>
</ul>
</li>
<li><a href="#_client_side_2">Client Side</a>
<ul class="sectlevel4">
<li><a href="#_angular_testing">Angular testing</a></li>
<li><a href="#_3">==</a></li>
<li><a href="#_testing_components">Testing Components</a></li>
<li><a href="#_dialog_components">Dialog components</a></li>
<li><a href="#_testing_services">Testing Services</a></li>
<li><a href="#_testing_in_a_ci_environment">Testing in a CI environment</a></li>
<li><a href="#_xamarin_testing">Xamarin testing</a></li>
</ul>
</li>
<li><a href="#_end_to_end">End to end</a>
<ul class="sectlevel4">
<li><a href="#_mrchecker_e2e_testing">MrChecker E2E Testing</a></li>
<li><a href="#_introduction_5">Introduction</a></li>
<li><a href="#_how_to_use_it">How to use it</a></li>
<li><a href="#_end_to_end_tests_in_my_thai_star">End to end tests in My Thai Star</a></li>
</ul>
</li>
<li><a href="#_ui_design">UI design</a>
<ul class="sectlevel3">
<li><a href="#_style_guide">Style guide</a></li>
<li><a href="#_low_and_high_fidelity_wireframes">Low and high fidelity wireframes</a></li>
</ul>
</li>
<li><a href="#_cicd">CI/CD</a>
<ul class="sectlevel3">
<li><a href="#_my_thai_star_in_production_line">My Thai Star in Production Line</a></li>
<li><a href="#_what_is_pl">What is PL?</a></li>
<li><a href="#_introduction_6">Introduction</a></li>
<li><a href="#_where_can_i_find_all_my_thai_star_pipelines">Where can I find all My Thai Star Pipelines?</a></li>
<li><a href="#_ci_in_my_thai_star_stack">CI in My Thai Star stack</a></li>
<li><a href="#_how_to_configure_everything_out_of_the_box">How to configure everything out of the box</a></li>
<li><a href="#_deployment">Deployment</a></li>
<li><a href="#_where_docker_containers_will_be_running">Where Docker containers will be running?</a></li>
<li><a href="#_container_schema">Container Schema</a></li>
<li><a href="#_run_my_thai_star">Run My Thai Star</a></li>
<li><a href="#_mythaistar_on_native_kubernetes_as_a_service_nkaas"><code>MyThaiStar</code> on Native Kubernetes as a Service (nKaaS)</a></li>
<li><a href="#_setting_up_the_environment">Setting up the environment</a></li>
<li><a href="#_following_the_nkaas_guide">Following the nKaaS guide</a></li>
<li><a href="#_requesting_a_namespace">Requesting a namespace</a></li>
<li><a href="#_setting_up_harbor">Setting up Harbor</a></li>
<li><a href="#_setting_up_jenkins">Setting up Jenkins</a></li>
<li><a href="#_deploying_mts">Deploying MTS</a></li>
</ul>
</li>
</ul>
</div>
<div class="sect3">
<h4 id="_two_factor_authentication"><a class="anchor" href="#_two_factor_authentication"></a>Two-Factor Authentication</h4>
<div class="paragraph">
<p>Two-factor Authentication (2FA) provides an additional level of security to your account. Once enabled, in addition to supplying your username and password to login, you’ll be prompted for a code generated by your Google Authenticator. For example, a password manager on one of your devices.</p>
</div>
<div class="paragraph">
<p>By enabling 2FA, to log into your account an additional one-time password is required what requires access to your paired device. This massively increases the barrier for an attacker to break into your account.</p>
</div>
</div>
<div class="sect3">
<h4 id="_back_end_mechanism"><a class="anchor" href="#_back_end_mechanism"></a>Back-end mechanism</h4>
<div class="paragraph">
<p>In the back-end, we utilize Spring Security for any authentication.</p>
</div>
<div class="paragraph">
<p>Following the arrows, one can see all processes regarding authentication. The main idea is to check all credentials depending on their 2FA status and then either grand access to the specific user or deny access. This picture illustrates a normal authentication with username and password.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="_images/images/security/security_cross_component.png" alt="security cross component">
</div>
</div>
<div class="paragraph">
<p>When dealing with 2FA, another provider and filter is handling the request from <strong>/verify</strong></p>
</div>
<div class="imageblock">
<div class="content">
<img src="_images/images/security/security_cross_component_twofactor.png" alt="security cross component twofactor">
</div>
</div>
<div class="paragraph">
<p>Here you can observe which filter will be used.
<strong>JWT-Authentication-Filter</strong> does intercept any request, which enforces being authenticated via JWT</p>
</div>
<div class="imageblock">
<div class="content">
<img src="_images/images/security/filters_png.png" alt="filters png">
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Whenever the secret or qr code gets transferred between two parties, one must enforce <a href="https://tools.ietf.org/html/rfc5246">SSL/TLS</a> or <a href="https://tools.ietf.org/html/rfc4301">IPsec</a> to be comply with <a href="https://tools.ietf.org/html/rfc6238#page-5">RFC 6238</a>.
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="_activating_two_factor_authentication"><a class="anchor" href="#_activating_two_factor_authentication"></a>Activating Two-Factor Authentication</h4>
<div class="paragraph">
<p>In the current state, <a href="https://en.wikipedia.org/wiki/Time-based_One-time_Password_algorithm">TOTP</a>
will be used for OTP generation. For this purpose we recommend the <strong>Google Authenticator</strong> or any TOTP generator out there.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Login with your account</p>
</li>
<li>
<p>Open the 2FA settings</p>
</li>
<li>
<p>Activate the 2FA Status</p>
</li>
<li>
<p>Initialize your device with either a <strong>QR-Code</strong> or a <strong>secret</strong></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_frontend"><a class="anchor" href="#_frontend"></a>Frontend</h4>
<div class="paragraph">
<p>These are the two main options, which you can obtain my toggling between <strong>QR-Code</strong> and <strong>secret</strong>.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="_images/images/security/2FA_qr_code_menu.png" alt="2FA qr code menu">
</div>
</div>
<div class="imageblock">
<div class="content">
<img src="_images/images/security/2FA_secret_menu.png" alt="2FA secret menu">
</div>
</div>
<div class="paragraph">
<p>After an activation and logout. This prompt will ask you to enter the OTP given from your device.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="_images/images/security/otp_prompt.png" alt="otp prompt">
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_testing"><a class="anchor" href="#_testing"></a>Testing</h2>
<div class="sectionbody">

</div>
</div>
<div class="sect1">
<h2 id="_server_side_2"><a class="anchor" href="#_server_side_2"></a>Server Side</h2>
<div class="sectionbody">
<div id="toc" class="toc">
<div id="toctitle" class="title">Table of Contents</div>
<ul class="sectlevel1">
<li><a href="#_mythaistar">MyThaiStar</a>
<ul class="sectlevel2">
<li><a href="#_1_my_thai_star_agile_framework">1.	My Thai Star – Agile Framework</a></li>
<li><a href="#_1_1_team_setup">1.1 Team Setup</a></li>
<li><a href="#_1_2_scrum_events">1.2 Scrum events</a></li>
<li><a href="#_sprint_planning">Sprint Planning</a></li>
<li><a href="#_sprint_review">Sprint Review</a></li>
<li><a href="#_sprint_retrospective">Sprint Retrospective</a></li>
<li><a href="#_daily_stand_ups">Daily Stand-ups</a></li>
<li><a href="#_backlog_refinement">Backlog refinement</a></li>
<li><a href="#_1_3_establish_product_backlog">1.3 Establish Product Backlog</a></li>
<li><a href="#_2_my_thai_star_agile_diary">2.	My Thai Star – Agile Diary</a></li>
<li><a href="#_24_03_2017_sprint_1_planning">24.03.2017 Sprint 1 Planning</a></li>
<li><a href="#_27_04_2017_sprint_1_review">27.04.2017 Sprint 1 Review</a></li>
<li><a href="#_03_05_2017_sprint_2_planning">03.05.2017 Sprint 2 Planning</a></li>
<li><a href="#_01_06_2017_sprint_2_review">01.06.2017 Sprint 2 Review</a></li>
<li><a href="#_user_stories">User Stories</a></li>
<li><a href="#_epic_invite_friends">Epic: Invite friends</a></li>
<li><a href="#_us_create_invite_for_friends">US: create invite for friends</a></li>
<li><a href="#_acceptance_criteria">== Acceptance criteria</a></li>
<li><a href="#_us_create_reservation">US: create reservation</a></li>
<li><a href="#_acceptance_criteria_2">== Acceptance criteria</a></li>
<li><a href="#_wireframes">== Wireframes</a></li>
<li><a href="#_us_handle_invite">US: handle invite</a></li>
<li><a href="#_ac">== AC:</a></li>
<li><a href="#_us_revoke_accepted_invite">US: revoke accepted invite</a></li>
<li><a href="#_ac_2">==  AC:</a></li>
<li><a href="#_us_calculate_best_table">US: calculate best table</a></li>
<li><a href="#_details">== Details</a></li>
<li><a href="#_us_find_table_by_reservation_info">US: find table by reservation info</a></li>
<li><a href="#_ac_3">== AC:</a></li>
<li><a href="#_us_cancel_invite">US: cancel invite</a></li>
<li><a href="#_ac_4">== AC:</a></li>
<li><a href="#_epic_digital_menu">Epic: Digital Menu</a></li>
<li><a href="#_us_filter_menu">US: filter menu</a></li>
<li><a href="#_ac_5">== AC:</a></li>
<li><a href="#_us_define_order">US: Define order</a></li>
<li><a href="#_ac_6">== AC:</a></li>
<li><a href="#_us_order_the_order">US: Order the order</a></li>
<li><a href="#_us_cancel_order">US: Cancel order</a></li>
<li><a href="#_us_read_twitter_rating_for_dishes">US: Read twitter rating for dishes</a></li>
<li><a href="#_epic_user_profile">Epic: User Profile</a></li>
<li><a href="#_us_user_profile">US: User Profile</a></li>
<li><a href="#_epic_rate_by_twitter">Epic: Rate by twitter</a></li>
<li><a href="#_us_receive_mail_to_rate_your_dish">US: Receive mail to rate your dish</a></li>
<li><a href="#_us_rate_your_dish">US: Rate your dish</a></li>
<li><a href="#_epic_waiter_cockpit">Epic: Waiter Cockpit</a></li>
<li><a href="#_us_see_all_ordersreservations">US: See all orders/reservations</a></li>
</ul>
</li>
<li><a href="#_technical_design">Technical design</a></li>
<li><a href="#_data_model">Data Model</a>
<ul class="sectlevel4">
<li><a href="#_data_model_2">Data Model</a></li>
<li><a href="#_nosql_data_model">NoSQL Data Model</a></li>
</ul>
</li>
<li><a href="#_server_side">Server Side</a>
<ul class="sectlevel4">
<li><a href="#_java_design">Java design</a></li>
<li><a href="#_introduction">Introduction</a></li>
<li><a href="#_basic_architecture_details">Basic architecture details</a></li>
<li><a href="#_project_modules">Project modules</a></li>
<li><a href="#_components">Components</a></li>
<li><a href="#_layers">Layers</a></li>
<li><a href="#_component_structure">Component structure</a></li>
<li><a href="#_dependency_injection">Dependency injection</a></li>
<li><a href="#_layers_communication">Layers communication</a></li>
<li><a href="#_service_layer">Service layer</a></li>
<li><a href="#_service_api">Service API</a></li>
<li><a href="#_service_impl">Service <code>impl</code></a></li>
<li><a href="#">==</a></li>
<li><a href="#_logic_layer">Logic layer</a></li>
<li><a href="#_data_access_layer">Data Access layer</a></li>
<li><a href="#_security_with_json_web_token">Security with Json Web Token</a></li>
<li><a href="#_jwt_basics">JWT basics</a></li>
<li><a href="#_jwt_implementation_details">JWT implementation details</a></li>
<li><a href="#_authentication">==  Authentication</a></li>
<li><a href="#_token_set_up">==  Token set up</a></li>
<li><a href="#_current_user_request">==  Current User request</a></li>
<li><a href="#_authorization">==  Authorization</a></li>
<li><a href="#_net_design">.NET design</a></li>
<li><a href="#_nodejs_design_deprecated">NodeJS design (deprecated)</a></li>
<li><a href="#_introduction_2">Introduction</a></li>
<li><a href="#_basic_architecture_details_2">Basic architecture details</a></li>
<li><a href="#_layers_2">Layers</a></li>
<li><a href="#_service_layer_2">Service layer</a></li>
<li><a href="#_logic_layer_and_data_access_layer">Logic layer and Data access layer</a></li>
<li><a href="#_security_with_json_web_token_2">Security with Json Web Token</a></li>
<li><a href="#_jwt_basics_2">JWT basics</a></li>
<li><a href="#_jwt_implementation_details_2">JWT implementation details</a></li>
<li><a href="#_authentication_2">==  Authentication</a></li>
<li><a href="#_token_set_up_2">==  Token set up</a></li>
<li><a href="#_current_user_request_2">==  Current User request</a></li>
<li><a href="#_authorization_2">==  Authorization</a></li>
<li><a href="#_serverless_design_deprecated">Serverless design (deprecated)</a></li>
<li><a href="#_introduction_3">Introduction</a></li>
<li><a href="#_basic_architecture_details_3">Basic architecture details</a></li>
<li><a href="#_layers_3">Layers</a></li>
<li><a href="#_service_layer_3">Service layer</a></li>
<li><a href="#_2">==</a></li>
<li><a href="#_logic_layer_and_data_access_layer_2">Logic layer and Data access layer</a></li>
<li><a href="#_security_with_json_web_token_3">Security with Json Web Token</a></li>
<li><a href="#_jwt_basics_3">JWT basics</a></li>
<li><a href="#_jwt_implementation_details_3">JWT implementation details</a></li>
<li><a href="#_authentication_3">==  Authentication</a></li>
<li><a href="#_token_set_up_3">==  Token set up</a></li>
<li><a href="#_current_user_request_3">==  Current User request</a></li>
<li><a href="#_authorization_3">==  Authorization</a></li>
<li><a href="#_graphql_design">GraphQL design</a></li>
</ul>
</li>
<li><a href="#_client_side">Client Side</a>
<ul class="sectlevel4">
<li><a href="#_angular_design">Angular design</a></li>
<li><a href="#_introduction_4">Introduction</a></li>
<li><a href="#_basic_project_structure">Basic project structure</a></li>
<li><a href="#_main_views_and_components">Main Views and components</a></li>
<li><a href="#_public_area">Public area</a></li>
<li><a href="#_app_component">==  App Component</a></li>
<li><a href="#_order_sidenav">== Order sidenav</a></li>
<li><a href="#_navigation_sidenav_only_for_mobile">== Navigation sidenav (only for mobile)</a></li>
<li><a href="#_header">== Header</a></li>
<li><a href="#_footer_only_for_desktop">== Footer (only for desktop)</a></li>
<li><a href="#_home_component">==  Home-Component</a></li>
<li><a href="#_menu_component">==  Menu-Component</a></li>
<li><a href="#_menu_card">== Menu-card</a></li>
<li><a href="#_book_table_component">==  Book Table Component</a></li>
<li><a href="#_book_table_dialog">== Book-table-dialog</a></li>
<li><a href="#_invitation_dialog">== Invitation-dialog</a></li>
<li><a href="#_user_area">==  User Area</a></li>
<li><a href="#_login_dialog">== Login-dialog</a></li>
<li><a href="#_password_dialog">== Password-dialog</a></li>
<li><a href="#_twitter_dialog">== Twitter-dialog</a></li>
<li><a href="#_waiter_cockpit_area">Waiter cockpit area</a></li>
<li><a href="#_order_cockpit_component">==  Order Cockpit Component</a></li>
<li><a href="#_order_dialog">== Order-dialog</a></li>
<li><a href="#_reservation_cockpit_component">==  Reservation Cockpit Component</a></li>
<li><a href="#_reservation_dialog">== Reservation-dialog</a></li>
<li><a href="#_email_management">Email Management</a></li>
<li><a href="#_accept_invite">==  Accept Invite</a></li>
<li><a href="#_reject_invite">==  Reject Invite</a></li>
<li><a href="#_cancel_reservation">==  Cancel Reservation</a></li>
<li><a href="#_cancel_orders">==  Cancel Orders</a></li>
<li><a href="#_services_and_directives">Services and directives</a></li>
<li><a href="#_price_calculator_service">Price-calculator-service</a></li>
<li><a href="#_authentication_4">Authentication</a></li>
<li><a href="#_snack_service">Snack Service</a></li>
<li><a href="#_window_service">Window Service</a></li>
<li><a href="#_equal_validator_directive">Equal-validator-directive</a></li>
<li><a href="#_mock_back_end">Mock Back-end</a></li>
<li><a href="#_booking">Booking</a></li>
<li><a href="#_orders">Orders</a></li>
<li><a href="#_dishes">Dishes</a></li>
<li><a href="#_login">Login</a></li>
<li><a href="#_security">Security</a></li>
<li><a href="#_auth_guard">Auth-guard</a></li>
<li><a href="#_jwt">JWT</a></li>
<li><a href="#_httpclient">==  HttpClient</a></li>
<li><a href="#_xamarin_design">Xamarin design</a></li>
</ul>
</li>
<li><a href="#_security_2">Security</a>
<ul class="sectlevel3">
<li><a href="#_two_factor_authentication">Two-Factor Authentication</a></li>
<li><a href="#_back_end_mechanism">Back-end mechanism</a></li>
<li><a href="#_activating_two_factor_authentication">Activating Two-Factor Authentication</a></li>
<li><a href="#_frontend">Frontend</a></li>
</ul>
</li>
<li><a href="#_testing">Testing</a></li>
<li><a href="#_server_side_2">Server Side</a>
<ul class="sectlevel4">
<li><a href="#_java_testing">Java testing</a></li>
<li><a href="#_component_testing">Component testing</a></li>
<li><a href="#_running_the_tests">Running the tests</a></li>
<li><a href="#_from_eclipse">From Eclipse</a></li>
<li><a href="#_from_command_line_using_maven">From command line using Maven</a></li>
<li><a href="#_net_testing">.NET testing</a></li>
<li><a href="#_nodejs_testing">NodeJS testing</a></li>
<li><a href="#_graphql_testing">GraphQL testing</a></li>
</ul>
</li>
<li><a href="#_client_side_2">Client Side</a>
<ul class="sectlevel4">
<li><a href="#_angular_testing">Angular testing</a></li>
<li><a href="#_3">==</a></li>
<li><a href="#_testing_components">Testing Components</a></li>
<li><a href="#_dialog_components">Dialog components</a></li>
<li><a href="#_testing_services">Testing Services</a></li>
<li><a href="#_testing_in_a_ci_environment">Testing in a CI environment</a></li>
<li><a href="#_xamarin_testing">Xamarin testing</a></li>
</ul>
</li>
<li><a href="#_end_to_end">End to end</a>
<ul class="sectlevel4">
<li><a href="#_mrchecker_e2e_testing">MrChecker E2E Testing</a></li>
<li><a href="#_introduction_5">Introduction</a></li>
<li><a href="#_how_to_use_it">How to use it</a></li>
<li><a href="#_end_to_end_tests_in_my_thai_star">End to end tests in My Thai Star</a></li>
</ul>
</li>
<li><a href="#_ui_design">UI design</a>
<ul class="sectlevel3">
<li><a href="#_style_guide">Style guide</a></li>
<li><a href="#_low_and_high_fidelity_wireframes">Low and high fidelity wireframes</a></li>
</ul>
</li>
<li><a href="#_cicd">CI/CD</a>
<ul class="sectlevel3">
<li><a href="#_my_thai_star_in_production_line">My Thai Star in Production Line</a></li>
<li><a href="#_what_is_pl">What is PL?</a></li>
<li><a href="#_introduction_6">Introduction</a></li>
<li><a href="#_where_can_i_find_all_my_thai_star_pipelines">Where can I find all My Thai Star Pipelines?</a></li>
<li><a href="#_ci_in_my_thai_star_stack">CI in My Thai Star stack</a></li>
<li><a href="#_how_to_configure_everything_out_of_the_box">How to configure everything out of the box</a></li>
<li><a href="#_deployment">Deployment</a></li>
<li><a href="#_where_docker_containers_will_be_running">Where Docker containers will be running?</a></li>
<li><a href="#_container_schema">Container Schema</a></li>
<li><a href="#_run_my_thai_star">Run My Thai Star</a></li>
<li><a href="#_mythaistar_on_native_kubernetes_as_a_service_nkaas"><code>MyThaiStar</code> on Native Kubernetes as a Service (nKaaS)</a></li>
<li><a href="#_setting_up_the_environment">Setting up the environment</a></li>
<li><a href="#_following_the_nkaas_guide">Following the nKaaS guide</a></li>
<li><a href="#_requesting_a_namespace">Requesting a namespace</a></li>
<li><a href="#_setting_up_harbor">Setting up Harbor</a></li>
<li><a href="#_setting_up_jenkins">Setting up Jenkins</a></li>
<li><a href="#_deploying_mts">Deploying MTS</a></li>
</ul>
</li>
</ul>
</div>
<div class="sect4">
<h5 id="_java_testing"><a class="anchor" href="#_java_testing"></a>Java testing</h5>

</div>
<div class="sect4">
<h5 id="_component_testing"><a class="anchor" href="#_component_testing"></a>Component testing</h5>
<div class="paragraph">
<p>We are going to test our components as a unit using <em>Spring Test</em> and <em>Devon4j-test</em> modules.</p>
</div>
<div class="paragraph">
<p>In order to test a basic component of the app first we will create a test class in the <code>src/test/java</code> folder and inside the main package of the test module. We will name the class following the convention.</p>
</div>
<div class="listingblock">
<div class="content">
<pre>[Component]Test</pre>
</div>
</div>
<div class="paragraph">
<p>Then, in the declaration of the test class, we will use the <code>@SpringBootTest</code> annotation to run the application context. In addition, we will extend the <code>ComponentTest</code> from <code>Devon4j-test</code> module to have access to the main functionalities of the module, <a href="https://github.com/devonfw/devon4j/wiki/guide-testing">see more details here</a>.</p>
</div>
<div class="paragraph">
<p><em>Spring Test</em> allows us to use <em>Dependency Injection</em> so we can inject our component directly using the <code>@Inject</code> annotation.</p>
</div>
<div class="paragraph">
<p>Each test will be represented by a method annotated with <code>@Test</code>. Inside the method we will test one functionality, evaluating the result thanks to the <em>asserts</em> provided by the <code><em>ComponentTest</em></code> class that we are extending.</p>
</div>
<div class="paragraph">
<p>A simple test example</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">@SpringBootTest(classes = SpringBootApp.class)
public class DishmanagementTest extends `ComponentTest` {

  @Inject
  private Dishmanagement dishmanagement;

  @Test
  public void findAllDishes() {

    PaginatedListTo&lt;DishCto&gt; result = this.dishmanagement.findDishes();
    assertThat(result).isNotNull();
  }

  ...
}</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_running_the_tests"><a class="anchor" href="#_running_the_tests"></a>Running the tests</h5>

</div>
<div class="sect4">
<h5 id="_from_eclipse"><a class="anchor" href="#_from_eclipse"></a>From Eclipse</h5>
<div class="paragraph">
<p>We can run the test from within <em>Eclipse</em> with the contextual menu <em>Run As &gt; JUnit Test</em>. This functionality can be launched from method level, class level or even package level. The results will be shown in the <em>JUnit</em> tab.</p>
</div>
<div class="imageblock">
<div class="content">
<a class="image" href="images/java/test_results_eclipse.PNG"><img src="_images/images/java/test_results_eclipse.PNG" alt="test results eclipse"></a>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_from_command_line_using_maven"><a class="anchor" href="#_from_command_line_using_maven"></a>From command line using Maven</h5>
<div class="paragraph">
<p>We can also run tests using <em>Maven</em> and the command line, using the command <code><em>mvn test</em></code> (or <code><em>mvn clean test</em></code>).</p>
</div>
<div class="listingblock">
<div class="content">
<pre>`C:\MyThaiStar&gt;mvn clean test`</pre>
</div>
</div>
<div class="paragraph">
<p>Doing this we will run all the tests of the project (recognized by the <em>Test</em> word at the end of the classes) and the results will be shown by sub-project.</p>
</div>
<div class="listingblock">
<div class="content">
<pre>...

[D: 2017-07-17 09:30:08,457] [P: INFO ] [C: ] [T: Thread-5] [L: org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean] - [M: Closing JPA EntityManagerFactory for persistence unit 'default']

Results :

Tests run: 11, Failures: 0, Errors: 0, Skipped: 1

...

[INFO]
[INFO] --- maven-compiler-plugin:3.1:testCompile (default-testCompile) @ mtsj-server ---
[INFO] No sources to compile
[INFO]
[INFO] --- maven-surefire-plugin:2.12.4:test (default-test) @ mtsj-server ---
[INFO] No tests to run.
[INFO] ------------------------------------------------------------------------
[INFO] Reactor Summary:
[INFO]
[INFO] mtsj ............................................... SUCCESS [  0.902 s]
[INFO] mtsj-core .......................................... SUCCESS [02:30 min]
[INFO] mtsj-server ........................................ SUCCESS [  1.123 s]
[INFO] ------------------------------------------------------------------------
[INFO] BUILD SUCCESS
[INFO] ------------------------------------------------------------------------
[INFO] Total time: 02:35 min
[INFO] Finished at: 20XX-07-17T09:30:13+02:00
[INFO] Final Memory: 39M/193M
[INFO] ------------------------------------------------------------------------</pre>
</div>
</div>
<div id="toc" class="toc">
<div id="toctitle" class="title">Table of Contents</div>
<ul class="sectlevel1">
<li><a href="#_mythaistar">MyThaiStar</a>
<ul class="sectlevel2">
<li><a href="#_1_my_thai_star_agile_framework">1.	My Thai Star – Agile Framework</a></li>
<li><a href="#_1_1_team_setup">1.1 Team Setup</a></li>
<li><a href="#_1_2_scrum_events">1.2 Scrum events</a></li>
<li><a href="#_sprint_planning">Sprint Planning</a></li>
<li><a href="#_sprint_review">Sprint Review</a></li>
<li><a href="#_sprint_retrospective">Sprint Retrospective</a></li>
<li><a href="#_daily_stand_ups">Daily Stand-ups</a></li>
<li><a href="#_backlog_refinement">Backlog refinement</a></li>
<li><a href="#_1_3_establish_product_backlog">1.3 Establish Product Backlog</a></li>
<li><a href="#_2_my_thai_star_agile_diary">2.	My Thai Star – Agile Diary</a></li>
<li><a href="#_24_03_2017_sprint_1_planning">24.03.2017 Sprint 1 Planning</a></li>
<li><a href="#_27_04_2017_sprint_1_review">27.04.2017 Sprint 1 Review</a></li>
<li><a href="#_03_05_2017_sprint_2_planning">03.05.2017 Sprint 2 Planning</a></li>
<li><a href="#_01_06_2017_sprint_2_review">01.06.2017 Sprint 2 Review</a></li>
<li><a href="#_user_stories">User Stories</a></li>
<li><a href="#_epic_invite_friends">Epic: Invite friends</a></li>
<li><a href="#_us_create_invite_for_friends">US: create invite for friends</a></li>
<li><a href="#_acceptance_criteria">== Acceptance criteria</a></li>
<li><a href="#_us_create_reservation">US: create reservation</a></li>
<li><a href="#_acceptance_criteria_2">== Acceptance criteria</a></li>
<li><a href="#_wireframes">== Wireframes</a></li>
<li><a href="#_us_handle_invite">US: handle invite</a></li>
<li><a href="#_ac">== AC:</a></li>
<li><a href="#_us_revoke_accepted_invite">US: revoke accepted invite</a></li>
<li><a href="#_ac_2">==  AC:</a></li>
<li><a href="#_us_calculate_best_table">US: calculate best table</a></li>
<li><a href="#_details">== Details</a></li>
<li><a href="#_us_find_table_by_reservation_info">US: find table by reservation info</a></li>
<li><a href="#_ac_3">== AC:</a></li>
<li><a href="#_us_cancel_invite">US: cancel invite</a></li>
<li><a href="#_ac_4">== AC:</a></li>
<li><a href="#_epic_digital_menu">Epic: Digital Menu</a></li>
<li><a href="#_us_filter_menu">US: filter menu</a></li>
<li><a href="#_ac_5">== AC:</a></li>
<li><a href="#_us_define_order">US: Define order</a></li>
<li><a href="#_ac_6">== AC:</a></li>
<li><a href="#_us_order_the_order">US: Order the order</a></li>
<li><a href="#_us_cancel_order">US: Cancel order</a></li>
<li><a href="#_us_read_twitter_rating_for_dishes">US: Read twitter rating for dishes</a></li>
<li><a href="#_epic_user_profile">Epic: User Profile</a></li>
<li><a href="#_us_user_profile">US: User Profile</a></li>
<li><a href="#_epic_rate_by_twitter">Epic: Rate by twitter</a></li>
<li><a href="#_us_receive_mail_to_rate_your_dish">US: Receive mail to rate your dish</a></li>
<li><a href="#_us_rate_your_dish">US: Rate your dish</a></li>
<li><a href="#_epic_waiter_cockpit">Epic: Waiter Cockpit</a></li>
<li><a href="#_us_see_all_ordersreservations">US: See all orders/reservations</a></li>
</ul>
</li>
<li><a href="#_technical_design">Technical design</a></li>
<li><a href="#_data_model">Data Model</a>
<ul class="sectlevel4">
<li><a href="#_data_model_2">Data Model</a></li>
<li><a href="#_nosql_data_model">NoSQL Data Model</a></li>
</ul>
</li>
<li><a href="#_server_side">Server Side</a>
<ul class="sectlevel4">
<li><a href="#_java_design">Java design</a></li>
<li><a href="#_introduction">Introduction</a></li>
<li><a href="#_basic_architecture_details">Basic architecture details</a></li>
<li><a href="#_project_modules">Project modules</a></li>
<li><a href="#_components">Components</a></li>
<li><a href="#_layers">Layers</a></li>
<li><a href="#_component_structure">Component structure</a></li>
<li><a href="#_dependency_injection">Dependency injection</a></li>
<li><a href="#_layers_communication">Layers communication</a></li>
<li><a href="#_service_layer">Service layer</a></li>
<li><a href="#_service_api">Service API</a></li>
<li><a href="#_service_impl">Service <code>impl</code></a></li>
<li><a href="#">==</a></li>
<li><a href="#_logic_layer">Logic layer</a></li>
<li><a href="#_data_access_layer">Data Access layer</a></li>
<li><a href="#_security_with_json_web_token">Security with Json Web Token</a></li>
<li><a href="#_jwt_basics">JWT basics</a></li>
<li><a href="#_jwt_implementation_details">JWT implementation details</a></li>
<li><a href="#_authentication">==  Authentication</a></li>
<li><a href="#_token_set_up">==  Token set up</a></li>
<li><a href="#_current_user_request">==  Current User request</a></li>
<li><a href="#_authorization">==  Authorization</a></li>
<li><a href="#_net_design">.NET design</a></li>
<li><a href="#_nodejs_design_deprecated">NodeJS design (deprecated)</a></li>
<li><a href="#_introduction_2">Introduction</a></li>
<li><a href="#_basic_architecture_details_2">Basic architecture details</a></li>
<li><a href="#_layers_2">Layers</a></li>
<li><a href="#_service_layer_2">Service layer</a></li>
<li><a href="#_logic_layer_and_data_access_layer">Logic layer and Data access layer</a></li>
<li><a href="#_security_with_json_web_token_2">Security with Json Web Token</a></li>
<li><a href="#_jwt_basics_2">JWT basics</a></li>
<li><a href="#_jwt_implementation_details_2">JWT implementation details</a></li>
<li><a href="#_authentication_2">==  Authentication</a></li>
<li><a href="#_token_set_up_2">==  Token set up</a></li>
<li><a href="#_current_user_request_2">==  Current User request</a></li>
<li><a href="#_authorization_2">==  Authorization</a></li>
<li><a href="#_serverless_design_deprecated">Serverless design (deprecated)</a></li>
<li><a href="#_introduction_3">Introduction</a></li>
<li><a href="#_basic_architecture_details_3">Basic architecture details</a></li>
<li><a href="#_layers_3">Layers</a></li>
<li><a href="#_service_layer_3">Service layer</a></li>
<li><a href="#_2">==</a></li>
<li><a href="#_logic_layer_and_data_access_layer_2">Logic layer and Data access layer</a></li>
<li><a href="#_security_with_json_web_token_3">Security with Json Web Token</a></li>
<li><a href="#_jwt_basics_3">JWT basics</a></li>
<li><a href="#_jwt_implementation_details_3">JWT implementation details</a></li>
<li><a href="#_authentication_3">==  Authentication</a></li>
<li><a href="#_token_set_up_3">==  Token set up</a></li>
<li><a href="#_current_user_request_3">==  Current User request</a></li>
<li><a href="#_authorization_3">==  Authorization</a></li>
<li><a href="#_graphql_design">GraphQL design</a></li>
</ul>
</li>
<li><a href="#_client_side">Client Side</a>
<ul class="sectlevel4">
<li><a href="#_angular_design">Angular design</a></li>
<li><a href="#_introduction_4">Introduction</a></li>
<li><a href="#_basic_project_structure">Basic project structure</a></li>
<li><a href="#_main_views_and_components">Main Views and components</a></li>
<li><a href="#_public_area">Public area</a></li>
<li><a href="#_app_component">==  App Component</a></li>
<li><a href="#_order_sidenav">== Order sidenav</a></li>
<li><a href="#_navigation_sidenav_only_for_mobile">== Navigation sidenav (only for mobile)</a></li>
<li><a href="#_header">== Header</a></li>
<li><a href="#_footer_only_for_desktop">== Footer (only for desktop)</a></li>
<li><a href="#_home_component">==  Home-Component</a></li>
<li><a href="#_menu_component">==  Menu-Component</a></li>
<li><a href="#_menu_card">== Menu-card</a></li>
<li><a href="#_book_table_component">==  Book Table Component</a></li>
<li><a href="#_book_table_dialog">== Book-table-dialog</a></li>
<li><a href="#_invitation_dialog">== Invitation-dialog</a></li>
<li><a href="#_user_area">==  User Area</a></li>
<li><a href="#_login_dialog">== Login-dialog</a></li>
<li><a href="#_password_dialog">== Password-dialog</a></li>
<li><a href="#_twitter_dialog">== Twitter-dialog</a></li>
<li><a href="#_waiter_cockpit_area">Waiter cockpit area</a></li>
<li><a href="#_order_cockpit_component">==  Order Cockpit Component</a></li>
<li><a href="#_order_dialog">== Order-dialog</a></li>
<li><a href="#_reservation_cockpit_component">==  Reservation Cockpit Component</a></li>
<li><a href="#_reservation_dialog">== Reservation-dialog</a></li>
<li><a href="#_email_management">Email Management</a></li>
<li><a href="#_accept_invite">==  Accept Invite</a></li>
<li><a href="#_reject_invite">==  Reject Invite</a></li>
<li><a href="#_cancel_reservation">==  Cancel Reservation</a></li>
<li><a href="#_cancel_orders">==  Cancel Orders</a></li>
<li><a href="#_services_and_directives">Services and directives</a></li>
<li><a href="#_price_calculator_service">Price-calculator-service</a></li>
<li><a href="#_authentication_4">Authentication</a></li>
<li><a href="#_snack_service">Snack Service</a></li>
<li><a href="#_window_service">Window Service</a></li>
<li><a href="#_equal_validator_directive">Equal-validator-directive</a></li>
<li><a href="#_mock_back_end">Mock Back-end</a></li>
<li><a href="#_booking">Booking</a></li>
<li><a href="#_orders">Orders</a></li>
<li><a href="#_dishes">Dishes</a></li>
<li><a href="#_login">Login</a></li>
<li><a href="#_security">Security</a></li>
<li><a href="#_auth_guard">Auth-guard</a></li>
<li><a href="#_jwt">JWT</a></li>
<li><a href="#_httpclient">==  HttpClient</a></li>
<li><a href="#_xamarin_design">Xamarin design</a></li>
</ul>
</li>
<li><a href="#_security_2">Security</a>
<ul class="sectlevel3">
<li><a href="#_two_factor_authentication">Two-Factor Authentication</a></li>
<li><a href="#_back_end_mechanism">Back-end mechanism</a></li>
<li><a href="#_activating_two_factor_authentication">Activating Two-Factor Authentication</a></li>
<li><a href="#_frontend">Frontend</a></li>
</ul>
</li>
<li><a href="#_testing">Testing</a></li>
<li><a href="#_server_side_2">Server Side</a>
<ul class="sectlevel4">
<li><a href="#_java_testing">Java testing</a></li>
<li><a href="#_component_testing">Component testing</a></li>
<li><a href="#_running_the_tests">Running the tests</a></li>
<li><a href="#_from_eclipse">From Eclipse</a></li>
<li><a href="#_from_command_line_using_maven">From command line using Maven</a></li>
<li><a href="#_net_testing">.NET testing</a></li>
<li><a href="#_nodejs_testing">NodeJS testing</a></li>
<li><a href="#_graphql_testing">GraphQL testing</a></li>
</ul>
</li>
<li><a href="#_client_side_2">Client Side</a>
<ul class="sectlevel4">
<li><a href="#_angular_testing">Angular testing</a></li>
<li><a href="#_3">==</a></li>
<li><a href="#_testing_components">Testing Components</a></li>
<li><a href="#_dialog_components">Dialog components</a></li>
<li><a href="#_testing_services">Testing Services</a></li>
<li><a href="#_testing_in_a_ci_environment">Testing in a CI environment</a></li>
<li><a href="#_xamarin_testing">Xamarin testing</a></li>
</ul>
</li>
<li><a href="#_end_to_end">End to end</a>
<ul class="sectlevel4">
<li><a href="#_mrchecker_e2e_testing">MrChecker E2E Testing</a></li>
<li><a href="#_introduction_5">Introduction</a></li>
<li><a href="#_how_to_use_it">How to use it</a></li>
<li><a href="#_end_to_end_tests_in_my_thai_star">End to end tests in My Thai Star</a></li>
</ul>
</li>
<li><a href="#_ui_design">UI design</a>
<ul class="sectlevel3">
<li><a href="#_style_guide">Style guide</a></li>
<li><a href="#_low_and_high_fidelity_wireframes">Low and high fidelity wireframes</a></li>
</ul>
</li>
<li><a href="#_cicd">CI/CD</a>
<ul class="sectlevel3">
<li><a href="#_my_thai_star_in_production_line">My Thai Star in Production Line</a></li>
<li><a href="#_what_is_pl">What is PL?</a></li>
<li><a href="#_introduction_6">Introduction</a></li>
<li><a href="#_where_can_i_find_all_my_thai_star_pipelines">Where can I find all My Thai Star Pipelines?</a></li>
<li><a href="#_ci_in_my_thai_star_stack">CI in My Thai Star stack</a></li>
<li><a href="#_how_to_configure_everything_out_of_the_box">How to configure everything out of the box</a></li>
<li><a href="#_deployment">Deployment</a></li>
<li><a href="#_where_docker_containers_will_be_running">Where Docker containers will be running?</a></li>
<li><a href="#_container_schema">Container Schema</a></li>
<li><a href="#_run_my_thai_star">Run My Thai Star</a></li>
<li><a href="#_mythaistar_on_native_kubernetes_as_a_service_nkaas"><code>MyThaiStar</code> on Native Kubernetes as a Service (nKaaS)</a></li>
<li><a href="#_setting_up_the_environment">Setting up the environment</a></li>
<li><a href="#_following_the_nkaas_guide">Following the nKaaS guide</a></li>
<li><a href="#_requesting_a_namespace">Requesting a namespace</a></li>
<li><a href="#_setting_up_harbor">Setting up Harbor</a></li>
<li><a href="#_setting_up_jenkins">Setting up Jenkins</a></li>
<li><a href="#_deploying_mts">Deploying MTS</a></li>
</ul>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_net_testing"><a class="anchor" href="#_net_testing"></a>.NET testing</h5>
<div class="paragraph">
<p>TODO</p>
</div>
<div id="toc" class="toc">
<div id="toctitle" class="title">Table of Contents</div>
<ul class="sectlevel1">
<li><a href="#_mythaistar">MyThaiStar</a>
<ul class="sectlevel2">
<li><a href="#_1_my_thai_star_agile_framework">1.	My Thai Star – Agile Framework</a></li>
<li><a href="#_1_1_team_setup">1.1 Team Setup</a></li>
<li><a href="#_1_2_scrum_events">1.2 Scrum events</a></li>
<li><a href="#_sprint_planning">Sprint Planning</a></li>
<li><a href="#_sprint_review">Sprint Review</a></li>
<li><a href="#_sprint_retrospective">Sprint Retrospective</a></li>
<li><a href="#_daily_stand_ups">Daily Stand-ups</a></li>
<li><a href="#_backlog_refinement">Backlog refinement</a></li>
<li><a href="#_1_3_establish_product_backlog">1.3 Establish Product Backlog</a></li>
<li><a href="#_2_my_thai_star_agile_diary">2.	My Thai Star – Agile Diary</a></li>
<li><a href="#_24_03_2017_sprint_1_planning">24.03.2017 Sprint 1 Planning</a></li>
<li><a href="#_27_04_2017_sprint_1_review">27.04.2017 Sprint 1 Review</a></li>
<li><a href="#_03_05_2017_sprint_2_planning">03.05.2017 Sprint 2 Planning</a></li>
<li><a href="#_01_06_2017_sprint_2_review">01.06.2017 Sprint 2 Review</a></li>
<li><a href="#_user_stories">User Stories</a></li>
<li><a href="#_epic_invite_friends">Epic: Invite friends</a></li>
<li><a href="#_us_create_invite_for_friends">US: create invite for friends</a></li>
<li><a href="#_acceptance_criteria">== Acceptance criteria</a></li>
<li><a href="#_us_create_reservation">US: create reservation</a></li>
<li><a href="#_acceptance_criteria_2">== Acceptance criteria</a></li>
<li><a href="#_wireframes">== Wireframes</a></li>
<li><a href="#_us_handle_invite">US: handle invite</a></li>
<li><a href="#_ac">== AC:</a></li>
<li><a href="#_us_revoke_accepted_invite">US: revoke accepted invite</a></li>
<li><a href="#_ac_2">==  AC:</a></li>
<li><a href="#_us_calculate_best_table">US: calculate best table</a></li>
<li><a href="#_details">== Details</a></li>
<li><a href="#_us_find_table_by_reservation_info">US: find table by reservation info</a></li>
<li><a href="#_ac_3">== AC:</a></li>
<li><a href="#_us_cancel_invite">US: cancel invite</a></li>
<li><a href="#_ac_4">== AC:</a></li>
<li><a href="#_epic_digital_menu">Epic: Digital Menu</a></li>
<li><a href="#_us_filter_menu">US: filter menu</a></li>
<li><a href="#_ac_5">== AC:</a></li>
<li><a href="#_us_define_order">US: Define order</a></li>
<li><a href="#_ac_6">== AC:</a></li>
<li><a href="#_us_order_the_order">US: Order the order</a></li>
<li><a href="#_us_cancel_order">US: Cancel order</a></li>
<li><a href="#_us_read_twitter_rating_for_dishes">US: Read twitter rating for dishes</a></li>
<li><a href="#_epic_user_profile">Epic: User Profile</a></li>
<li><a href="#_us_user_profile">US: User Profile</a></li>
<li><a href="#_epic_rate_by_twitter">Epic: Rate by twitter</a></li>
<li><a href="#_us_receive_mail_to_rate_your_dish">US: Receive mail to rate your dish</a></li>
<li><a href="#_us_rate_your_dish">US: Rate your dish</a></li>
<li><a href="#_epic_waiter_cockpit">Epic: Waiter Cockpit</a></li>
<li><a href="#_us_see_all_ordersreservations">US: See all orders/reservations</a></li>
</ul>
</li>
<li><a href="#_technical_design">Technical design</a></li>
<li><a href="#_data_model">Data Model</a>
<ul class="sectlevel4">
<li><a href="#_data_model_2">Data Model</a></li>
<li><a href="#_nosql_data_model">NoSQL Data Model</a></li>
</ul>
</li>
<li><a href="#_server_side">Server Side</a>
<ul class="sectlevel4">
<li><a href="#_java_design">Java design</a></li>
<li><a href="#_introduction">Introduction</a></li>
<li><a href="#_basic_architecture_details">Basic architecture details</a></li>
<li><a href="#_project_modules">Project modules</a></li>
<li><a href="#_components">Components</a></li>
<li><a href="#_layers">Layers</a></li>
<li><a href="#_component_structure">Component structure</a></li>
<li><a href="#_dependency_injection">Dependency injection</a></li>
<li><a href="#_layers_communication">Layers communication</a></li>
<li><a href="#_service_layer">Service layer</a></li>
<li><a href="#_service_api">Service API</a></li>
<li><a href="#_service_impl">Service <code>impl</code></a></li>
<li><a href="#">==</a></li>
<li><a href="#_logic_layer">Logic layer</a></li>
<li><a href="#_data_access_layer">Data Access layer</a></li>
<li><a href="#_security_with_json_web_token">Security with Json Web Token</a></li>
<li><a href="#_jwt_basics">JWT basics</a></li>
<li><a href="#_jwt_implementation_details">JWT implementation details</a></li>
<li><a href="#_authentication">==  Authentication</a></li>
<li><a href="#_token_set_up">==  Token set up</a></li>
<li><a href="#_current_user_request">==  Current User request</a></li>
<li><a href="#_authorization">==  Authorization</a></li>
<li><a href="#_net_design">.NET design</a></li>
<li><a href="#_nodejs_design_deprecated">NodeJS design (deprecated)</a></li>
<li><a href="#_introduction_2">Introduction</a></li>
<li><a href="#_basic_architecture_details_2">Basic architecture details</a></li>
<li><a href="#_layers_2">Layers</a></li>
<li><a href="#_service_layer_2">Service layer</a></li>
<li><a href="#_logic_layer_and_data_access_layer">Logic layer and Data access layer</a></li>
<li><a href="#_security_with_json_web_token_2">Security with Json Web Token</a></li>
<li><a href="#_jwt_basics_2">JWT basics</a></li>
<li><a href="#_jwt_implementation_details_2">JWT implementation details</a></li>
<li><a href="#_authentication_2">==  Authentication</a></li>
<li><a href="#_token_set_up_2">==  Token set up</a></li>
<li><a href="#_current_user_request_2">==  Current User request</a></li>
<li><a href="#_authorization_2">==  Authorization</a></li>
<li><a href="#_serverless_design_deprecated">Serverless design (deprecated)</a></li>
<li><a href="#_introduction_3">Introduction</a></li>
<li><a href="#_basic_architecture_details_3">Basic architecture details</a></li>
<li><a href="#_layers_3">Layers</a></li>
<li><a href="#_service_layer_3">Service layer</a></li>
<li><a href="#_2">==</a></li>
<li><a href="#_logic_layer_and_data_access_layer_2">Logic layer and Data access layer</a></li>
<li><a href="#_security_with_json_web_token_3">Security with Json Web Token</a></li>
<li><a href="#_jwt_basics_3">JWT basics</a></li>
<li><a href="#_jwt_implementation_details_3">JWT implementation details</a></li>
<li><a href="#_authentication_3">==  Authentication</a></li>
<li><a href="#_token_set_up_3">==  Token set up</a></li>
<li><a href="#_current_user_request_3">==  Current User request</a></li>
<li><a href="#_authorization_3">==  Authorization</a></li>
<li><a href="#_graphql_design">GraphQL design</a></li>
</ul>
</li>
<li><a href="#_client_side">Client Side</a>
<ul class="sectlevel4">
<li><a href="#_angular_design">Angular design</a></li>
<li><a href="#_introduction_4">Introduction</a></li>
<li><a href="#_basic_project_structure">Basic project structure</a></li>
<li><a href="#_main_views_and_components">Main Views and components</a></li>
<li><a href="#_public_area">Public area</a></li>
<li><a href="#_app_component">==  App Component</a></li>
<li><a href="#_order_sidenav">== Order sidenav</a></li>
<li><a href="#_navigation_sidenav_only_for_mobile">== Navigation sidenav (only for mobile)</a></li>
<li><a href="#_header">== Header</a></li>
<li><a href="#_footer_only_for_desktop">== Footer (only for desktop)</a></li>
<li><a href="#_home_component">==  Home-Component</a></li>
<li><a href="#_menu_component">==  Menu-Component</a></li>
<li><a href="#_menu_card">== Menu-card</a></li>
<li><a href="#_book_table_component">==  Book Table Component</a></li>
<li><a href="#_book_table_dialog">== Book-table-dialog</a></li>
<li><a href="#_invitation_dialog">== Invitation-dialog</a></li>
<li><a href="#_user_area">==  User Area</a></li>
<li><a href="#_login_dialog">== Login-dialog</a></li>
<li><a href="#_password_dialog">== Password-dialog</a></li>
<li><a href="#_twitter_dialog">== Twitter-dialog</a></li>
<li><a href="#_waiter_cockpit_area">Waiter cockpit area</a></li>
<li><a href="#_order_cockpit_component">==  Order Cockpit Component</a></li>
<li><a href="#_order_dialog">== Order-dialog</a></li>
<li><a href="#_reservation_cockpit_component">==  Reservation Cockpit Component</a></li>
<li><a href="#_reservation_dialog">== Reservation-dialog</a></li>
<li><a href="#_email_management">Email Management</a></li>
<li><a href="#_accept_invite">==  Accept Invite</a></li>
<li><a href="#_reject_invite">==  Reject Invite</a></li>
<li><a href="#_cancel_reservation">==  Cancel Reservation</a></li>
<li><a href="#_cancel_orders">==  Cancel Orders</a></li>
<li><a href="#_services_and_directives">Services and directives</a></li>
<li><a href="#_price_calculator_service">Price-calculator-service</a></li>
<li><a href="#_authentication_4">Authentication</a></li>
<li><a href="#_snack_service">Snack Service</a></li>
<li><a href="#_window_service">Window Service</a></li>
<li><a href="#_equal_validator_directive">Equal-validator-directive</a></li>
<li><a href="#_mock_back_end">Mock Back-end</a></li>
<li><a href="#_booking">Booking</a></li>
<li><a href="#_orders">Orders</a></li>
<li><a href="#_dishes">Dishes</a></li>
<li><a href="#_login">Login</a></li>
<li><a href="#_security">Security</a></li>
<li><a href="#_auth_guard">Auth-guard</a></li>
<li><a href="#_jwt">JWT</a></li>
<li><a href="#_httpclient">==  HttpClient</a></li>
<li><a href="#_xamarin_design">Xamarin design</a></li>
</ul>
</li>
<li><a href="#_security_2">Security</a>
<ul class="sectlevel3">
<li><a href="#_two_factor_authentication">Two-Factor Authentication</a></li>
<li><a href="#_back_end_mechanism">Back-end mechanism</a></li>
<li><a href="#_activating_two_factor_authentication">Activating Two-Factor Authentication</a></li>
<li><a href="#_frontend">Frontend</a></li>
</ul>
</li>
<li><a href="#_testing">Testing</a></li>
<li><a href="#_server_side_2">Server Side</a>
<ul class="sectlevel4">
<li><a href="#_java_testing">Java testing</a></li>
<li><a href="#_component_testing">Component testing</a></li>
<li><a href="#_running_the_tests">Running the tests</a></li>
<li><a href="#_from_eclipse">From Eclipse</a></li>
<li><a href="#_from_command_line_using_maven">From command line using Maven</a></li>
<li><a href="#_net_testing">.NET testing</a></li>
<li><a href="#_nodejs_testing">NodeJS testing</a></li>
<li><a href="#_graphql_testing">GraphQL testing</a></li>
</ul>
</li>
<li><a href="#_client_side_2">Client Side</a>
<ul class="sectlevel4">
<li><a href="#_angular_testing">Angular testing</a></li>
<li><a href="#_3">==</a></li>
<li><a href="#_testing_components">Testing Components</a></li>
<li><a href="#_dialog_components">Dialog components</a></li>
<li><a href="#_testing_services">Testing Services</a></li>
<li><a href="#_testing_in_a_ci_environment">Testing in a CI environment</a></li>
<li><a href="#_xamarin_testing">Xamarin testing</a></li>
</ul>
</li>
<li><a href="#_end_to_end">End to end</a>
<ul class="sectlevel4">
<li><a href="#_mrchecker_e2e_testing">MrChecker E2E Testing</a></li>
<li><a href="#_introduction_5">Introduction</a></li>
<li><a href="#_how_to_use_it">How to use it</a></li>
<li><a href="#_end_to_end_tests_in_my_thai_star">End to end tests in My Thai Star</a></li>
</ul>
</li>
<li><a href="#_ui_design">UI design</a>
<ul class="sectlevel3">
<li><a href="#_style_guide">Style guide</a></li>
<li><a href="#_low_and_high_fidelity_wireframes">Low and high fidelity wireframes</a></li>
</ul>
</li>
<li><a href="#_cicd">CI/CD</a>
<ul class="sectlevel3">
<li><a href="#_my_thai_star_in_production_line">My Thai Star in Production Line</a></li>
<li><a href="#_what_is_pl">What is PL?</a></li>
<li><a href="#_introduction_6">Introduction</a></li>
<li><a href="#_where_can_i_find_all_my_thai_star_pipelines">Where can I find all My Thai Star Pipelines?</a></li>
<li><a href="#_ci_in_my_thai_star_stack">CI in My Thai Star stack</a></li>
<li><a href="#_how_to_configure_everything_out_of_the_box">How to configure everything out of the box</a></li>
<li><a href="#_deployment">Deployment</a></li>
<li><a href="#_where_docker_containers_will_be_running">Where Docker containers will be running?</a></li>
<li><a href="#_container_schema">Container Schema</a></li>
<li><a href="#_run_my_thai_star">Run My Thai Star</a></li>
<li><a href="#_mythaistar_on_native_kubernetes_as_a_service_nkaas"><code>MyThaiStar</code> on Native Kubernetes as a Service (nKaaS)</a></li>
<li><a href="#_setting_up_the_environment">Setting up the environment</a></li>
<li><a href="#_following_the_nkaas_guide">Following the nKaaS guide</a></li>
<li><a href="#_requesting_a_namespace">Requesting a namespace</a></li>
<li><a href="#_setting_up_harbor">Setting up Harbor</a></li>
<li><a href="#_setting_up_jenkins">Setting up Jenkins</a></li>
<li><a href="#_deploying_mts">Deploying MTS</a></li>
</ul>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_nodejs_testing"><a class="anchor" href="#_nodejs_testing"></a>NodeJS testing</h5>
<div class="paragraph">
<p>TODO</p>
</div>
<div id="toc" class="toc">
<div id="toctitle" class="title">Table of Contents</div>
<ul class="sectlevel1">
<li><a href="#_mythaistar">MyThaiStar</a>
<ul class="sectlevel2">
<li><a href="#_1_my_thai_star_agile_framework">1.	My Thai Star – Agile Framework</a></li>
<li><a href="#_1_1_team_setup">1.1 Team Setup</a></li>
<li><a href="#_1_2_scrum_events">1.2 Scrum events</a></li>
<li><a href="#_sprint_planning">Sprint Planning</a></li>
<li><a href="#_sprint_review">Sprint Review</a></li>
<li><a href="#_sprint_retrospective">Sprint Retrospective</a></li>
<li><a href="#_daily_stand_ups">Daily Stand-ups</a></li>
<li><a href="#_backlog_refinement">Backlog refinement</a></li>
<li><a href="#_1_3_establish_product_backlog">1.3 Establish Product Backlog</a></li>
<li><a href="#_2_my_thai_star_agile_diary">2.	My Thai Star – Agile Diary</a></li>
<li><a href="#_24_03_2017_sprint_1_planning">24.03.2017 Sprint 1 Planning</a></li>
<li><a href="#_27_04_2017_sprint_1_review">27.04.2017 Sprint 1 Review</a></li>
<li><a href="#_03_05_2017_sprint_2_planning">03.05.2017 Sprint 2 Planning</a></li>
<li><a href="#_01_06_2017_sprint_2_review">01.06.2017 Sprint 2 Review</a></li>
<li><a href="#_user_stories">User Stories</a></li>
<li><a href="#_epic_invite_friends">Epic: Invite friends</a></li>
<li><a href="#_us_create_invite_for_friends">US: create invite for friends</a></li>
<li><a href="#_acceptance_criteria">== Acceptance criteria</a></li>
<li><a href="#_us_create_reservation">US: create reservation</a></li>
<li><a href="#_acceptance_criteria_2">== Acceptance criteria</a></li>
<li><a href="#_wireframes">== Wireframes</a></li>
<li><a href="#_us_handle_invite">US: handle invite</a></li>
<li><a href="#_ac">== AC:</a></li>
<li><a href="#_us_revoke_accepted_invite">US: revoke accepted invite</a></li>
<li><a href="#_ac_2">==  AC:</a></li>
<li><a href="#_us_calculate_best_table">US: calculate best table</a></li>
<li><a href="#_details">== Details</a></li>
<li><a href="#_us_find_table_by_reservation_info">US: find table by reservation info</a></li>
<li><a href="#_ac_3">== AC:</a></li>
<li><a href="#_us_cancel_invite">US: cancel invite</a></li>
<li><a href="#_ac_4">== AC:</a></li>
<li><a href="#_epic_digital_menu">Epic: Digital Menu</a></li>
<li><a href="#_us_filter_menu">US: filter menu</a></li>
<li><a href="#_ac_5">== AC:</a></li>
<li><a href="#_us_define_order">US: Define order</a></li>
<li><a href="#_ac_6">== AC:</a></li>
<li><a href="#_us_order_the_order">US: Order the order</a></li>
<li><a href="#_us_cancel_order">US: Cancel order</a></li>
<li><a href="#_us_read_twitter_rating_for_dishes">US: Read twitter rating for dishes</a></li>
<li><a href="#_epic_user_profile">Epic: User Profile</a></li>
<li><a href="#_us_user_profile">US: User Profile</a></li>
<li><a href="#_epic_rate_by_twitter">Epic: Rate by twitter</a></li>
<li><a href="#_us_receive_mail_to_rate_your_dish">US: Receive mail to rate your dish</a></li>
<li><a href="#_us_rate_your_dish">US: Rate your dish</a></li>
<li><a href="#_epic_waiter_cockpit">Epic: Waiter Cockpit</a></li>
<li><a href="#_us_see_all_ordersreservations">US: See all orders/reservations</a></li>
</ul>
</li>
<li><a href="#_technical_design">Technical design</a></li>
<li><a href="#_data_model">Data Model</a>
<ul class="sectlevel4">
<li><a href="#_data_model_2">Data Model</a></li>
<li><a href="#_nosql_data_model">NoSQL Data Model</a></li>
</ul>
</li>
<li><a href="#_server_side">Server Side</a>
<ul class="sectlevel4">
<li><a href="#_java_design">Java design</a></li>
<li><a href="#_introduction">Introduction</a></li>
<li><a href="#_basic_architecture_details">Basic architecture details</a></li>
<li><a href="#_project_modules">Project modules</a></li>
<li><a href="#_components">Components</a></li>
<li><a href="#_layers">Layers</a></li>
<li><a href="#_component_structure">Component structure</a></li>
<li><a href="#_dependency_injection">Dependency injection</a></li>
<li><a href="#_layers_communication">Layers communication</a></li>
<li><a href="#_service_layer">Service layer</a></li>
<li><a href="#_service_api">Service API</a></li>
<li><a href="#_service_impl">Service <code>impl</code></a></li>
<li><a href="#">==</a></li>
<li><a href="#_logic_layer">Logic layer</a></li>
<li><a href="#_data_access_layer">Data Access layer</a></li>
<li><a href="#_security_with_json_web_token">Security with Json Web Token</a></li>
<li><a href="#_jwt_basics">JWT basics</a></li>
<li><a href="#_jwt_implementation_details">JWT implementation details</a></li>
<li><a href="#_authentication">==  Authentication</a></li>
<li><a href="#_token_set_up">==  Token set up</a></li>
<li><a href="#_current_user_request">==  Current User request</a></li>
<li><a href="#_authorization">==  Authorization</a></li>
<li><a href="#_net_design">.NET design</a></li>
<li><a href="#_nodejs_design_deprecated">NodeJS design (deprecated)</a></li>
<li><a href="#_introduction_2">Introduction</a></li>
<li><a href="#_basic_architecture_details_2">Basic architecture details</a></li>
<li><a href="#_layers_2">Layers</a></li>
<li><a href="#_service_layer_2">Service layer</a></li>
<li><a href="#_logic_layer_and_data_access_layer">Logic layer and Data access layer</a></li>
<li><a href="#_security_with_json_web_token_2">Security with Json Web Token</a></li>
<li><a href="#_jwt_basics_2">JWT basics</a></li>
<li><a href="#_jwt_implementation_details_2">JWT implementation details</a></li>
<li><a href="#_authentication_2">==  Authentication</a></li>
<li><a href="#_token_set_up_2">==  Token set up</a></li>
<li><a href="#_current_user_request_2">==  Current User request</a></li>
<li><a href="#_authorization_2">==  Authorization</a></li>
<li><a href="#_serverless_design_deprecated">Serverless design (deprecated)</a></li>
<li><a href="#_introduction_3">Introduction</a></li>
<li><a href="#_basic_architecture_details_3">Basic architecture details</a></li>
<li><a href="#_layers_3">Layers</a></li>
<li><a href="#_service_layer_3">Service layer</a></li>
<li><a href="#_2">==</a></li>
<li><a href="#_logic_layer_and_data_access_layer_2">Logic layer and Data access layer</a></li>
<li><a href="#_security_with_json_web_token_3">Security with Json Web Token</a></li>
<li><a href="#_jwt_basics_3">JWT basics</a></li>
<li><a href="#_jwt_implementation_details_3">JWT implementation details</a></li>
<li><a href="#_authentication_3">==  Authentication</a></li>
<li><a href="#_token_set_up_3">==  Token set up</a></li>
<li><a href="#_current_user_request_3">==  Current User request</a></li>
<li><a href="#_authorization_3">==  Authorization</a></li>
<li><a href="#_graphql_design">GraphQL design</a></li>
</ul>
</li>
<li><a href="#_client_side">Client Side</a>
<ul class="sectlevel4">
<li><a href="#_angular_design">Angular design</a></li>
<li><a href="#_introduction_4">Introduction</a></li>
<li><a href="#_basic_project_structure">Basic project structure</a></li>
<li><a href="#_main_views_and_components">Main Views and components</a></li>
<li><a href="#_public_area">Public area</a></li>
<li><a href="#_app_component">==  App Component</a></li>
<li><a href="#_order_sidenav">== Order sidenav</a></li>
<li><a href="#_navigation_sidenav_only_for_mobile">== Navigation sidenav (only for mobile)</a></li>
<li><a href="#_header">== Header</a></li>
<li><a href="#_footer_only_for_desktop">== Footer (only for desktop)</a></li>
<li><a href="#_home_component">==  Home-Component</a></li>
<li><a href="#_menu_component">==  Menu-Component</a></li>
<li><a href="#_menu_card">== Menu-card</a></li>
<li><a href="#_book_table_component">==  Book Table Component</a></li>
<li><a href="#_book_table_dialog">== Book-table-dialog</a></li>
<li><a href="#_invitation_dialog">== Invitation-dialog</a></li>
<li><a href="#_user_area">==  User Area</a></li>
<li><a href="#_login_dialog">== Login-dialog</a></li>
<li><a href="#_password_dialog">== Password-dialog</a></li>
<li><a href="#_twitter_dialog">== Twitter-dialog</a></li>
<li><a href="#_waiter_cockpit_area">Waiter cockpit area</a></li>
<li><a href="#_order_cockpit_component">==  Order Cockpit Component</a></li>
<li><a href="#_order_dialog">== Order-dialog</a></li>
<li><a href="#_reservation_cockpit_component">==  Reservation Cockpit Component</a></li>
<li><a href="#_reservation_dialog">== Reservation-dialog</a></li>
<li><a href="#_email_management">Email Management</a></li>
<li><a href="#_accept_invite">==  Accept Invite</a></li>
<li><a href="#_reject_invite">==  Reject Invite</a></li>
<li><a href="#_cancel_reservation">==  Cancel Reservation</a></li>
<li><a href="#_cancel_orders">==  Cancel Orders</a></li>
<li><a href="#_services_and_directives">Services and directives</a></li>
<li><a href="#_price_calculator_service">Price-calculator-service</a></li>
<li><a href="#_authentication_4">Authentication</a></li>
<li><a href="#_snack_service">Snack Service</a></li>
<li><a href="#_window_service">Window Service</a></li>
<li><a href="#_equal_validator_directive">Equal-validator-directive</a></li>
<li><a href="#_mock_back_end">Mock Back-end</a></li>
<li><a href="#_booking">Booking</a></li>
<li><a href="#_orders">Orders</a></li>
<li><a href="#_dishes">Dishes</a></li>
<li><a href="#_login">Login</a></li>
<li><a href="#_security">Security</a></li>
<li><a href="#_auth_guard">Auth-guard</a></li>
<li><a href="#_jwt">JWT</a></li>
<li><a href="#_httpclient">==  HttpClient</a></li>
<li><a href="#_xamarin_design">Xamarin design</a></li>
</ul>
</li>
<li><a href="#_security_2">Security</a>
<ul class="sectlevel3">
<li><a href="#_two_factor_authentication">Two-Factor Authentication</a></li>
<li><a href="#_back_end_mechanism">Back-end mechanism</a></li>
<li><a href="#_activating_two_factor_authentication">Activating Two-Factor Authentication</a></li>
<li><a href="#_frontend">Frontend</a></li>
</ul>
</li>
<li><a href="#_testing">Testing</a></li>
<li><a href="#_server_side_2">Server Side</a>
<ul class="sectlevel4">
<li><a href="#_java_testing">Java testing</a></li>
<li><a href="#_component_testing">Component testing</a></li>
<li><a href="#_running_the_tests">Running the tests</a></li>
<li><a href="#_from_eclipse">From Eclipse</a></li>
<li><a href="#_from_command_line_using_maven">From command line using Maven</a></li>
<li><a href="#_net_testing">.NET testing</a></li>
<li><a href="#_nodejs_testing">NodeJS testing</a></li>
<li><a href="#_graphql_testing">GraphQL testing</a></li>
</ul>
</li>
<li><a href="#_client_side_2">Client Side</a>
<ul class="sectlevel4">
<li><a href="#_angular_testing">Angular testing</a></li>
<li><a href="#_3">==</a></li>
<li><a href="#_testing_components">Testing Components</a></li>
<li><a href="#_dialog_components">Dialog components</a></li>
<li><a href="#_testing_services">Testing Services</a></li>
<li><a href="#_testing_in_a_ci_environment">Testing in a CI environment</a></li>
<li><a href="#_xamarin_testing">Xamarin testing</a></li>
</ul>
</li>
<li><a href="#_end_to_end">End to end</a>
<ul class="sectlevel4">
<li><a href="#_mrchecker_e2e_testing">MrChecker E2E Testing</a></li>
<li><a href="#_introduction_5">Introduction</a></li>
<li><a href="#_how_to_use_it">How to use it</a></li>
<li><a href="#_end_to_end_tests_in_my_thai_star">End to end tests in My Thai Star</a></li>
</ul>
</li>
<li><a href="#_ui_design">UI design</a>
<ul class="sectlevel3">
<li><a href="#_style_guide">Style guide</a></li>
<li><a href="#_low_and_high_fidelity_wireframes">Low and high fidelity wireframes</a></li>
</ul>
</li>
<li><a href="#_cicd">CI/CD</a>
<ul class="sectlevel3">
<li><a href="#_my_thai_star_in_production_line">My Thai Star in Production Line</a></li>
<li><a href="#_what_is_pl">What is PL?</a></li>
<li><a href="#_introduction_6">Introduction</a></li>
<li><a href="#_where_can_i_find_all_my_thai_star_pipelines">Where can I find all My Thai Star Pipelines?</a></li>
<li><a href="#_ci_in_my_thai_star_stack">CI in My Thai Star stack</a></li>
<li><a href="#_how_to_configure_everything_out_of_the_box">How to configure everything out of the box</a></li>
<li><a href="#_deployment">Deployment</a></li>
<li><a href="#_where_docker_containers_will_be_running">Where Docker containers will be running?</a></li>
<li><a href="#_container_schema">Container Schema</a></li>
<li><a href="#_run_my_thai_star">Run My Thai Star</a></li>
<li><a href="#_mythaistar_on_native_kubernetes_as_a_service_nkaas"><code>MyThaiStar</code> on Native Kubernetes as a Service (nKaaS)</a></li>
<li><a href="#_setting_up_the_environment">Setting up the environment</a></li>
<li><a href="#_following_the_nkaas_guide">Following the nKaaS guide</a></li>
<li><a href="#_requesting_a_namespace">Requesting a namespace</a></li>
<li><a href="#_setting_up_harbor">Setting up Harbor</a></li>
<li><a href="#_setting_up_jenkins">Setting up Jenkins</a></li>
<li><a href="#_deploying_mts">Deploying MTS</a></li>
</ul>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_graphql_testing"><a class="anchor" href="#_graphql_testing"></a>GraphQL testing</h5>
<div class="paragraph">
<p>TODO</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_client_side_2"><a class="anchor" href="#_client_side_2"></a>Client Side</h2>
<div class="sectionbody">
<div id="toc" class="toc">
<div id="toctitle" class="title">Table of Contents</div>
<ul class="sectlevel1">
<li><a href="#_mythaistar">MyThaiStar</a>
<ul class="sectlevel2">
<li><a href="#_1_my_thai_star_agile_framework">1.	My Thai Star – Agile Framework</a></li>
<li><a href="#_1_1_team_setup">1.1 Team Setup</a></li>
<li><a href="#_1_2_scrum_events">1.2 Scrum events</a></li>
<li><a href="#_sprint_planning">Sprint Planning</a></li>
<li><a href="#_sprint_review">Sprint Review</a></li>
<li><a href="#_sprint_retrospective">Sprint Retrospective</a></li>
<li><a href="#_daily_stand_ups">Daily Stand-ups</a></li>
<li><a href="#_backlog_refinement">Backlog refinement</a></li>
<li><a href="#_1_3_establish_product_backlog">1.3 Establish Product Backlog</a></li>
<li><a href="#_2_my_thai_star_agile_diary">2.	My Thai Star – Agile Diary</a></li>
<li><a href="#_24_03_2017_sprint_1_planning">24.03.2017 Sprint 1 Planning</a></li>
<li><a href="#_27_04_2017_sprint_1_review">27.04.2017 Sprint 1 Review</a></li>
<li><a href="#_03_05_2017_sprint_2_planning">03.05.2017 Sprint 2 Planning</a></li>
<li><a href="#_01_06_2017_sprint_2_review">01.06.2017 Sprint 2 Review</a></li>
<li><a href="#_user_stories">User Stories</a></li>
<li><a href="#_epic_invite_friends">Epic: Invite friends</a></li>
<li><a href="#_us_create_invite_for_friends">US: create invite for friends</a></li>
<li><a href="#_acceptance_criteria">== Acceptance criteria</a></li>
<li><a href="#_us_create_reservation">US: create reservation</a></li>
<li><a href="#_acceptance_criteria_2">== Acceptance criteria</a></li>
<li><a href="#_wireframes">== Wireframes</a></li>
<li><a href="#_us_handle_invite">US: handle invite</a></li>
<li><a href="#_ac">== AC:</a></li>
<li><a href="#_us_revoke_accepted_invite">US: revoke accepted invite</a></li>
<li><a href="#_ac_2">==  AC:</a></li>
<li><a href="#_us_calculate_best_table">US: calculate best table</a></li>
<li><a href="#_details">== Details</a></li>
<li><a href="#_us_find_table_by_reservation_info">US: find table by reservation info</a></li>
<li><a href="#_ac_3">== AC:</a></li>
<li><a href="#_us_cancel_invite">US: cancel invite</a></li>
<li><a href="#_ac_4">== AC:</a></li>
<li><a href="#_epic_digital_menu">Epic: Digital Menu</a></li>
<li><a href="#_us_filter_menu">US: filter menu</a></li>
<li><a href="#_ac_5">== AC:</a></li>
<li><a href="#_us_define_order">US: Define order</a></li>
<li><a href="#_ac_6">== AC:</a></li>
<li><a href="#_us_order_the_order">US: Order the order</a></li>
<li><a href="#_us_cancel_order">US: Cancel order</a></li>
<li><a href="#_us_read_twitter_rating_for_dishes">US: Read twitter rating for dishes</a></li>
<li><a href="#_epic_user_profile">Epic: User Profile</a></li>
<li><a href="#_us_user_profile">US: User Profile</a></li>
<li><a href="#_epic_rate_by_twitter">Epic: Rate by twitter</a></li>
<li><a href="#_us_receive_mail_to_rate_your_dish">US: Receive mail to rate your dish</a></li>
<li><a href="#_us_rate_your_dish">US: Rate your dish</a></li>
<li><a href="#_epic_waiter_cockpit">Epic: Waiter Cockpit</a></li>
<li><a href="#_us_see_all_ordersreservations">US: See all orders/reservations</a></li>
</ul>
</li>
<li><a href="#_technical_design">Technical design</a></li>
<li><a href="#_data_model">Data Model</a>
<ul class="sectlevel4">
<li><a href="#_data_model_2">Data Model</a></li>
<li><a href="#_nosql_data_model">NoSQL Data Model</a></li>
</ul>
</li>
<li><a href="#_server_side">Server Side</a>
<ul class="sectlevel4">
<li><a href="#_java_design">Java design</a></li>
<li><a href="#_introduction">Introduction</a></li>
<li><a href="#_basic_architecture_details">Basic architecture details</a></li>
<li><a href="#_project_modules">Project modules</a></li>
<li><a href="#_components">Components</a></li>
<li><a href="#_layers">Layers</a></li>
<li><a href="#_component_structure">Component structure</a></li>
<li><a href="#_dependency_injection">Dependency injection</a></li>
<li><a href="#_layers_communication">Layers communication</a></li>
<li><a href="#_service_layer">Service layer</a></li>
<li><a href="#_service_api">Service API</a></li>
<li><a href="#_service_impl">Service <code>impl</code></a></li>
<li><a href="#">==</a></li>
<li><a href="#_logic_layer">Logic layer</a></li>
<li><a href="#_data_access_layer">Data Access layer</a></li>
<li><a href="#_security_with_json_web_token">Security with Json Web Token</a></li>
<li><a href="#_jwt_basics">JWT basics</a></li>
<li><a href="#_jwt_implementation_details">JWT implementation details</a></li>
<li><a href="#_authentication">==  Authentication</a></li>
<li><a href="#_token_set_up">==  Token set up</a></li>
<li><a href="#_current_user_request">==  Current User request</a></li>
<li><a href="#_authorization">==  Authorization</a></li>
<li><a href="#_net_design">.NET design</a></li>
<li><a href="#_nodejs_design_deprecated">NodeJS design (deprecated)</a></li>
<li><a href="#_introduction_2">Introduction</a></li>
<li><a href="#_basic_architecture_details_2">Basic architecture details</a></li>
<li><a href="#_layers_2">Layers</a></li>
<li><a href="#_service_layer_2">Service layer</a></li>
<li><a href="#_logic_layer_and_data_access_layer">Logic layer and Data access layer</a></li>
<li><a href="#_security_with_json_web_token_2">Security with Json Web Token</a></li>
<li><a href="#_jwt_basics_2">JWT basics</a></li>
<li><a href="#_jwt_implementation_details_2">JWT implementation details</a></li>
<li><a href="#_authentication_2">==  Authentication</a></li>
<li><a href="#_token_set_up_2">==  Token set up</a></li>
<li><a href="#_current_user_request_2">==  Current User request</a></li>
<li><a href="#_authorization_2">==  Authorization</a></li>
<li><a href="#_serverless_design_deprecated">Serverless design (deprecated)</a></li>
<li><a href="#_introduction_3">Introduction</a></li>
<li><a href="#_basic_architecture_details_3">Basic architecture details</a></li>
<li><a href="#_layers_3">Layers</a></li>
<li><a href="#_service_layer_3">Service layer</a></li>
<li><a href="#_2">==</a></li>
<li><a href="#_logic_layer_and_data_access_layer_2">Logic layer and Data access layer</a></li>
<li><a href="#_security_with_json_web_token_3">Security with Json Web Token</a></li>
<li><a href="#_jwt_basics_3">JWT basics</a></li>
<li><a href="#_jwt_implementation_details_3">JWT implementation details</a></li>
<li><a href="#_authentication_3">==  Authentication</a></li>
<li><a href="#_token_set_up_3">==  Token set up</a></li>
<li><a href="#_current_user_request_3">==  Current User request</a></li>
<li><a href="#_authorization_3">==  Authorization</a></li>
<li><a href="#_graphql_design">GraphQL design</a></li>
</ul>
</li>
<li><a href="#_client_side">Client Side</a>
<ul class="sectlevel4">
<li><a href="#_angular_design">Angular design</a></li>
<li><a href="#_introduction_4">Introduction</a></li>
<li><a href="#_basic_project_structure">Basic project structure</a></li>
<li><a href="#_main_views_and_components">Main Views and components</a></li>
<li><a href="#_public_area">Public area</a></li>
<li><a href="#_app_component">==  App Component</a></li>
<li><a href="#_order_sidenav">== Order sidenav</a></li>
<li><a href="#_navigation_sidenav_only_for_mobile">== Navigation sidenav (only for mobile)</a></li>
<li><a href="#_header">== Header</a></li>
<li><a href="#_footer_only_for_desktop">== Footer (only for desktop)</a></li>
<li><a href="#_home_component">==  Home-Component</a></li>
<li><a href="#_menu_component">==  Menu-Component</a></li>
<li><a href="#_menu_card">== Menu-card</a></li>
<li><a href="#_book_table_component">==  Book Table Component</a></li>
<li><a href="#_book_table_dialog">== Book-table-dialog</a></li>
<li><a href="#_invitation_dialog">== Invitation-dialog</a></li>
<li><a href="#_user_area">==  User Area</a></li>
<li><a href="#_login_dialog">== Login-dialog</a></li>
<li><a href="#_password_dialog">== Password-dialog</a></li>
<li><a href="#_twitter_dialog">== Twitter-dialog</a></li>
<li><a href="#_waiter_cockpit_area">Waiter cockpit area</a></li>
<li><a href="#_order_cockpit_component">==  Order Cockpit Component</a></li>
<li><a href="#_order_dialog">== Order-dialog</a></li>
<li><a href="#_reservation_cockpit_component">==  Reservation Cockpit Component</a></li>
<li><a href="#_reservation_dialog">== Reservation-dialog</a></li>
<li><a href="#_email_management">Email Management</a></li>
<li><a href="#_accept_invite">==  Accept Invite</a></li>
<li><a href="#_reject_invite">==  Reject Invite</a></li>
<li><a href="#_cancel_reservation">==  Cancel Reservation</a></li>
<li><a href="#_cancel_orders">==  Cancel Orders</a></li>
<li><a href="#_services_and_directives">Services and directives</a></li>
<li><a href="#_price_calculator_service">Price-calculator-service</a></li>
<li><a href="#_authentication_4">Authentication</a></li>
<li><a href="#_snack_service">Snack Service</a></li>
<li><a href="#_window_service">Window Service</a></li>
<li><a href="#_equal_validator_directive">Equal-validator-directive</a></li>
<li><a href="#_mock_back_end">Mock Back-end</a></li>
<li><a href="#_booking">Booking</a></li>
<li><a href="#_orders">Orders</a></li>
<li><a href="#_dishes">Dishes</a></li>
<li><a href="#_login">Login</a></li>
<li><a href="#_security">Security</a></li>
<li><a href="#_auth_guard">Auth-guard</a></li>
<li><a href="#_jwt">JWT</a></li>
<li><a href="#_httpclient">==  HttpClient</a></li>
<li><a href="#_xamarin_design">Xamarin design</a></li>
</ul>
</li>
<li><a href="#_security_2">Security</a>
<ul class="sectlevel3">
<li><a href="#_two_factor_authentication">Two-Factor Authentication</a></li>
<li><a href="#_back_end_mechanism">Back-end mechanism</a></li>
<li><a href="#_activating_two_factor_authentication">Activating Two-Factor Authentication</a></li>
<li><a href="#_frontend">Frontend</a></li>
</ul>
</li>
<li><a href="#_testing">Testing</a></li>
<li><a href="#_server_side_2">Server Side</a>
<ul class="sectlevel4">
<li><a href="#_java_testing">Java testing</a></li>
<li><a href="#_component_testing">Component testing</a></li>
<li><a href="#_running_the_tests">Running the tests</a></li>
<li><a href="#_from_eclipse">From Eclipse</a></li>
<li><a href="#_from_command_line_using_maven">From command line using Maven</a></li>
<li><a href="#_net_testing">.NET testing</a></li>
<li><a href="#_nodejs_testing">NodeJS testing</a></li>
<li><a href="#_graphql_testing">GraphQL testing</a></li>
</ul>
</li>
<li><a href="#_client_side_2">Client Side</a>
<ul class="sectlevel4">
<li><a href="#_angular_testing">Angular testing</a></li>
<li><a href="#_3">==</a></li>
<li><a href="#_testing_components">Testing Components</a></li>
<li><a href="#_dialog_components">Dialog components</a></li>
<li><a href="#_testing_services">Testing Services</a></li>
<li><a href="#_testing_in_a_ci_environment">Testing in a CI environment</a></li>
<li><a href="#_xamarin_testing">Xamarin testing</a></li>
</ul>
</li>
<li><a href="#_end_to_end">End to end</a>
<ul class="sectlevel4">
<li><a href="#_mrchecker_e2e_testing">MrChecker E2E Testing</a></li>
<li><a href="#_introduction_5">Introduction</a></li>
<li><a href="#_how_to_use_it">How to use it</a></li>
<li><a href="#_end_to_end_tests_in_my_thai_star">End to end tests in My Thai Star</a></li>
</ul>
</li>
<li><a href="#_ui_design">UI design</a>
<ul class="sectlevel3">
<li><a href="#_style_guide">Style guide</a></li>
<li><a href="#_low_and_high_fidelity_wireframes">Low and high fidelity wireframes</a></li>
</ul>
</li>
<li><a href="#_cicd">CI/CD</a>
<ul class="sectlevel3">
<li><a href="#_my_thai_star_in_production_line">My Thai Star in Production Line</a></li>
<li><a href="#_what_is_pl">What is PL?</a></li>
<li><a href="#_introduction_6">Introduction</a></li>
<li><a href="#_where_can_i_find_all_my_thai_star_pipelines">Where can I find all My Thai Star Pipelines?</a></li>
<li><a href="#_ci_in_my_thai_star_stack">CI in My Thai Star stack</a></li>
<li><a href="#_how_to_configure_everything_out_of_the_box">How to configure everything out of the box</a></li>
<li><a href="#_deployment">Deployment</a></li>
<li><a href="#_where_docker_containers_will_be_running">Where Docker containers will be running?</a></li>
<li><a href="#_container_schema">Container Schema</a></li>
<li><a href="#_run_my_thai_star">Run My Thai Star</a></li>
<li><a href="#_mythaistar_on_native_kubernetes_as_a_service_nkaas"><code>MyThaiStar</code> on Native Kubernetes as a Service (nKaaS)</a></li>
<li><a href="#_setting_up_the_environment">Setting up the environment</a></li>
<li><a href="#_following_the_nkaas_guide">Following the nKaaS guide</a></li>
<li><a href="#_requesting_a_namespace">Requesting a namespace</a></li>
<li><a href="#_setting_up_harbor">Setting up Harbor</a></li>
<li><a href="#_setting_up_jenkins">Setting up Jenkins</a></li>
<li><a href="#_deploying_mts">Deploying MTS</a></li>
</ul>
</li>
</ul>
</div>
<div class="sect4">
<h5 id="_angular_testing"><a class="anchor" href="#_angular_testing"></a>Angular testing</h5>
<div class="imageblock">
<div class="content">
<a class="image" href="images/angular/testing.JPG"><img src="_images/images/angular/testing.JPG" alt="testing"></a>
</div>
</div>
<div class="paragraph">
<p><code>MyThaiStar</code> testing is made using Angular default testing environment and syntax language: <a href="https://karma-runner.github.io/1.0/index.html"><strong>Karma</strong></a> and <a href="https://jasmine.github.io/"><strong>Jasmine</strong></a></p>
</div>
<div class="paragraph">
<p>To test an element of the application, you indicate that tests are a special type of files with the extension <strong>.spec.ts</strong>, then, in MyThaiStar angular/CLI config you can notice that there is an array with only one entry, Karma, with at the same time has one entry to <code>Karma.config.js</code>.</p>
</div>
<div class="paragraph">
<p>In the configuration of Karma we indicate which syntax language we are going to use (currently Jasmine as said before) between some other configurations, it is remarkable the last one: <em>browsers</em>. By default, the only available browser is chrome, that is because Karma works opening a chrome view to run all the tests, in that same window, Karma shows the result or errors of the test run. But we can add some other browser to adjust to our necessities, for example, in some automatic processes that run from console, it is not an option to open a chrome window, in that case, <code>MyThaiStar</code> used PhantomJS and ChromeHeadless.</p>
</div>
<div class="paragraph">
<p>Taking all of this into account, to run the test in <code>MyThaiStar</code> we need to move to project root folder and run this command : <code>ng test --browser &lt;browser&gt;</code></p>
</div>
</div>
<div class="sect4">
<h5 id="_3"><a class="anchor" href="#_3"></a>==</h5>
<div class="paragraph">
<p>If you run just <code>ng test</code> it will run the three browser options <strong>simultaneously</strong>, giving as a result three test runs and outputs, it can cause timeouts and unwanted behaviors, if you want a shortcut to run the test with chrome window you can just run <code>yarn test</code> so we really encourage to <strong>not use</strong> just <code>ng test</code>.
== ==</p>
</div>
<div class="paragraph">
<p>Here we are going to see how Client side testing of <code>MyThaiStar</code> has been done.</p>
</div>
</div>
<div class="sect4">
<h5 id="_testing_components"><a class="anchor" href="#_testing_components"></a>Testing Components</h5>
<div class="paragraph">
<p>Angular components were created using angular/CLI <code>ng create component</code> so they already come with an spec file to test them. The only thing left to do is to add the providers and imports needed in the component to work as the component itself, once this is done, the most basic test is to be sure that all the dependencies and the component itself can be correctly created.</p>
</div>
<div class="paragraph">
<p>As an example, this is the <em>spec.ts</em> of the menu view component:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-JavaScript hljs" data-lang="JavaScript">all the imports...

describe('MenuComponent', () =&gt; {
  let component: MenuComponent;
  let fixture: ComponentFixture&lt;MenuComponent&gt;;

  beforeEach(async(() =&gt; {
    TestBed.configureTestingModule({
      declarations: [ MenuComponent, MenuCardComponent ],
      providers: [SidenavService, MenuService, SnackBarService],
      imports: [
        BrowserAnimationsModule,
        BackendModule.forRoot({environmentType: 0, restServiceRoot: 'v1'}),
        CovalentModule,
      ],
    })
    .compileComponents();
  }));

  beforeEach(() =&gt; {
    fixture = TestBed.createComponent(MenuComponent);
    component = fixture.componentInstance;
    fixture.detectChanges();
  });

  it('should create', () =&gt; {
    expect(component).toBeTruthy();
  });
});</code></pre>
</div>
</div>
<div class="paragraph">
<p>First we declare the component to be tested and a Fixture object, then, we configure the <code>testingModule</code> right in the same way we could configure the MenuModule with the difference here that tests always have to use the mock back-end because we do not want to really depend on a server to test our components.</p>
</div>
<div class="paragraph">
<p>Once configured the test module, we have to prepare the context of the test, in this case we create the component, that is exactly what is going on in the <code>beforeEach()</code> function.</p>
</div>
<div class="paragraph">
<p>Finally, we are ready to use the component and it&#8217;s fixture to check if the component has bee correctly created.</p>
</div>
<div class="paragraph">
<p>At this moment this is the case for most of the components, in the future, some work would be applied on this matter to have a full testing experience in <code>MyThaiStar</code> components.</p>
</div>
</div>
<div class="sect4">
<h5 id="_dialog_components"><a class="anchor" href="#_dialog_components"></a>Dialog components</h5>
<div class="paragraph">
<p>Dialog components are in a special category because they can not be tested normally. In the way Material implements the opening of dialogs, you have to create a component that will load into a dialog, to tell the module to load this components when needed, they have to be added into a special array category: <code><em>EntryComponents</em></code>. So, to test them, we need to import them in the test file as well.</p>
</div>
<div class="paragraph">
<p>Also, the testing code to open the component is a bit different too:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-JavaScript hljs" data-lang="JavaScript">...
  beforeEach(() =&gt; {
    dialog = TestBed.get(MdDialog);
    component = dialog.open(CommentDialogComponent).componentInstance;
  });
...</code></pre>
</div>
</div>
<div class="paragraph">
<p>That is right, the <code>beforeEach()</code> function is slightly different from the the example above, in this case we have to force to the test to know that the component is only displayed in a dialog, so we have to open a dialog with this component in order to access it.</p>
</div>
</div>
<div class="sect4">
<h5 id="_testing_services"><a class="anchor" href="#_testing_services"></a>Testing Services</h5>
<div class="paragraph">
<p>As well as components, services can be tested too, actually, they are even more necessary to be tested because they have inside more complex logic and data management.</p>
</div>
<div class="paragraph">
<p>As an example of testing services i am going to use a well done services, with a specific purpose and with its logic completely tested, the price-calculator service:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-JavaScript hljs" data-lang="JavaScript">...

describe('PriceCalculatorService', () =&gt; {

  beforeEach(() =&gt; {
    TestBed.configureTestingModule({
      providers: [PriceCalculatorService],
    });
  });

  it('should be properly injected', inject([PriceCalculatorService], (service: PriceCalculatorService) =&gt; {
    expect(service).toBeTruthy();
  }));

  describe('check getPrice method', () =&gt; {

    it('should calculate price for single order without extras', inject([PriceCalculatorService], (service: PriceCalculatorService) =&gt; {
      const order: OrderView = {
        dish: {
          id: 0,
          price: 12.50,
          name: 'Order without extras',
        },
        orderLine: {
          comment: '',
          amount: 1,
        },
        extras: [],
      };

      expect(service.getPrice(order)).toEqual(order.dish.price);
    }));
...</code></pre>
</div>
</div>
<div class="paragraph">
<p>In services test, we have to inject the service in order to use it, then we can define some initializing contexts to test if the functions of the services returns the expected values, in the example we can see how an imaginary order is created and expected the function <code>getPrice()</code> to correctly calculate the price of that order.</p>
</div>
<div class="paragraph">
<p>In this same test file you can find some more test regarding all the possibilities of use in that services: orders with and without extras, single order, multiple orders and so on.</p>
</div>
<div class="paragraph">
<p>Some services as well as the components have only tested that they are correctly created and they dependencies properly injected, in the future, will be full covering regarding this services test coverage.</p>
</div>
</div>
<div class="sect4">
<h5 id="_testing_in_a_ci_environment"><a class="anchor" href="#_testing_in_a_ci_environment"></a>Testing in a CI environment</h5>
<div id="toc" class="toc">
<div id="toctitle" class="title">Table of Contents</div>
<ul class="sectlevel1">
<li><a href="#_mythaistar">MyThaiStar</a>
<ul class="sectlevel2">
<li><a href="#_1_my_thai_star_agile_framework">1.	My Thai Star – Agile Framework</a></li>
<li><a href="#_1_1_team_setup">1.1 Team Setup</a></li>
<li><a href="#_1_2_scrum_events">1.2 Scrum events</a></li>
<li><a href="#_sprint_planning">Sprint Planning</a></li>
<li><a href="#_sprint_review">Sprint Review</a></li>
<li><a href="#_sprint_retrospective">Sprint Retrospective</a></li>
<li><a href="#_daily_stand_ups">Daily Stand-ups</a></li>
<li><a href="#_backlog_refinement">Backlog refinement</a></li>
<li><a href="#_1_3_establish_product_backlog">1.3 Establish Product Backlog</a></li>
<li><a href="#_2_my_thai_star_agile_diary">2.	My Thai Star – Agile Diary</a></li>
<li><a href="#_24_03_2017_sprint_1_planning">24.03.2017 Sprint 1 Planning</a></li>
<li><a href="#_27_04_2017_sprint_1_review">27.04.2017 Sprint 1 Review</a></li>
<li><a href="#_03_05_2017_sprint_2_planning">03.05.2017 Sprint 2 Planning</a></li>
<li><a href="#_01_06_2017_sprint_2_review">01.06.2017 Sprint 2 Review</a></li>
<li><a href="#_user_stories">User Stories</a></li>
<li><a href="#_epic_invite_friends">Epic: Invite friends</a></li>
<li><a href="#_us_create_invite_for_friends">US: create invite for friends</a></li>
<li><a href="#_acceptance_criteria">== Acceptance criteria</a></li>
<li><a href="#_us_create_reservation">US: create reservation</a></li>
<li><a href="#_acceptance_criteria_2">== Acceptance criteria</a></li>
<li><a href="#_wireframes">== Wireframes</a></li>
<li><a href="#_us_handle_invite">US: handle invite</a></li>
<li><a href="#_ac">== AC:</a></li>
<li><a href="#_us_revoke_accepted_invite">US: revoke accepted invite</a></li>
<li><a href="#_ac_2">==  AC:</a></li>
<li><a href="#_us_calculate_best_table">US: calculate best table</a></li>
<li><a href="#_details">== Details</a></li>
<li><a href="#_us_find_table_by_reservation_info">US: find table by reservation info</a></li>
<li><a href="#_ac_3">== AC:</a></li>
<li><a href="#_us_cancel_invite">US: cancel invite</a></li>
<li><a href="#_ac_4">== AC:</a></li>
<li><a href="#_epic_digital_menu">Epic: Digital Menu</a></li>
<li><a href="#_us_filter_menu">US: filter menu</a></li>
<li><a href="#_ac_5">== AC:</a></li>
<li><a href="#_us_define_order">US: Define order</a></li>
<li><a href="#_ac_6">== AC:</a></li>
<li><a href="#_us_order_the_order">US: Order the order</a></li>
<li><a href="#_us_cancel_order">US: Cancel order</a></li>
<li><a href="#_us_read_twitter_rating_for_dishes">US: Read twitter rating for dishes</a></li>
<li><a href="#_epic_user_profile">Epic: User Profile</a></li>
<li><a href="#_us_user_profile">US: User Profile</a></li>
<li><a href="#_epic_rate_by_twitter">Epic: Rate by twitter</a></li>
<li><a href="#_us_receive_mail_to_rate_your_dish">US: Receive mail to rate your dish</a></li>
<li><a href="#_us_rate_your_dish">US: Rate your dish</a></li>
<li><a href="#_epic_waiter_cockpit">Epic: Waiter Cockpit</a></li>
<li><a href="#_us_see_all_ordersreservations">US: See all orders/reservations</a></li>
</ul>
</li>
<li><a href="#_technical_design">Technical design</a></li>
<li><a href="#_data_model">Data Model</a>
<ul class="sectlevel4">
<li><a href="#_data_model_2">Data Model</a></li>
<li><a href="#_nosql_data_model">NoSQL Data Model</a></li>
</ul>
</li>
<li><a href="#_server_side">Server Side</a>
<ul class="sectlevel4">
<li><a href="#_java_design">Java design</a></li>
<li><a href="#_introduction">Introduction</a></li>
<li><a href="#_basic_architecture_details">Basic architecture details</a></li>
<li><a href="#_project_modules">Project modules</a></li>
<li><a href="#_components">Components</a></li>
<li><a href="#_layers">Layers</a></li>
<li><a href="#_component_structure">Component structure</a></li>
<li><a href="#_dependency_injection">Dependency injection</a></li>
<li><a href="#_layers_communication">Layers communication</a></li>
<li><a href="#_service_layer">Service layer</a></li>
<li><a href="#_service_api">Service API</a></li>
<li><a href="#_service_impl">Service <code>impl</code></a></li>
<li><a href="#">==</a></li>
<li><a href="#_logic_layer">Logic layer</a></li>
<li><a href="#_data_access_layer">Data Access layer</a></li>
<li><a href="#_security_with_json_web_token">Security with Json Web Token</a></li>
<li><a href="#_jwt_basics">JWT basics</a></li>
<li><a href="#_jwt_implementation_details">JWT implementation details</a></li>
<li><a href="#_authentication">==  Authentication</a></li>
<li><a href="#_token_set_up">==  Token set up</a></li>
<li><a href="#_current_user_request">==  Current User request</a></li>
<li><a href="#_authorization">==  Authorization</a></li>
<li><a href="#_net_design">.NET design</a></li>
<li><a href="#_nodejs_design_deprecated">NodeJS design (deprecated)</a></li>
<li><a href="#_introduction_2">Introduction</a></li>
<li><a href="#_basic_architecture_details_2">Basic architecture details</a></li>
<li><a href="#_layers_2">Layers</a></li>
<li><a href="#_service_layer_2">Service layer</a></li>
<li><a href="#_logic_layer_and_data_access_layer">Logic layer and Data access layer</a></li>
<li><a href="#_security_with_json_web_token_2">Security with Json Web Token</a></li>
<li><a href="#_jwt_basics_2">JWT basics</a></li>
<li><a href="#_jwt_implementation_details_2">JWT implementation details</a></li>
<li><a href="#_authentication_2">==  Authentication</a></li>
<li><a href="#_token_set_up_2">==  Token set up</a></li>
<li><a href="#_current_user_request_2">==  Current User request</a></li>
<li><a href="#_authorization_2">==  Authorization</a></li>
<li><a href="#_serverless_design_deprecated">Serverless design (deprecated)</a></li>
<li><a href="#_introduction_3">Introduction</a></li>
<li><a href="#_basic_architecture_details_3">Basic architecture details</a></li>
<li><a href="#_layers_3">Layers</a></li>
<li><a href="#_service_layer_3">Service layer</a></li>
<li><a href="#_2">==</a></li>
<li><a href="#_logic_layer_and_data_access_layer_2">Logic layer and Data access layer</a></li>
<li><a href="#_security_with_json_web_token_3">Security with Json Web Token</a></li>
<li><a href="#_jwt_basics_3">JWT basics</a></li>
<li><a href="#_jwt_implementation_details_3">JWT implementation details</a></li>
<li><a href="#_authentication_3">==  Authentication</a></li>
<li><a href="#_token_set_up_3">==  Token set up</a></li>
<li><a href="#_current_user_request_3">==  Current User request</a></li>
<li><a href="#_authorization_3">==  Authorization</a></li>
<li><a href="#_graphql_design">GraphQL design</a></li>
</ul>
</li>
<li><a href="#_client_side">Client Side</a>
<ul class="sectlevel4">
<li><a href="#_angular_design">Angular design</a></li>
<li><a href="#_introduction_4">Introduction</a></li>
<li><a href="#_basic_project_structure">Basic project structure</a></li>
<li><a href="#_main_views_and_components">Main Views and components</a></li>
<li><a href="#_public_area">Public area</a></li>
<li><a href="#_app_component">==  App Component</a></li>
<li><a href="#_order_sidenav">== Order sidenav</a></li>
<li><a href="#_navigation_sidenav_only_for_mobile">== Navigation sidenav (only for mobile)</a></li>
<li><a href="#_header">== Header</a></li>
<li><a href="#_footer_only_for_desktop">== Footer (only for desktop)</a></li>
<li><a href="#_home_component">==  Home-Component</a></li>
<li><a href="#_menu_component">==  Menu-Component</a></li>
<li><a href="#_menu_card">== Menu-card</a></li>
<li><a href="#_book_table_component">==  Book Table Component</a></li>
<li><a href="#_book_table_dialog">== Book-table-dialog</a></li>
<li><a href="#_invitation_dialog">== Invitation-dialog</a></li>
<li><a href="#_user_area">==  User Area</a></li>
<li><a href="#_login_dialog">== Login-dialog</a></li>
<li><a href="#_password_dialog">== Password-dialog</a></li>
<li><a href="#_twitter_dialog">== Twitter-dialog</a></li>
<li><a href="#_waiter_cockpit_area">Waiter cockpit area</a></li>
<li><a href="#_order_cockpit_component">==  Order Cockpit Component</a></li>
<li><a href="#_order_dialog">== Order-dialog</a></li>
<li><a href="#_reservation_cockpit_component">==  Reservation Cockpit Component</a></li>
<li><a href="#_reservation_dialog">== Reservation-dialog</a></li>
<li><a href="#_email_management">Email Management</a></li>
<li><a href="#_accept_invite">==  Accept Invite</a></li>
<li><a href="#_reject_invite">==  Reject Invite</a></li>
<li><a href="#_cancel_reservation">==  Cancel Reservation</a></li>
<li><a href="#_cancel_orders">==  Cancel Orders</a></li>
<li><a href="#_services_and_directives">Services and directives</a></li>
<li><a href="#_price_calculator_service">Price-calculator-service</a></li>
<li><a href="#_authentication_4">Authentication</a></li>
<li><a href="#_snack_service">Snack Service</a></li>
<li><a href="#_window_service">Window Service</a></li>
<li><a href="#_equal_validator_directive">Equal-validator-directive</a></li>
<li><a href="#_mock_back_end">Mock Back-end</a></li>
<li><a href="#_booking">Booking</a></li>
<li><a href="#_orders">Orders</a></li>
<li><a href="#_dishes">Dishes</a></li>
<li><a href="#_login">Login</a></li>
<li><a href="#_security">Security</a></li>
<li><a href="#_auth_guard">Auth-guard</a></li>
<li><a href="#_jwt">JWT</a></li>
<li><a href="#_httpclient">==  HttpClient</a></li>
<li><a href="#_xamarin_design">Xamarin design</a></li>
</ul>
</li>
<li><a href="#_security_2">Security</a>
<ul class="sectlevel3">
<li><a href="#_two_factor_authentication">Two-Factor Authentication</a></li>
<li><a href="#_back_end_mechanism">Back-end mechanism</a></li>
<li><a href="#_activating_two_factor_authentication">Activating Two-Factor Authentication</a></li>
<li><a href="#_frontend">Frontend</a></li>
</ul>
</li>
<li><a href="#_testing">Testing</a></li>
<li><a href="#_server_side_2">Server Side</a>
<ul class="sectlevel4">
<li><a href="#_java_testing">Java testing</a></li>
<li><a href="#_component_testing">Component testing</a></li>
<li><a href="#_running_the_tests">Running the tests</a></li>
<li><a href="#_from_eclipse">From Eclipse</a></li>
<li><a href="#_from_command_line_using_maven">From command line using Maven</a></li>
<li><a href="#_net_testing">.NET testing</a></li>
<li><a href="#_nodejs_testing">NodeJS testing</a></li>
<li><a href="#_graphql_testing">GraphQL testing</a></li>
</ul>
</li>
<li><a href="#_client_side_2">Client Side</a>
<ul class="sectlevel4">
<li><a href="#_angular_testing">Angular testing</a></li>
<li><a href="#_3">==</a></li>
<li><a href="#_testing_components">Testing Components</a></li>
<li><a href="#_dialog_components">Dialog components</a></li>
<li><a href="#_testing_services">Testing Services</a></li>
<li><a href="#_testing_in_a_ci_environment">Testing in a CI environment</a></li>
<li><a href="#_xamarin_testing">Xamarin testing</a></li>
</ul>
</li>
<li><a href="#_end_to_end">End to end</a>
<ul class="sectlevel4">
<li><a href="#_mrchecker_e2e_testing">MrChecker E2E Testing</a></li>
<li><a href="#_introduction_5">Introduction</a></li>
<li><a href="#_how_to_use_it">How to use it</a></li>
<li><a href="#_end_to_end_tests_in_my_thai_star">End to end tests in My Thai Star</a></li>
</ul>
</li>
<li><a href="#_ui_design">UI design</a>
<ul class="sectlevel3">
<li><a href="#_style_guide">Style guide</a></li>
<li><a href="#_low_and_high_fidelity_wireframes">Low and high fidelity wireframes</a></li>
</ul>
</li>
<li><a href="#_cicd">CI/CD</a>
<ul class="sectlevel3">
<li><a href="#_my_thai_star_in_production_line">My Thai Star in Production Line</a></li>
<li><a href="#_what_is_pl">What is PL?</a></li>
<li><a href="#_introduction_6">Introduction</a></li>
<li><a href="#_where_can_i_find_all_my_thai_star_pipelines">Where can I find all My Thai Star Pipelines?</a></li>
<li><a href="#_ci_in_my_thai_star_stack">CI in My Thai Star stack</a></li>
<li><a href="#_how_to_configure_everything_out_of_the_box">How to configure everything out of the box</a></li>
<li><a href="#_deployment">Deployment</a></li>
<li><a href="#_where_docker_containers_will_be_running">Where Docker containers will be running?</a></li>
<li><a href="#_container_schema">Container Schema</a></li>
<li><a href="#_run_my_thai_star">Run My Thai Star</a></li>
<li><a href="#_mythaistar_on_native_kubernetes_as_a_service_nkaas"><code>MyThaiStar</code> on Native Kubernetes as a Service (nKaaS)</a></li>
<li><a href="#_setting_up_the_environment">Setting up the environment</a></li>
<li><a href="#_following_the_nkaas_guide">Following the nKaaS guide</a></li>
<li><a href="#_requesting_a_namespace">Requesting a namespace</a></li>
<li><a href="#_setting_up_harbor">Setting up Harbor</a></li>
<li><a href="#_setting_up_jenkins">Setting up Jenkins</a></li>
<li><a href="#_deploying_mts">Deploying MTS</a></li>
</ul>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_xamarin_testing"><a class="anchor" href="#_xamarin_testing"></a>Xamarin testing</h5>
<div class="paragraph">
<p>TODO</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_end_to_end"><a class="anchor" href="#_end_to_end"></a>End to end</h2>
<div class="sectionbody">
<div id="toc" class="toc">
<div id="toctitle" class="title">Table of Contents</div>
<ul class="sectlevel1">
<li><a href="#_mythaistar">MyThaiStar</a>
<ul class="sectlevel2">
<li><a href="#_1_my_thai_star_agile_framework">1.	My Thai Star – Agile Framework</a></li>
<li><a href="#_1_1_team_setup">1.1 Team Setup</a></li>
<li><a href="#_1_2_scrum_events">1.2 Scrum events</a></li>
<li><a href="#_sprint_planning">Sprint Planning</a></li>
<li><a href="#_sprint_review">Sprint Review</a></li>
<li><a href="#_sprint_retrospective">Sprint Retrospective</a></li>
<li><a href="#_daily_stand_ups">Daily Stand-ups</a></li>
<li><a href="#_backlog_refinement">Backlog refinement</a></li>
<li><a href="#_1_3_establish_product_backlog">1.3 Establish Product Backlog</a></li>
<li><a href="#_2_my_thai_star_agile_diary">2.	My Thai Star – Agile Diary</a></li>
<li><a href="#_24_03_2017_sprint_1_planning">24.03.2017 Sprint 1 Planning</a></li>
<li><a href="#_27_04_2017_sprint_1_review">27.04.2017 Sprint 1 Review</a></li>
<li><a href="#_03_05_2017_sprint_2_planning">03.05.2017 Sprint 2 Planning</a></li>
<li><a href="#_01_06_2017_sprint_2_review">01.06.2017 Sprint 2 Review</a></li>
<li><a href="#_user_stories">User Stories</a></li>
<li><a href="#_epic_invite_friends">Epic: Invite friends</a></li>
<li><a href="#_us_create_invite_for_friends">US: create invite for friends</a></li>
<li><a href="#_acceptance_criteria">== Acceptance criteria</a></li>
<li><a href="#_us_create_reservation">US: create reservation</a></li>
<li><a href="#_acceptance_criteria_2">== Acceptance criteria</a></li>
<li><a href="#_wireframes">== Wireframes</a></li>
<li><a href="#_us_handle_invite">US: handle invite</a></li>
<li><a href="#_ac">== AC:</a></li>
<li><a href="#_us_revoke_accepted_invite">US: revoke accepted invite</a></li>
<li><a href="#_ac_2">==  AC:</a></li>
<li><a href="#_us_calculate_best_table">US: calculate best table</a></li>
<li><a href="#_details">== Details</a></li>
<li><a href="#_us_find_table_by_reservation_info">US: find table by reservation info</a></li>
<li><a href="#_ac_3">== AC:</a></li>
<li><a href="#_us_cancel_invite">US: cancel invite</a></li>
<li><a href="#_ac_4">== AC:</a></li>
<li><a href="#_epic_digital_menu">Epic: Digital Menu</a></li>
<li><a href="#_us_filter_menu">US: filter menu</a></li>
<li><a href="#_ac_5">== AC:</a></li>
<li><a href="#_us_define_order">US: Define order</a></li>
<li><a href="#_ac_6">== AC:</a></li>
<li><a href="#_us_order_the_order">US: Order the order</a></li>
<li><a href="#_us_cancel_order">US: Cancel order</a></li>
<li><a href="#_us_read_twitter_rating_for_dishes">US: Read twitter rating for dishes</a></li>
<li><a href="#_epic_user_profile">Epic: User Profile</a></li>
<li><a href="#_us_user_profile">US: User Profile</a></li>
<li><a href="#_epic_rate_by_twitter">Epic: Rate by twitter</a></li>
<li><a href="#_us_receive_mail_to_rate_your_dish">US: Receive mail to rate your dish</a></li>
<li><a href="#_us_rate_your_dish">US: Rate your dish</a></li>
<li><a href="#_epic_waiter_cockpit">Epic: Waiter Cockpit</a></li>
<li><a href="#_us_see_all_ordersreservations">US: See all orders/reservations</a></li>
</ul>
</li>
<li><a href="#_technical_design">Technical design</a></li>
<li><a href="#_data_model">Data Model</a>
<ul class="sectlevel4">
<li><a href="#_data_model_2">Data Model</a></li>
<li><a href="#_nosql_data_model">NoSQL Data Model</a></li>
</ul>
</li>
<li><a href="#_server_side">Server Side</a>
<ul class="sectlevel4">
<li><a href="#_java_design">Java design</a></li>
<li><a href="#_introduction">Introduction</a></li>
<li><a href="#_basic_architecture_details">Basic architecture details</a></li>
<li><a href="#_project_modules">Project modules</a></li>
<li><a href="#_components">Components</a></li>
<li><a href="#_layers">Layers</a></li>
<li><a href="#_component_structure">Component structure</a></li>
<li><a href="#_dependency_injection">Dependency injection</a></li>
<li><a href="#_layers_communication">Layers communication</a></li>
<li><a href="#_service_layer">Service layer</a></li>
<li><a href="#_service_api">Service API</a></li>
<li><a href="#_service_impl">Service <code>impl</code></a></li>
<li><a href="#">==</a></li>
<li><a href="#_logic_layer">Logic layer</a></li>
<li><a href="#_data_access_layer">Data Access layer</a></li>
<li><a href="#_security_with_json_web_token">Security with Json Web Token</a></li>
<li><a href="#_jwt_basics">JWT basics</a></li>
<li><a href="#_jwt_implementation_details">JWT implementation details</a></li>
<li><a href="#_authentication">==  Authentication</a></li>
<li><a href="#_token_set_up">==  Token set up</a></li>
<li><a href="#_current_user_request">==  Current User request</a></li>
<li><a href="#_authorization">==  Authorization</a></li>
<li><a href="#_net_design">.NET design</a></li>
<li><a href="#_nodejs_design_deprecated">NodeJS design (deprecated)</a></li>
<li><a href="#_introduction_2">Introduction</a></li>
<li><a href="#_basic_architecture_details_2">Basic architecture details</a></li>
<li><a href="#_layers_2">Layers</a></li>
<li><a href="#_service_layer_2">Service layer</a></li>
<li><a href="#_logic_layer_and_data_access_layer">Logic layer and Data access layer</a></li>
<li><a href="#_security_with_json_web_token_2">Security with Json Web Token</a></li>
<li><a href="#_jwt_basics_2">JWT basics</a></li>
<li><a href="#_jwt_implementation_details_2">JWT implementation details</a></li>
<li><a href="#_authentication_2">==  Authentication</a></li>
<li><a href="#_token_set_up_2">==  Token set up</a></li>
<li><a href="#_current_user_request_2">==  Current User request</a></li>
<li><a href="#_authorization_2">==  Authorization</a></li>
<li><a href="#_serverless_design_deprecated">Serverless design (deprecated)</a></li>
<li><a href="#_introduction_3">Introduction</a></li>
<li><a href="#_basic_architecture_details_3">Basic architecture details</a></li>
<li><a href="#_layers_3">Layers</a></li>
<li><a href="#_service_layer_3">Service layer</a></li>
<li><a href="#_2">==</a></li>
<li><a href="#_logic_layer_and_data_access_layer_2">Logic layer and Data access layer</a></li>
<li><a href="#_security_with_json_web_token_3">Security with Json Web Token</a></li>
<li><a href="#_jwt_basics_3">JWT basics</a></li>
<li><a href="#_jwt_implementation_details_3">JWT implementation details</a></li>
<li><a href="#_authentication_3">==  Authentication</a></li>
<li><a href="#_token_set_up_3">==  Token set up</a></li>
<li><a href="#_current_user_request_3">==  Current User request</a></li>
<li><a href="#_authorization_3">==  Authorization</a></li>
<li><a href="#_graphql_design">GraphQL design</a></li>
</ul>
</li>
<li><a href="#_client_side">Client Side</a>
<ul class="sectlevel4">
<li><a href="#_angular_design">Angular design</a></li>
<li><a href="#_introduction_4">Introduction</a></li>
<li><a href="#_basic_project_structure">Basic project structure</a></li>
<li><a href="#_main_views_and_components">Main Views and components</a></li>
<li><a href="#_public_area">Public area</a></li>
<li><a href="#_app_component">==  App Component</a></li>
<li><a href="#_order_sidenav">== Order sidenav</a></li>
<li><a href="#_navigation_sidenav_only_for_mobile">== Navigation sidenav (only for mobile)</a></li>
<li><a href="#_header">== Header</a></li>
<li><a href="#_footer_only_for_desktop">== Footer (only for desktop)</a></li>
<li><a href="#_home_component">==  Home-Component</a></li>
<li><a href="#_menu_component">==  Menu-Component</a></li>
<li><a href="#_menu_card">== Menu-card</a></li>
<li><a href="#_book_table_component">==  Book Table Component</a></li>
<li><a href="#_book_table_dialog">== Book-table-dialog</a></li>
<li><a href="#_invitation_dialog">== Invitation-dialog</a></li>
<li><a href="#_user_area">==  User Area</a></li>
<li><a href="#_login_dialog">== Login-dialog</a></li>
<li><a href="#_password_dialog">== Password-dialog</a></li>
<li><a href="#_twitter_dialog">== Twitter-dialog</a></li>
<li><a href="#_waiter_cockpit_area">Waiter cockpit area</a></li>
<li><a href="#_order_cockpit_component">==  Order Cockpit Component</a></li>
<li><a href="#_order_dialog">== Order-dialog</a></li>
<li><a href="#_reservation_cockpit_component">==  Reservation Cockpit Component</a></li>
<li><a href="#_reservation_dialog">== Reservation-dialog</a></li>
<li><a href="#_email_management">Email Management</a></li>
<li><a href="#_accept_invite">==  Accept Invite</a></li>
<li><a href="#_reject_invite">==  Reject Invite</a></li>
<li><a href="#_cancel_reservation">==  Cancel Reservation</a></li>
<li><a href="#_cancel_orders">==  Cancel Orders</a></li>
<li><a href="#_services_and_directives">Services and directives</a></li>
<li><a href="#_price_calculator_service">Price-calculator-service</a></li>
<li><a href="#_authentication_4">Authentication</a></li>
<li><a href="#_snack_service">Snack Service</a></li>
<li><a href="#_window_service">Window Service</a></li>
<li><a href="#_equal_validator_directive">Equal-validator-directive</a></li>
<li><a href="#_mock_back_end">Mock Back-end</a></li>
<li><a href="#_booking">Booking</a></li>
<li><a href="#_orders">Orders</a></li>
<li><a href="#_dishes">Dishes</a></li>
<li><a href="#_login">Login</a></li>
<li><a href="#_security">Security</a></li>
<li><a href="#_auth_guard">Auth-guard</a></li>
<li><a href="#_jwt">JWT</a></li>
<li><a href="#_httpclient">==  HttpClient</a></li>
<li><a href="#_xamarin_design">Xamarin design</a></li>
</ul>
</li>
<li><a href="#_security_2">Security</a>
<ul class="sectlevel3">
<li><a href="#_two_factor_authentication">Two-Factor Authentication</a></li>
<li><a href="#_back_end_mechanism">Back-end mechanism</a></li>
<li><a href="#_activating_two_factor_authentication">Activating Two-Factor Authentication</a></li>
<li><a href="#_frontend">Frontend</a></li>
</ul>
</li>
<li><a href="#_testing">Testing</a></li>
<li><a href="#_server_side_2">Server Side</a>
<ul class="sectlevel4">
<li><a href="#_java_testing">Java testing</a></li>
<li><a href="#_component_testing">Component testing</a></li>
<li><a href="#_running_the_tests">Running the tests</a></li>
<li><a href="#_from_eclipse">From Eclipse</a></li>
<li><a href="#_from_command_line_using_maven">From command line using Maven</a></li>
<li><a href="#_net_testing">.NET testing</a></li>
<li><a href="#_nodejs_testing">NodeJS testing</a></li>
<li><a href="#_graphql_testing">GraphQL testing</a></li>
</ul>
</li>
<li><a href="#_client_side_2">Client Side</a>
<ul class="sectlevel4">
<li><a href="#_angular_testing">Angular testing</a></li>
<li><a href="#_3">==</a></li>
<li><a href="#_testing_components">Testing Components</a></li>
<li><a href="#_dialog_components">Dialog components</a></li>
<li><a href="#_testing_services">Testing Services</a></li>
<li><a href="#_testing_in_a_ci_environment">Testing in a CI environment</a></li>
<li><a href="#_xamarin_testing">Xamarin testing</a></li>
</ul>
</li>
<li><a href="#_end_to_end">End to end</a>
<ul class="sectlevel4">
<li><a href="#_mrchecker_e2e_testing">MrChecker E2E Testing</a></li>
<li><a href="#_introduction_5">Introduction</a></li>
<li><a href="#_how_to_use_it">How to use it</a></li>
<li><a href="#_end_to_end_tests_in_my_thai_star">End to end tests in My Thai Star</a></li>
</ul>
</li>
<li><a href="#_ui_design">UI design</a>
<ul class="sectlevel3">
<li><a href="#_style_guide">Style guide</a></li>
<li><a href="#_low_and_high_fidelity_wireframes">Low and high fidelity wireframes</a></li>
</ul>
</li>
<li><a href="#_cicd">CI/CD</a>
<ul class="sectlevel3">
<li><a href="#_my_thai_star_in_production_line">My Thai Star in Production Line</a></li>
<li><a href="#_what_is_pl">What is PL?</a></li>
<li><a href="#_introduction_6">Introduction</a></li>
<li><a href="#_where_can_i_find_all_my_thai_star_pipelines">Where can I find all My Thai Star Pipelines?</a></li>
<li><a href="#_ci_in_my_thai_star_stack">CI in My Thai Star stack</a></li>
<li><a href="#_how_to_configure_everything_out_of_the_box">How to configure everything out of the box</a></li>
<li><a href="#_deployment">Deployment</a></li>
<li><a href="#_where_docker_containers_will_be_running">Where Docker containers will be running?</a></li>
<li><a href="#_container_schema">Container Schema</a></li>
<li><a href="#_run_my_thai_star">Run My Thai Star</a></li>
<li><a href="#_mythaistar_on_native_kubernetes_as_a_service_nkaas"><code>MyThaiStar</code> on Native Kubernetes as a Service (nKaaS)</a></li>
<li><a href="#_setting_up_the_environment">Setting up the environment</a></li>
<li><a href="#_following_the_nkaas_guide">Following the nKaaS guide</a></li>
<li><a href="#_requesting_a_namespace">Requesting a namespace</a></li>
<li><a href="#_setting_up_harbor">Setting up Harbor</a></li>
<li><a href="#_setting_up_jenkins">Setting up Jenkins</a></li>
<li><a href="#_deploying_mts">Deploying MTS</a></li>
</ul>
</li>
</ul>
</div>
<div class="sect4">
<h5 id="_mrchecker_e2e_testing"><a class="anchor" href="#_mrchecker_e2e_testing"></a>MrChecker E2E Testing</h5>

</div>
<div class="sect4">
<h5 id="_introduction_5"><a class="anchor" href="#_introduction_5"></a>Introduction</h5>
<div class="paragraph">
<p>MrChecker is a testing framework included in devonfw with several useful modules, from which we will focus on the Selenium Module, a module designed to make end-to-end testing easier to implement.</p>
</div>
</div>
<div class="sect4">
<h5 id="_how_to_use_it"><a class="anchor" href="#_how_to_use_it"></a>How to use it</h5>
<div class="paragraph">
<p>First of all download the repository.</p>
</div>
<div class="paragraph">
<p>You must run My Thai Star front-end and back-end application and modify your URL to the front in <code>mrchecker/endtoend-test/src/resources/settings.properties</code></p>
</div>
<div class="paragraph">
<p>Now you can run end to end test to <strong>check</strong> if the application works properly.</p>
</div>
<div class="paragraph">
<p>To run the e2e test you have two options:</p>
</div>
<div class="paragraph">
<p><strong>The first option is using the command line in devonfw distribution</strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code>cd mrchecker/endtoend-test/
mvn test -Dtest=MyThaiStarTest -Dbrowser=Chrome</code></pre>
</div>
</div>
<div class="paragraph">
<p>optionally you can use it with a headless version or using another navigator:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code>// chrome headless (without visual component)
mvn test -Dtest=MyThaiStarTest -Dbrowser=ChromeHeadless// use firefox navigator
mvn test -Dtest=MyThaiStarTest -Dbrowser=FireFox</code></pre>
</div>
</div>
<div class="paragraph">
<p><strong>The second is importing the project in devonfw Eclipse and running <code><em>MyThaiStarTest.java</em></code> as JUnit (right click, run as JUnit)</strong></p>
</div>
<div class="paragraph">
<p>They can be executed one by one or all in one go, comment or uncomment <em>@Test</em> before those tests to enable or disable them.</p>
</div>
<div class="paragraph">
<p>For more information about how to use MrChecker and build your own end to end test read:
 * MrChecker documentation
 * MrChecker tutorial for My Thai Star</p>
</div>
</div>
<div class="sect4">
<h5 id="_end_to_end_tests_in_my_thai_star"><a class="anchor" href="#_end_to_end_tests_in_my_thai_star"></a>End to end tests in My Thai Star</h5>
<div class="paragraph">
<p>We have included a test suite with four tests to run in My Thai Star to verify everything works properly.</p>
</div>
<div class="paragraph">
<p>The included tests do the following:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code><em>Test_loginAndLogOut</em></code>: Log in and log out.</p>
</li>
<li>
<p><code><em>Test_loginFake</em></code>: Attempt to log in with a fake user.</p>
</li>
<li>
<p><code><em>Test_bookTable</em></code>: Log in and book a table, then login with a waiter and check if the table was successfully booked.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>*` <em>Test_orderMenu</em>`: Log in and order food for a certain booked table.</p>
</div>
<div class="paragraph">
<p>These four tests can be found inside <strong><code>MyThaiStarTest.java</code></strong> located <a href="https://github.com/devonfw/my-thai-star/tree/develop/mrchecker/endtoend-test/src/test/java/com/devonfw/mts/tests">here</a>.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_ui_design"><a class="anchor" href="#_ui_design"></a>UI design</h2>
<div class="sectionbody">
<div id="toc" class="toc">
<div id="toctitle" class="title">Table of Contents</div>
<ul class="sectlevel1">
<li><a href="#_mythaistar">MyThaiStar</a>
<ul class="sectlevel2">
<li><a href="#_1_my_thai_star_agile_framework">1.	My Thai Star – Agile Framework</a></li>
<li><a href="#_1_1_team_setup">1.1 Team Setup</a></li>
<li><a href="#_1_2_scrum_events">1.2 Scrum events</a></li>
<li><a href="#_sprint_planning">Sprint Planning</a></li>
<li><a href="#_sprint_review">Sprint Review</a></li>
<li><a href="#_sprint_retrospective">Sprint Retrospective</a></li>
<li><a href="#_daily_stand_ups">Daily Stand-ups</a></li>
<li><a href="#_backlog_refinement">Backlog refinement</a></li>
<li><a href="#_1_3_establish_product_backlog">1.3 Establish Product Backlog</a></li>
<li><a href="#_2_my_thai_star_agile_diary">2.	My Thai Star – Agile Diary</a></li>
<li><a href="#_24_03_2017_sprint_1_planning">24.03.2017 Sprint 1 Planning</a></li>
<li><a href="#_27_04_2017_sprint_1_review">27.04.2017 Sprint 1 Review</a></li>
<li><a href="#_03_05_2017_sprint_2_planning">03.05.2017 Sprint 2 Planning</a></li>
<li><a href="#_01_06_2017_sprint_2_review">01.06.2017 Sprint 2 Review</a></li>
<li><a href="#_user_stories">User Stories</a></li>
<li><a href="#_epic_invite_friends">Epic: Invite friends</a></li>
<li><a href="#_us_create_invite_for_friends">US: create invite for friends</a></li>
<li><a href="#_acceptance_criteria">== Acceptance criteria</a></li>
<li><a href="#_us_create_reservation">US: create reservation</a></li>
<li><a href="#_acceptance_criteria_2">== Acceptance criteria</a></li>
<li><a href="#_wireframes">== Wireframes</a></li>
<li><a href="#_us_handle_invite">US: handle invite</a></li>
<li><a href="#_ac">== AC:</a></li>
<li><a href="#_us_revoke_accepted_invite">US: revoke accepted invite</a></li>
<li><a href="#_ac_2">==  AC:</a></li>
<li><a href="#_us_calculate_best_table">US: calculate best table</a></li>
<li><a href="#_details">== Details</a></li>
<li><a href="#_us_find_table_by_reservation_info">US: find table by reservation info</a></li>
<li><a href="#_ac_3">== AC:</a></li>
<li><a href="#_us_cancel_invite">US: cancel invite</a></li>
<li><a href="#_ac_4">== AC:</a></li>
<li><a href="#_epic_digital_menu">Epic: Digital Menu</a></li>
<li><a href="#_us_filter_menu">US: filter menu</a></li>
<li><a href="#_ac_5">== AC:</a></li>
<li><a href="#_us_define_order">US: Define order</a></li>
<li><a href="#_ac_6">== AC:</a></li>
<li><a href="#_us_order_the_order">US: Order the order</a></li>
<li><a href="#_us_cancel_order">US: Cancel order</a></li>
<li><a href="#_us_read_twitter_rating_for_dishes">US: Read twitter rating for dishes</a></li>
<li><a href="#_epic_user_profile">Epic: User Profile</a></li>
<li><a href="#_us_user_profile">US: User Profile</a></li>
<li><a href="#_epic_rate_by_twitter">Epic: Rate by twitter</a></li>
<li><a href="#_us_receive_mail_to_rate_your_dish">US: Receive mail to rate your dish</a></li>
<li><a href="#_us_rate_your_dish">US: Rate your dish</a></li>
<li><a href="#_epic_waiter_cockpit">Epic: Waiter Cockpit</a></li>
<li><a href="#_us_see_all_ordersreservations">US: See all orders/reservations</a></li>
</ul>
</li>
<li><a href="#_technical_design">Technical design</a></li>
<li><a href="#_data_model">Data Model</a>
<ul class="sectlevel4">
<li><a href="#_data_model_2">Data Model</a></li>
<li><a href="#_nosql_data_model">NoSQL Data Model</a></li>
</ul>
</li>
<li><a href="#_server_side">Server Side</a>
<ul class="sectlevel4">
<li><a href="#_java_design">Java design</a></li>
<li><a href="#_introduction">Introduction</a></li>
<li><a href="#_basic_architecture_details">Basic architecture details</a></li>
<li><a href="#_project_modules">Project modules</a></li>
<li><a href="#_components">Components</a></li>
<li><a href="#_layers">Layers</a></li>
<li><a href="#_component_structure">Component structure</a></li>
<li><a href="#_dependency_injection">Dependency injection</a></li>
<li><a href="#_layers_communication">Layers communication</a></li>
<li><a href="#_service_layer">Service layer</a></li>
<li><a href="#_service_api">Service API</a></li>
<li><a href="#_service_impl">Service <code>impl</code></a></li>
<li><a href="#">==</a></li>
<li><a href="#_logic_layer">Logic layer</a></li>
<li><a href="#_data_access_layer">Data Access layer</a></li>
<li><a href="#_security_with_json_web_token">Security with Json Web Token</a></li>
<li><a href="#_jwt_basics">JWT basics</a></li>
<li><a href="#_jwt_implementation_details">JWT implementation details</a></li>
<li><a href="#_authentication">==  Authentication</a></li>
<li><a href="#_token_set_up">==  Token set up</a></li>
<li><a href="#_current_user_request">==  Current User request</a></li>
<li><a href="#_authorization">==  Authorization</a></li>
<li><a href="#_net_design">.NET design</a></li>
<li><a href="#_nodejs_design_deprecated">NodeJS design (deprecated)</a></li>
<li><a href="#_introduction_2">Introduction</a></li>
<li><a href="#_basic_architecture_details_2">Basic architecture details</a></li>
<li><a href="#_layers_2">Layers</a></li>
<li><a href="#_service_layer_2">Service layer</a></li>
<li><a href="#_logic_layer_and_data_access_layer">Logic layer and Data access layer</a></li>
<li><a href="#_security_with_json_web_token_2">Security with Json Web Token</a></li>
<li><a href="#_jwt_basics_2">JWT basics</a></li>
<li><a href="#_jwt_implementation_details_2">JWT implementation details</a></li>
<li><a href="#_authentication_2">==  Authentication</a></li>
<li><a href="#_token_set_up_2">==  Token set up</a></li>
<li><a href="#_current_user_request_2">==  Current User request</a></li>
<li><a href="#_authorization_2">==  Authorization</a></li>
<li><a href="#_serverless_design_deprecated">Serverless design (deprecated)</a></li>
<li><a href="#_introduction_3">Introduction</a></li>
<li><a href="#_basic_architecture_details_3">Basic architecture details</a></li>
<li><a href="#_layers_3">Layers</a></li>
<li><a href="#_service_layer_3">Service layer</a></li>
<li><a href="#_2">==</a></li>
<li><a href="#_logic_layer_and_data_access_layer_2">Logic layer and Data access layer</a></li>
<li><a href="#_security_with_json_web_token_3">Security with Json Web Token</a></li>
<li><a href="#_jwt_basics_3">JWT basics</a></li>
<li><a href="#_jwt_implementation_details_3">JWT implementation details</a></li>
<li><a href="#_authentication_3">==  Authentication</a></li>
<li><a href="#_token_set_up_3">==  Token set up</a></li>
<li><a href="#_current_user_request_3">==  Current User request</a></li>
<li><a href="#_authorization_3">==  Authorization</a></li>
<li><a href="#_graphql_design">GraphQL design</a></li>
</ul>
</li>
<li><a href="#_client_side">Client Side</a>
<ul class="sectlevel4">
<li><a href="#_angular_design">Angular design</a></li>
<li><a href="#_introduction_4">Introduction</a></li>
<li><a href="#_basic_project_structure">Basic project structure</a></li>
<li><a href="#_main_views_and_components">Main Views and components</a></li>
<li><a href="#_public_area">Public area</a></li>
<li><a href="#_app_component">==  App Component</a></li>
<li><a href="#_order_sidenav">== Order sidenav</a></li>
<li><a href="#_navigation_sidenav_only_for_mobile">== Navigation sidenav (only for mobile)</a></li>
<li><a href="#_header">== Header</a></li>
<li><a href="#_footer_only_for_desktop">== Footer (only for desktop)</a></li>
<li><a href="#_home_component">==  Home-Component</a></li>
<li><a href="#_menu_component">==  Menu-Component</a></li>
<li><a href="#_menu_card">== Menu-card</a></li>
<li><a href="#_book_table_component">==  Book Table Component</a></li>
<li><a href="#_book_table_dialog">== Book-table-dialog</a></li>
<li><a href="#_invitation_dialog">== Invitation-dialog</a></li>
<li><a href="#_user_area">==  User Area</a></li>
<li><a href="#_login_dialog">== Login-dialog</a></li>
<li><a href="#_password_dialog">== Password-dialog</a></li>
<li><a href="#_twitter_dialog">== Twitter-dialog</a></li>
<li><a href="#_waiter_cockpit_area">Waiter cockpit area</a></li>
<li><a href="#_order_cockpit_component">==  Order Cockpit Component</a></li>
<li><a href="#_order_dialog">== Order-dialog</a></li>
<li><a href="#_reservation_cockpit_component">==  Reservation Cockpit Component</a></li>
<li><a href="#_reservation_dialog">== Reservation-dialog</a></li>
<li><a href="#_email_management">Email Management</a></li>
<li><a href="#_accept_invite">==  Accept Invite</a></li>
<li><a href="#_reject_invite">==  Reject Invite</a></li>
<li><a href="#_cancel_reservation">==  Cancel Reservation</a></li>
<li><a href="#_cancel_orders">==  Cancel Orders</a></li>
<li><a href="#_services_and_directives">Services and directives</a></li>
<li><a href="#_price_calculator_service">Price-calculator-service</a></li>
<li><a href="#_authentication_4">Authentication</a></li>
<li><a href="#_snack_service">Snack Service</a></li>
<li><a href="#_window_service">Window Service</a></li>
<li><a href="#_equal_validator_directive">Equal-validator-directive</a></li>
<li><a href="#_mock_back_end">Mock Back-end</a></li>
<li><a href="#_booking">Booking</a></li>
<li><a href="#_orders">Orders</a></li>
<li><a href="#_dishes">Dishes</a></li>
<li><a href="#_login">Login</a></li>
<li><a href="#_security">Security</a></li>
<li><a href="#_auth_guard">Auth-guard</a></li>
<li><a href="#_jwt">JWT</a></li>
<li><a href="#_httpclient">==  HttpClient</a></li>
<li><a href="#_xamarin_design">Xamarin design</a></li>
</ul>
</li>
<li><a href="#_security_2">Security</a>
<ul class="sectlevel3">
<li><a href="#_two_factor_authentication">Two-Factor Authentication</a></li>
<li><a href="#_back_end_mechanism">Back-end mechanism</a></li>
<li><a href="#_activating_two_factor_authentication">Activating Two-Factor Authentication</a></li>
<li><a href="#_frontend">Frontend</a></li>
</ul>
</li>
<li><a href="#_testing">Testing</a></li>
<li><a href="#_server_side_2">Server Side</a>
<ul class="sectlevel4">
<li><a href="#_java_testing">Java testing</a></li>
<li><a href="#_component_testing">Component testing</a></li>
<li><a href="#_running_the_tests">Running the tests</a></li>
<li><a href="#_from_eclipse">From Eclipse</a></li>
<li><a href="#_from_command_line_using_maven">From command line using Maven</a></li>
<li><a href="#_net_testing">.NET testing</a></li>
<li><a href="#_nodejs_testing">NodeJS testing</a></li>
<li><a href="#_graphql_testing">GraphQL testing</a></li>
</ul>
</li>
<li><a href="#_client_side_2">Client Side</a>
<ul class="sectlevel4">
<li><a href="#_angular_testing">Angular testing</a></li>
<li><a href="#_3">==</a></li>
<li><a href="#_testing_components">Testing Components</a></li>
<li><a href="#_dialog_components">Dialog components</a></li>
<li><a href="#_testing_services">Testing Services</a></li>
<li><a href="#_testing_in_a_ci_environment">Testing in a CI environment</a></li>
<li><a href="#_xamarin_testing">Xamarin testing</a></li>
</ul>
</li>
<li><a href="#_end_to_end">End to end</a>
<ul class="sectlevel4">
<li><a href="#_mrchecker_e2e_testing">MrChecker E2E Testing</a></li>
<li><a href="#_introduction_5">Introduction</a></li>
<li><a href="#_how_to_use_it">How to use it</a></li>
<li><a href="#_end_to_end_tests_in_my_thai_star">End to end tests in My Thai Star</a></li>
</ul>
</li>
<li><a href="#_ui_design">UI design</a>
<ul class="sectlevel3">
<li><a href="#_style_guide">Style guide</a></li>
<li><a href="#_low_and_high_fidelity_wireframes">Low and high fidelity wireframes</a></li>
</ul>
</li>
<li><a href="#_cicd">CI/CD</a>
<ul class="sectlevel3">
<li><a href="#_my_thai_star_in_production_line">My Thai Star in Production Line</a></li>
<li><a href="#_what_is_pl">What is PL?</a></li>
<li><a href="#_introduction_6">Introduction</a></li>
<li><a href="#_where_can_i_find_all_my_thai_star_pipelines">Where can I find all My Thai Star Pipelines?</a></li>
<li><a href="#_ci_in_my_thai_star_stack">CI in My Thai Star stack</a></li>
<li><a href="#_how_to_configure_everything_out_of_the_box">How to configure everything out of the box</a></li>
<li><a href="#_deployment">Deployment</a></li>
<li><a href="#_where_docker_containers_will_be_running">Where Docker containers will be running?</a></li>
<li><a href="#_container_schema">Container Schema</a></li>
<li><a href="#_run_my_thai_star">Run My Thai Star</a></li>
<li><a href="#_mythaistar_on_native_kubernetes_as_a_service_nkaas"><code>MyThaiStar</code> on Native Kubernetes as a Service (nKaaS)</a></li>
<li><a href="#_setting_up_the_environment">Setting up the environment</a></li>
<li><a href="#_following_the_nkaas_guide">Following the nKaaS guide</a></li>
<li><a href="#_requesting_a_namespace">Requesting a namespace</a></li>
<li><a href="#_setting_up_harbor">Setting up Harbor</a></li>
<li><a href="#_setting_up_jenkins">Setting up Jenkins</a></li>
<li><a href="#_deploying_mts">Deploying MTS</a></li>
</ul>
</li>
</ul>
</div>
<div class="sect3">
<h4 id="_style_guide"><a class="anchor" href="#_style_guide"></a>Style guide</h4>
<div class="imageblock">
<div class="content">
<a class="image" href="images/mts_styleguide.png"><img src="_images/images/mts_styleguide.png" alt="mts styleguide"></a>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_low_and_high_fidelity_wireframes"><a class="anchor" href="#_low_and_high_fidelity_wireframes"></a>Low and high fidelity wireframes</h4>
<div class="paragraph">
<p>History of Mockup designs for My Thai Star.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="resources/MTS_Wireframes_Low_Fidelity.pdf">MTS Wireframes Low Fidelity</a></p>
</li>
<li>
<p><a href="resources/MTS_Wireframes_High_Fidelity_(Sprint_1).pdf">MTS Wireframes High Fidelity (Sprint 1)</a></p>
</li>
<li>
<p><a href="resources/MTS_Wireframes_High_Fidelity_(Sprint_1)-Copy.pdf">MTS Wireframes High Fidelity (Sprint 1) - Copy</a></p>
</li>
<li>
<p><a href="resources/MTS_Wireframes_High_Fidelity_(Sprint_1)-Mobile.pdf">MTS Wireframes High Fidelity (Sprint 1) - Mobile</a></p>
</li>
<li>
<p><a href="resources/MTS_Wireframes_High_Fidelity_(Sprint_2).pdf">MTS Wireframes High Fidelity (Sprint 2)</a></p>
</li>
<li>
<p><a href="resources/MTS_Wireframes_High_Fidelity_(Sprint_2)-Modifications.pdf">MTS Wireframes High Fidelity (Sprint 2) - Modifications</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_cicd"><a class="anchor" href="#_cicd"></a>CI/CD</h2>
<div class="sectionbody">
<div id="toc" class="toc">
<div id="toctitle" class="title">Table of Contents</div>
<ul class="sectlevel1">
<li><a href="#_mythaistar">MyThaiStar</a>
<ul class="sectlevel2">
<li><a href="#_1_my_thai_star_agile_framework">1.	My Thai Star – Agile Framework</a></li>
<li><a href="#_1_1_team_setup">1.1 Team Setup</a></li>
<li><a href="#_1_2_scrum_events">1.2 Scrum events</a></li>
<li><a href="#_sprint_planning">Sprint Planning</a></li>
<li><a href="#_sprint_review">Sprint Review</a></li>
<li><a href="#_sprint_retrospective">Sprint Retrospective</a></li>
<li><a href="#_daily_stand_ups">Daily Stand-ups</a></li>
<li><a href="#_backlog_refinement">Backlog refinement</a></li>
<li><a href="#_1_3_establish_product_backlog">1.3 Establish Product Backlog</a></li>
<li><a href="#_2_my_thai_star_agile_diary">2.	My Thai Star – Agile Diary</a></li>
<li><a href="#_24_03_2017_sprint_1_planning">24.03.2017 Sprint 1 Planning</a></li>
<li><a href="#_27_04_2017_sprint_1_review">27.04.2017 Sprint 1 Review</a></li>
<li><a href="#_03_05_2017_sprint_2_planning">03.05.2017 Sprint 2 Planning</a></li>
<li><a href="#_01_06_2017_sprint_2_review">01.06.2017 Sprint 2 Review</a></li>
<li><a href="#_user_stories">User Stories</a></li>
<li><a href="#_epic_invite_friends">Epic: Invite friends</a></li>
<li><a href="#_us_create_invite_for_friends">US: create invite for friends</a></li>
<li><a href="#_acceptance_criteria">== Acceptance criteria</a></li>
<li><a href="#_us_create_reservation">US: create reservation</a></li>
<li><a href="#_acceptance_criteria_2">== Acceptance criteria</a></li>
<li><a href="#_wireframes">== Wireframes</a></li>
<li><a href="#_us_handle_invite">US: handle invite</a></li>
<li><a href="#_ac">== AC:</a></li>
<li><a href="#_us_revoke_accepted_invite">US: revoke accepted invite</a></li>
<li><a href="#_ac_2">==  AC:</a></li>
<li><a href="#_us_calculate_best_table">US: calculate best table</a></li>
<li><a href="#_details">== Details</a></li>
<li><a href="#_us_find_table_by_reservation_info">US: find table by reservation info</a></li>
<li><a href="#_ac_3">== AC:</a></li>
<li><a href="#_us_cancel_invite">US: cancel invite</a></li>
<li><a href="#_ac_4">== AC:</a></li>
<li><a href="#_epic_digital_menu">Epic: Digital Menu</a></li>
<li><a href="#_us_filter_menu">US: filter menu</a></li>
<li><a href="#_ac_5">== AC:</a></li>
<li><a href="#_us_define_order">US: Define order</a></li>
<li><a href="#_ac_6">== AC:</a></li>
<li><a href="#_us_order_the_order">US: Order the order</a></li>
<li><a href="#_us_cancel_order">US: Cancel order</a></li>
<li><a href="#_us_read_twitter_rating_for_dishes">US: Read twitter rating for dishes</a></li>
<li><a href="#_epic_user_profile">Epic: User Profile</a></li>
<li><a href="#_us_user_profile">US: User Profile</a></li>
<li><a href="#_epic_rate_by_twitter">Epic: Rate by twitter</a></li>
<li><a href="#_us_receive_mail_to_rate_your_dish">US: Receive mail to rate your dish</a></li>
<li><a href="#_us_rate_your_dish">US: Rate your dish</a></li>
<li><a href="#_epic_waiter_cockpit">Epic: Waiter Cockpit</a></li>
<li><a href="#_us_see_all_ordersreservations">US: See all orders/reservations</a></li>
</ul>
</li>
<li><a href="#_technical_design">Technical design</a></li>
<li><a href="#_data_model">Data Model</a>
<ul class="sectlevel4">
<li><a href="#_data_model_2">Data Model</a></li>
<li><a href="#_nosql_data_model">NoSQL Data Model</a></li>
</ul>
</li>
<li><a href="#_server_side">Server Side</a>
<ul class="sectlevel4">
<li><a href="#_java_design">Java design</a></li>
<li><a href="#_introduction">Introduction</a></li>
<li><a href="#_basic_architecture_details">Basic architecture details</a></li>
<li><a href="#_project_modules">Project modules</a></li>
<li><a href="#_components">Components</a></li>
<li><a href="#_layers">Layers</a></li>
<li><a href="#_component_structure">Component structure</a></li>
<li><a href="#_dependency_injection">Dependency injection</a></li>
<li><a href="#_layers_communication">Layers communication</a></li>
<li><a href="#_service_layer">Service layer</a></li>
<li><a href="#_service_api">Service API</a></li>
<li><a href="#_service_impl">Service <code>impl</code></a></li>
<li><a href="#">==</a></li>
<li><a href="#_logic_layer">Logic layer</a></li>
<li><a href="#_data_access_layer">Data Access layer</a></li>
<li><a href="#_security_with_json_web_token">Security with Json Web Token</a></li>
<li><a href="#_jwt_basics">JWT basics</a></li>
<li><a href="#_jwt_implementation_details">JWT implementation details</a></li>
<li><a href="#_authentication">==  Authentication</a></li>
<li><a href="#_token_set_up">==  Token set up</a></li>
<li><a href="#_current_user_request">==  Current User request</a></li>
<li><a href="#_authorization">==  Authorization</a></li>
<li><a href="#_net_design">.NET design</a></li>
<li><a href="#_nodejs_design_deprecated">NodeJS design (deprecated)</a></li>
<li><a href="#_introduction_2">Introduction</a></li>
<li><a href="#_basic_architecture_details_2">Basic architecture details</a></li>
<li><a href="#_layers_2">Layers</a></li>
<li><a href="#_service_layer_2">Service layer</a></li>
<li><a href="#_logic_layer_and_data_access_layer">Logic layer and Data access layer</a></li>
<li><a href="#_security_with_json_web_token_2">Security with Json Web Token</a></li>
<li><a href="#_jwt_basics_2">JWT basics</a></li>
<li><a href="#_jwt_implementation_details_2">JWT implementation details</a></li>
<li><a href="#_authentication_2">==  Authentication</a></li>
<li><a href="#_token_set_up_2">==  Token set up</a></li>
<li><a href="#_current_user_request_2">==  Current User request</a></li>
<li><a href="#_authorization_2">==  Authorization</a></li>
<li><a href="#_serverless_design_deprecated">Serverless design (deprecated)</a></li>
<li><a href="#_introduction_3">Introduction</a></li>
<li><a href="#_basic_architecture_details_3">Basic architecture details</a></li>
<li><a href="#_layers_3">Layers</a></li>
<li><a href="#_service_layer_3">Service layer</a></li>
<li><a href="#_2">==</a></li>
<li><a href="#_logic_layer_and_data_access_layer_2">Logic layer and Data access layer</a></li>
<li><a href="#_security_with_json_web_token_3">Security with Json Web Token</a></li>
<li><a href="#_jwt_basics_3">JWT basics</a></li>
<li><a href="#_jwt_implementation_details_3">JWT implementation details</a></li>
<li><a href="#_authentication_3">==  Authentication</a></li>
<li><a href="#_token_set_up_3">==  Token set up</a></li>
<li><a href="#_current_user_request_3">==  Current User request</a></li>
<li><a href="#_authorization_3">==  Authorization</a></li>
<li><a href="#_graphql_design">GraphQL design</a></li>
</ul>
</li>
<li><a href="#_client_side">Client Side</a>
<ul class="sectlevel4">
<li><a href="#_angular_design">Angular design</a></li>
<li><a href="#_introduction_4">Introduction</a></li>
<li><a href="#_basic_project_structure">Basic project structure</a></li>
<li><a href="#_main_views_and_components">Main Views and components</a></li>
<li><a href="#_public_area">Public area</a></li>
<li><a href="#_app_component">==  App Component</a></li>
<li><a href="#_order_sidenav">== Order sidenav</a></li>
<li><a href="#_navigation_sidenav_only_for_mobile">== Navigation sidenav (only for mobile)</a></li>
<li><a href="#_header">== Header</a></li>
<li><a href="#_footer_only_for_desktop">== Footer (only for desktop)</a></li>
<li><a href="#_home_component">==  Home-Component</a></li>
<li><a href="#_menu_component">==  Menu-Component</a></li>
<li><a href="#_menu_card">== Menu-card</a></li>
<li><a href="#_book_table_component">==  Book Table Component</a></li>
<li><a href="#_book_table_dialog">== Book-table-dialog</a></li>
<li><a href="#_invitation_dialog">== Invitation-dialog</a></li>
<li><a href="#_user_area">==  User Area</a></li>
<li><a href="#_login_dialog">== Login-dialog</a></li>
<li><a href="#_password_dialog">== Password-dialog</a></li>
<li><a href="#_twitter_dialog">== Twitter-dialog</a></li>
<li><a href="#_waiter_cockpit_area">Waiter cockpit area</a></li>
<li><a href="#_order_cockpit_component">==  Order Cockpit Component</a></li>
<li><a href="#_order_dialog">== Order-dialog</a></li>
<li><a href="#_reservation_cockpit_component">==  Reservation Cockpit Component</a></li>
<li><a href="#_reservation_dialog">== Reservation-dialog</a></li>
<li><a href="#_email_management">Email Management</a></li>
<li><a href="#_accept_invite">==  Accept Invite</a></li>
<li><a href="#_reject_invite">==  Reject Invite</a></li>
<li><a href="#_cancel_reservation">==  Cancel Reservation</a></li>
<li><a href="#_cancel_orders">==  Cancel Orders</a></li>
<li><a href="#_services_and_directives">Services and directives</a></li>
<li><a href="#_price_calculator_service">Price-calculator-service</a></li>
<li><a href="#_authentication_4">Authentication</a></li>
<li><a href="#_snack_service">Snack Service</a></li>
<li><a href="#_window_service">Window Service</a></li>
<li><a href="#_equal_validator_directive">Equal-validator-directive</a></li>
<li><a href="#_mock_back_end">Mock Back-end</a></li>
<li><a href="#_booking">Booking</a></li>
<li><a href="#_orders">Orders</a></li>
<li><a href="#_dishes">Dishes</a></li>
<li><a href="#_login">Login</a></li>
<li><a href="#_security">Security</a></li>
<li><a href="#_auth_guard">Auth-guard</a></li>
<li><a href="#_jwt">JWT</a></li>
<li><a href="#_httpclient">==  HttpClient</a></li>
<li><a href="#_xamarin_design">Xamarin design</a></li>
</ul>
</li>
<li><a href="#_security_2">Security</a>
<ul class="sectlevel3">
<li><a href="#_two_factor_authentication">Two-Factor Authentication</a></li>
<li><a href="#_back_end_mechanism">Back-end mechanism</a></li>
<li><a href="#_activating_two_factor_authentication">Activating Two-Factor Authentication</a></li>
<li><a href="#_frontend">Frontend</a></li>
</ul>
</li>
<li><a href="#_testing">Testing</a></li>
<li><a href="#_server_side_2">Server Side</a>
<ul class="sectlevel4">
<li><a href="#_java_testing">Java testing</a></li>
<li><a href="#_component_testing">Component testing</a></li>
<li><a href="#_running_the_tests">Running the tests</a></li>
<li><a href="#_from_eclipse">From Eclipse</a></li>
<li><a href="#_from_command_line_using_maven">From command line using Maven</a></li>
<li><a href="#_net_testing">.NET testing</a></li>
<li><a href="#_nodejs_testing">NodeJS testing</a></li>
<li><a href="#_graphql_testing">GraphQL testing</a></li>
</ul>
</li>
<li><a href="#_client_side_2">Client Side</a>
<ul class="sectlevel4">
<li><a href="#_angular_testing">Angular testing</a></li>
<li><a href="#_3">==</a></li>
<li><a href="#_testing_components">Testing Components</a></li>
<li><a href="#_dialog_components">Dialog components</a></li>
<li><a href="#_testing_services">Testing Services</a></li>
<li><a href="#_testing_in_a_ci_environment">Testing in a CI environment</a></li>
<li><a href="#_xamarin_testing">Xamarin testing</a></li>
</ul>
</li>
<li><a href="#_end_to_end">End to end</a>
<ul class="sectlevel4">
<li><a href="#_mrchecker_e2e_testing">MrChecker E2E Testing</a></li>
<li><a href="#_introduction_5">Introduction</a></li>
<li><a href="#_how_to_use_it">How to use it</a></li>
<li><a href="#_end_to_end_tests_in_my_thai_star">End to end tests in My Thai Star</a></li>
</ul>
</li>
<li><a href="#_ui_design">UI design</a>
<ul class="sectlevel3">
<li><a href="#_style_guide">Style guide</a></li>
<li><a href="#_low_and_high_fidelity_wireframes">Low and high fidelity wireframes</a></li>
</ul>
</li>
<li><a href="#_cicd">CI/CD</a>
<ul class="sectlevel3">
<li><a href="#_my_thai_star_in_production_line">My Thai Star in Production Line</a></li>
<li><a href="#_what_is_pl">What is PL?</a></li>
<li><a href="#_introduction_6">Introduction</a></li>
<li><a href="#_where_can_i_find_all_my_thai_star_pipelines">Where can I find all My Thai Star Pipelines?</a></li>
<li><a href="#_ci_in_my_thai_star_stack">CI in My Thai Star stack</a></li>
<li><a href="#_how_to_configure_everything_out_of_the_box">How to configure everything out of the box</a></li>
<li><a href="#_deployment">Deployment</a></li>
<li><a href="#_where_docker_containers_will_be_running">Where Docker containers will be running?</a></li>
<li><a href="#_container_schema">Container Schema</a></li>
<li><a href="#_run_my_thai_star">Run My Thai Star</a></li>
<li><a href="#_mythaistar_on_native_kubernetes_as_a_service_nkaas"><code>MyThaiStar</code> on Native Kubernetes as a Service (nKaaS)</a></li>
<li><a href="#_setting_up_the_environment">Setting up the environment</a></li>
<li><a href="#_following_the_nkaas_guide">Following the nKaaS guide</a></li>
<li><a href="#_requesting_a_namespace">Requesting a namespace</a></li>
<li><a href="#_setting_up_harbor">Setting up Harbor</a></li>
<li><a href="#_setting_up_jenkins">Setting up Jenkins</a></li>
<li><a href="#_deploying_mts">Deploying MTS</a></li>
</ul>
</li>
</ul>
</div>
<div class="sect3">
<h4 id="_my_thai_star_in_production_line"><a class="anchor" href="#_my_thai_star_in_production_line"></a>My Thai Star in Production Line</h4>

</div>
<div class="sect3">
<h4 id="_what_is_pl"><a class="anchor" href="#_what_is_pl"></a>What is PL?</h4>
<div class="paragraph">
<p>The Production Line Project is a set of server-side collaboration tools for Capgemini engagements. It has been developed for supporting project engagements with individual tools like issue tracking, continuous integration, continuous deployment, documentation, binary storage and much more!</p>
</div>
<div class="imageblock">
<div class="content">
<a class="image" href="images/ci/pl_logo.png"><img src="_images/images/ci/pl_logo.png" alt="pl logo"></a>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_introduction_6"><a class="anchor" href="#_introduction_6"></a>Introduction</h4>
<div class="paragraph">
<p>Although the PL Project is a wide set of tools, only 3 are going to be mainly used for My Thai Star projects to build a Continuous Integration and Continuos Delivery environment. All three are available in the <a href="https://devon.s2-eu.capgemini.com/#https://devon.s2-eu.capgemini.com/jenkins/">PL instance</a> used for this project.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Jenkins</p>
<div class="paragraph">
<p>This is going to be the "main tool". Jenkins helps to automate the non-human part of the development with Continuos Integration and is going to host all Pipelines (and, obviously, execute them).</p>
</div>
</li>
<li>
<p>Nexus</p>
<div class="paragraph">
<p>Nexus manages software "artifacts" required for development. It is possible to both download dependencies from Nexus and publish artifacts as well. It allows to share resources within an organization.</p>
</div>
</li>
<li>
<p>SonarQube</p>
<div class="paragraph">
<p>It is a platform for continuous inspection of the code. It is going to be used for the Java back-end.</p>
</div>
</li>
</ol>
</div>
</div>
<div class="sect3">
<h4 id="_where_can_i_find_all_my_thai_star_pipelines"><a class="anchor" href="#_where_can_i_find_all_my_thai_star_pipelines"></a>Where can I find all My Thai Star Pipelines?</h4>
<div class="paragraph">
<p>They are located under the <strong>MTS</strong> folder of the PL instance:</p>
</div>
<div class="imageblock">
<div class="content">
<a class="image" href="images/jenkins/mts-pipelines.png"><img src="_images/images/jenkins/mts-pipelines.png" alt="mts pipelines"></a>
</div>
</div>
<div class="paragraph">
<p>Those Jenkins Pipelines will not have any code to execute. They&#8217;re just pointing to all <strong>Jenkinsfiles</strong> under the <code>/jenkins</code> folder of the repository. They can be found <a href="https://github.com/devonfw/my-thai-star/tree/develop/jenkins">here</a>.</p>
</div>
</div>
<div class="sect3">
<h4 id="_ci_in_my_thai_star_stack"><a class="anchor" href="#_ci_in_my_thai_star_stack"></a>CI in My Thai Star stack</h4>
<div class="ulist">
<ul>
<li>
<p><a href="angular-ci">Angular CI</a></p>
</li>
<li>
<p><a href="java-ci">Java CI</a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_how_to_configure_everything_out_of_the_box"><a class="anchor" href="#_how_to_configure_everything_out_of_the_box"></a>How to configure everything out of the box</h4>
<div class="paragraph">
<p>Production Line currently has a template to integrate My Thai Star. All information can be found at <a href="https://github.com/devonfw/production-line">devonfw production line repository</a></p>
</div>
<div id="toc" class="toc">
<div id="toctitle" class="title">Table of Contents</div>
<ul class="sectlevel1">
<li><a href="#_mythaistar">MyThaiStar</a>
<ul class="sectlevel2">
<li><a href="#_1_my_thai_star_agile_framework">1.	My Thai Star – Agile Framework</a></li>
<li><a href="#_1_1_team_setup">1.1 Team Setup</a></li>
<li><a href="#_1_2_scrum_events">1.2 Scrum events</a></li>
<li><a href="#_sprint_planning">Sprint Planning</a></li>
<li><a href="#_sprint_review">Sprint Review</a></li>
<li><a href="#_sprint_retrospective">Sprint Retrospective</a></li>
<li><a href="#_daily_stand_ups">Daily Stand-ups</a></li>
<li><a href="#_backlog_refinement">Backlog refinement</a></li>
<li><a href="#_1_3_establish_product_backlog">1.3 Establish Product Backlog</a></li>
<li><a href="#_2_my_thai_star_agile_diary">2.	My Thai Star – Agile Diary</a></li>
<li><a href="#_24_03_2017_sprint_1_planning">24.03.2017 Sprint 1 Planning</a></li>
<li><a href="#_27_04_2017_sprint_1_review">27.04.2017 Sprint 1 Review</a></li>
<li><a href="#_03_05_2017_sprint_2_planning">03.05.2017 Sprint 2 Planning</a></li>
<li><a href="#_01_06_2017_sprint_2_review">01.06.2017 Sprint 2 Review</a></li>
<li><a href="#_user_stories">User Stories</a></li>
<li><a href="#_epic_invite_friends">Epic: Invite friends</a></li>
<li><a href="#_us_create_invite_for_friends">US: create invite for friends</a></li>
<li><a href="#_acceptance_criteria">== Acceptance criteria</a></li>
<li><a href="#_us_create_reservation">US: create reservation</a></li>
<li><a href="#_acceptance_criteria_2">== Acceptance criteria</a></li>
<li><a href="#_wireframes">== Wireframes</a></li>
<li><a href="#_us_handle_invite">US: handle invite</a></li>
<li><a href="#_ac">== AC:</a></li>
<li><a href="#_us_revoke_accepted_invite">US: revoke accepted invite</a></li>
<li><a href="#_ac_2">==  AC:</a></li>
<li><a href="#_us_calculate_best_table">US: calculate best table</a></li>
<li><a href="#_details">== Details</a></li>
<li><a href="#_us_find_table_by_reservation_info">US: find table by reservation info</a></li>
<li><a href="#_ac_3">== AC:</a></li>
<li><a href="#_us_cancel_invite">US: cancel invite</a></li>
<li><a href="#_ac_4">== AC:</a></li>
<li><a href="#_epic_digital_menu">Epic: Digital Menu</a></li>
<li><a href="#_us_filter_menu">US: filter menu</a></li>
<li><a href="#_ac_5">== AC:</a></li>
<li><a href="#_us_define_order">US: Define order</a></li>
<li><a href="#_ac_6">== AC:</a></li>
<li><a href="#_us_order_the_order">US: Order the order</a></li>
<li><a href="#_us_cancel_order">US: Cancel order</a></li>
<li><a href="#_us_read_twitter_rating_for_dishes">US: Read twitter rating for dishes</a></li>
<li><a href="#_epic_user_profile">Epic: User Profile</a></li>
<li><a href="#_us_user_profile">US: User Profile</a></li>
<li><a href="#_epic_rate_by_twitter">Epic: Rate by twitter</a></li>
<li><a href="#_us_receive_mail_to_rate_your_dish">US: Receive mail to rate your dish</a></li>
<li><a href="#_us_rate_your_dish">US: Rate your dish</a></li>
<li><a href="#_epic_waiter_cockpit">Epic: Waiter Cockpit</a></li>
<li><a href="#_us_see_all_ordersreservations">US: See all orders/reservations</a></li>
</ul>
</li>
<li><a href="#_technical_design">Technical design</a></li>
<li><a href="#_data_model">Data Model</a>
<ul class="sectlevel4">
<li><a href="#_data_model_2">Data Model</a></li>
<li><a href="#_nosql_data_model">NoSQL Data Model</a></li>
</ul>
</li>
<li><a href="#_server_side">Server Side</a>
<ul class="sectlevel4">
<li><a href="#_java_design">Java design</a></li>
<li><a href="#_introduction">Introduction</a></li>
<li><a href="#_basic_architecture_details">Basic architecture details</a></li>
<li><a href="#_project_modules">Project modules</a></li>
<li><a href="#_components">Components</a></li>
<li><a href="#_layers">Layers</a></li>
<li><a href="#_component_structure">Component structure</a></li>
<li><a href="#_dependency_injection">Dependency injection</a></li>
<li><a href="#_layers_communication">Layers communication</a></li>
<li><a href="#_service_layer">Service layer</a></li>
<li><a href="#_service_api">Service API</a></li>
<li><a href="#_service_impl">Service <code>impl</code></a></li>
<li><a href="#">==</a></li>
<li><a href="#_logic_layer">Logic layer</a></li>
<li><a href="#_data_access_layer">Data Access layer</a></li>
<li><a href="#_security_with_json_web_token">Security with Json Web Token</a></li>
<li><a href="#_jwt_basics">JWT basics</a></li>
<li><a href="#_jwt_implementation_details">JWT implementation details</a></li>
<li><a href="#_authentication">==  Authentication</a></li>
<li><a href="#_token_set_up">==  Token set up</a></li>
<li><a href="#_current_user_request">==  Current User request</a></li>
<li><a href="#_authorization">==  Authorization</a></li>
<li><a href="#_net_design">.NET design</a></li>
<li><a href="#_nodejs_design_deprecated">NodeJS design (deprecated)</a></li>
<li><a href="#_introduction_2">Introduction</a></li>
<li><a href="#_basic_architecture_details_2">Basic architecture details</a></li>
<li><a href="#_layers_2">Layers</a></li>
<li><a href="#_service_layer_2">Service layer</a></li>
<li><a href="#_logic_layer_and_data_access_layer">Logic layer and Data access layer</a></li>
<li><a href="#_security_with_json_web_token_2">Security with Json Web Token</a></li>
<li><a href="#_jwt_basics_2">JWT basics</a></li>
<li><a href="#_jwt_implementation_details_2">JWT implementation details</a></li>
<li><a href="#_authentication_2">==  Authentication</a></li>
<li><a href="#_token_set_up_2">==  Token set up</a></li>
<li><a href="#_current_user_request_2">==  Current User request</a></li>
<li><a href="#_authorization_2">==  Authorization</a></li>
<li><a href="#_serverless_design_deprecated">Serverless design (deprecated)</a></li>
<li><a href="#_introduction_3">Introduction</a></li>
<li><a href="#_basic_architecture_details_3">Basic architecture details</a></li>
<li><a href="#_layers_3">Layers</a></li>
<li><a href="#_service_layer_3">Service layer</a></li>
<li><a href="#_2">==</a></li>
<li><a href="#_logic_layer_and_data_access_layer_2">Logic layer and Data access layer</a></li>
<li><a href="#_security_with_json_web_token_3">Security with Json Web Token</a></li>
<li><a href="#_jwt_basics_3">JWT basics</a></li>
<li><a href="#_jwt_implementation_details_3">JWT implementation details</a></li>
<li><a href="#_authentication_3">==  Authentication</a></li>
<li><a href="#_token_set_up_3">==  Token set up</a></li>
<li><a href="#_current_user_request_3">==  Current User request</a></li>
<li><a href="#_authorization_3">==  Authorization</a></li>
<li><a href="#_graphql_design">GraphQL design</a></li>
</ul>
</li>
<li><a href="#_client_side">Client Side</a>
<ul class="sectlevel4">
<li><a href="#_angular_design">Angular design</a></li>
<li><a href="#_introduction_4">Introduction</a></li>
<li><a href="#_basic_project_structure">Basic project structure</a></li>
<li><a href="#_main_views_and_components">Main Views and components</a></li>
<li><a href="#_public_area">Public area</a></li>
<li><a href="#_app_component">==  App Component</a></li>
<li><a href="#_order_sidenav">== Order sidenav</a></li>
<li><a href="#_navigation_sidenav_only_for_mobile">== Navigation sidenav (only for mobile)</a></li>
<li><a href="#_header">== Header</a></li>
<li><a href="#_footer_only_for_desktop">== Footer (only for desktop)</a></li>
<li><a href="#_home_component">==  Home-Component</a></li>
<li><a href="#_menu_component">==  Menu-Component</a></li>
<li><a href="#_menu_card">== Menu-card</a></li>
<li><a href="#_book_table_component">==  Book Table Component</a></li>
<li><a href="#_book_table_dialog">== Book-table-dialog</a></li>
<li><a href="#_invitation_dialog">== Invitation-dialog</a></li>
<li><a href="#_user_area">==  User Area</a></li>
<li><a href="#_login_dialog">== Login-dialog</a></li>
<li><a href="#_password_dialog">== Password-dialog</a></li>
<li><a href="#_twitter_dialog">== Twitter-dialog</a></li>
<li><a href="#_waiter_cockpit_area">Waiter cockpit area</a></li>
<li><a href="#_order_cockpit_component">==  Order Cockpit Component</a></li>
<li><a href="#_order_dialog">== Order-dialog</a></li>
<li><a href="#_reservation_cockpit_component">==  Reservation Cockpit Component</a></li>
<li><a href="#_reservation_dialog">== Reservation-dialog</a></li>
<li><a href="#_email_management">Email Management</a></li>
<li><a href="#_accept_invite">==  Accept Invite</a></li>
<li><a href="#_reject_invite">==  Reject Invite</a></li>
<li><a href="#_cancel_reservation">==  Cancel Reservation</a></li>
<li><a href="#_cancel_orders">==  Cancel Orders</a></li>
<li><a href="#_services_and_directives">Services and directives</a></li>
<li><a href="#_price_calculator_service">Price-calculator-service</a></li>
<li><a href="#_authentication_4">Authentication</a></li>
<li><a href="#_snack_service">Snack Service</a></li>
<li><a href="#_window_service">Window Service</a></li>
<li><a href="#_equal_validator_directive">Equal-validator-directive</a></li>
<li><a href="#_mock_back_end">Mock Back-end</a></li>
<li><a href="#_booking">Booking</a></li>
<li><a href="#_orders">Orders</a></li>
<li><a href="#_dishes">Dishes</a></li>
<li><a href="#_login">Login</a></li>
<li><a href="#_security">Security</a></li>
<li><a href="#_auth_guard">Auth-guard</a></li>
<li><a href="#_jwt">JWT</a></li>
<li><a href="#_httpclient">==  HttpClient</a></li>
<li><a href="#_xamarin_design">Xamarin design</a></li>
</ul>
</li>
<li><a href="#_security_2">Security</a>
<ul class="sectlevel3">
<li><a href="#_two_factor_authentication">Two-Factor Authentication</a></li>
<li><a href="#_back_end_mechanism">Back-end mechanism</a></li>
<li><a href="#_activating_two_factor_authentication">Activating Two-Factor Authentication</a></li>
<li><a href="#_frontend">Frontend</a></li>
</ul>
</li>
<li><a href="#_testing">Testing</a></li>
<li><a href="#_server_side_2">Server Side</a>
<ul class="sectlevel4">
<li><a href="#_java_testing">Java testing</a></li>
<li><a href="#_component_testing">Component testing</a></li>
<li><a href="#_running_the_tests">Running the tests</a></li>
<li><a href="#_from_eclipse">From Eclipse</a></li>
<li><a href="#_from_command_line_using_maven">From command line using Maven</a></li>
<li><a href="#_net_testing">.NET testing</a></li>
<li><a href="#_nodejs_testing">NodeJS testing</a></li>
<li><a href="#_graphql_testing">GraphQL testing</a></li>
</ul>
</li>
<li><a href="#_client_side_2">Client Side</a>
<ul class="sectlevel4">
<li><a href="#_angular_testing">Angular testing</a></li>
<li><a href="#_3">==</a></li>
<li><a href="#_testing_components">Testing Components</a></li>
<li><a href="#_dialog_components">Dialog components</a></li>
<li><a href="#_testing_services">Testing Services</a></li>
<li><a href="#_testing_in_a_ci_environment">Testing in a CI environment</a></li>
<li><a href="#_xamarin_testing">Xamarin testing</a></li>
</ul>
</li>
<li><a href="#_end_to_end">End to end</a>
<ul class="sectlevel4">
<li><a href="#_mrchecker_e2e_testing">MrChecker E2E Testing</a></li>
<li><a href="#_introduction_5">Introduction</a></li>
<li><a href="#_how_to_use_it">How to use it</a></li>
<li><a href="#_end_to_end_tests_in_my_thai_star">End to end tests in My Thai Star</a></li>
</ul>
</li>
<li><a href="#_ui_design">UI design</a>
<ul class="sectlevel3">
<li><a href="#_style_guide">Style guide</a></li>
<li><a href="#_low_and_high_fidelity_wireframes">Low and high fidelity wireframes</a></li>
</ul>
</li>
<li><a href="#_cicd">CI/CD</a>
<ul class="sectlevel3">
<li><a href="#_my_thai_star_in_production_line">My Thai Star in Production Line</a></li>
<li><a href="#_what_is_pl">What is PL?</a></li>
<li><a href="#_introduction_6">Introduction</a></li>
<li><a href="#_where_can_i_find_all_my_thai_star_pipelines">Where can I find all My Thai Star Pipelines?</a></li>
<li><a href="#_ci_in_my_thai_star_stack">CI in My Thai Star stack</a></li>
<li><a href="#_how_to_configure_everything_out_of_the_box">How to configure everything out of the box</a></li>
<li><a href="#_deployment">Deployment</a></li>
<li><a href="#_where_docker_containers_will_be_running">Where Docker containers will be running?</a></li>
<li><a href="#_container_schema">Container Schema</a></li>
<li><a href="#_run_my_thai_star">Run My Thai Star</a></li>
<li><a href="#_mythaistar_on_native_kubernetes_as_a_service_nkaas"><code>MyThaiStar</code> on Native Kubernetes as a Service (nKaaS)</a></li>
<li><a href="#_setting_up_the_environment">Setting up the environment</a></li>
<li><a href="#_following_the_nkaas_guide">Following the nKaaS guide</a></li>
<li><a href="#_requesting_a_namespace">Requesting a namespace</a></li>
<li><a href="#_setting_up_harbor">Setting up Harbor</a></li>
<li><a href="#_setting_up_jenkins">Setting up Jenkins</a></li>
<li><a href="#_deploying_mts">Deploying MTS</a></li>
</ul>
</li>
</ul>
</div>
<div class="sect4">
<h5 id="_angular_ci"><a class="anchor" href="#_angular_ci"></a>Angular CI</h5>
<div class="paragraph">
<p>The Angular client-side of My Thai Star is going to have some specific needs for the CI-CD Pipeline to perform mandatory operations.</p>
</div>
</div>
<div class="sect4">
<h5 id="_pipeline"><a class="anchor" href="#_pipeline"></a>Pipeline</h5>
<div class="paragraph">
<p>The Pipeline for the Angular client-side is going to be called <strong>MyThaiStar_FRONT-END_BUILD</strong>. It is located in the PL instance, under the <a href="https://devon.s2-eu.capgemini.com/jenkins/job/MTS/">MTS folder</a> (as previously explained). It is going to follow a process flow like this one:</p>
</div>
<div class="imageblock">
<div class="content">
<a class="image" href="angular_pipeline_flow.PNG"><img src="_images/images/ci/angular/angular_pipeline_flow.PNG" alt="angular pipeline flow"></a>
</div>
</div>
<div class="paragraph">
<p>Each of those steps are called <em>stages</em> in the Jenkins context.Let&#8217;s see what those steps mean in the context of the Angular application:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><strong>Declarative: Checkout SCM</strong></p>
<div class="paragraph">
<p>Retrieves the project from the GitHub repository which it&#8217;s located. This step is not defined directly in our pipeline, but as it is loaded from the repository this step should always be done at the beginning.</p>
</div>
<div class="imageblock">
<div class="content">
<a class="image" href="pipeline_config.PNG"><img src="_images/images/ci/angular/pipeline-config.png" alt="pipeline config"></a>
</div>
</div>
</li>
<li>
<p><strong>Declarative: Tool Install</strong></p>
<div class="paragraph">
<p>The Pipeline needs some Tools to perform some operations with the Angular project. These tool is a correct version of <strong>NodeJS</strong> (10.17.0 LTS) with <strong>Yarn</strong> installed as global package.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-groovy hljs" data-lang="groovy">tools {
    nodejs "NodeJS 10.14.0"
}</code></pre>
</div>
</div>
</li>
<li>
<p><strong>Loading Custom Tools</strong></p>
<div class="paragraph">
<p>The Pipeline also needs a browser in order to execute the tests, so in this step the chrome-stable will be loaded. We will use it in a headless mode.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-groovy hljs" data-lang="groovy">tool chrome</code></pre>
</div>
</div>
</li>
<li>
<p><strong>Fresh Dependency Installation</strong></p>
<div class="paragraph">
<p>The script <code>$ yarn</code> does a package installation. As we always clean the workspace after the pipeline, all packages must be installed in every execution.</p>
</div>
</li>
<li>
<p><strong>Code Linting</strong></p>
<div class="paragraph">
<p>This script executes a linting process of TypeScript. Rules can be defined in the <code>tslint.json</code> file of the project. It throws an exception whenever a file contains a non-compliant piece of code.</p>
</div>
</li>
<li>
<p><strong>Execute Angular tests</strong></p>
<div class="paragraph">
<p>The CI testing of the Angular client is different than the standard local testing (adapted to CI environments, as specified in the <strong>Adaptation</strong> section of document). This script just executes the following commands:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-groovy hljs" data-lang="groovy">ng test --browsers ChromeHeadless --watch=false</code></pre>
</div>
</div>
</li>
<li>
<p><strong>Check dependencies</strong></p>
<div class="paragraph">
<p>Before continue, we print the result of <code>yarn audit</code>. It shows the vulnerabilities in the dependencies. It do not process the response. The purpose is only to track the result of the command.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-groovy hljs" data-lang="groovy">yarn audit</code></pre>
</div>
</div>
</li>
<li>
<p><strong>SonarQube code analysis</strong></p>
<div class="paragraph">
<p>The script load and execute the tool <code>sonar-scanner</code>. This tool is loaded here because it&#8217;s not used in any other part of the pipeline. The <code>sonar-scanner</code> will take all code, upload it to SonarQube and wait until SonarQube send us a response with the quality of our code. If the code do not pass the quality gate, the pipeline will stop at this point.</p>
</div>
</li>
<li>
<p><strong>Build Application</strong></p>
<div class="paragraph">
<p>The building process of the Angular client would result in a folder called <code>/dist</code> in the main Angular&#8217;s directory. That folder is the one that is going to be served afterwards as an artifact. This process has also been adapted to some Deployment needs. This building script executes the following:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-groovy hljs" data-lang="groovy">ng build --configuration=docker</code></pre>
</div>
</div>
</li>
<li>
<p><strong>Deliver application into Nexus</strong></p>
<div class="paragraph">
<p>Once the scripts produce the Angular artifact (<code>/dist</code> folder), it&#8217;s time to package it and store into nexus.</p>
</div>
</li>
<li>
<p>Declarative: Post Actions</p>
<div class="paragraph">
<p>At the end, this step is always executed, even if a previous stage fail. We use this step to clean up the workspace for future executions</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-groovy hljs" data-lang="groovy">post {
    always {
        cleanWs()
    }
}</code></pre>
</div>
</div>
</li>
</ol>
</div>
</div>
<div class="sect4">
<h5 id="_adjustments"><a class="anchor" href="#_adjustments"></a>Adjustments</h5>
<div class="paragraph">
<p>The Angular project Pipeline needed some "extra" features to complete all planned processes. Those features resulted in some additions to the project.</p>
</div>
</div>
<div class="sect4">
<h5 id="_pipeline_environment"><a class="anchor" href="#_pipeline_environment"></a>Pipeline Environment</h5>
<div class="paragraph">
<p>In order to easily reuse the pipeline in other angular projects, all variables have been defined in the block environment. All variables have the default values that Production Line uses, so if you&#8217;re going to work in production line you won&#8217;t have to change anything. Example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code>environment {
    // Script for build the application. Defined at package.json
    buildScript = 'build --configuration=docker'
    // Script for lint the application. Defined at package.json
    lintScript = 'lint'
    // Script for test the application. Defined at package.json
    testScript = 'test:ci'
    // Angular directory
    angularDir = 'angular'
    // SRC folder. It will be angularDir/srcDir
    srcDir = 'src'
    // Name of the custom tool for chrome stable
    chrome = 'Chrome-stable'

    // SonarQube
    // Name of the SonarQube tool
    sonarTool = 'SonarQube'
    // Name of the SonarQube environment
    sonarEnv = "SonarQube"

    // Nexus
    // Artifact groupId
    groupId = 'com.devonfw.mythaistar'
    // Nexus repository ID
    repositoryId= 'pl-nexus'
    // Nexus internal URL
    repositoryUrl = 'http://nexus3-core:8081/nexus3/repository/maven-snapshots'
    // Maven global settings configuration ID
    globalSettingsId = 'MavenSettings'
    // Maven tool id
    mavenInstallation = 'Maven3'
}</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_description"><a class="anchor" href="#_description"></a>==  Description</h5>
<div class="ulist">
<ul>
<li>
<p><strong>build Script</strong>: script for build the application. It must be defined at package.json.</p>
<div class="paragraph">
<p>Example (package.json):</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code>{
    "name": "mythaistar-restaurant",
    ...
    "scripts": {
        ...
        "build": "ng build",
        ...
    }
    ...
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>This will be used as follows:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-groovy hljs" data-lang="groovy">sh """yarn ${buildScript}"""</code></pre>
</div>
</div>
</li>
<li>
<p><strong>lint Script</strong>: Script for lint the application. Defined at package.json</p>
<div class="paragraph">
<p>Example (package.json):</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json">{
    "name": "mythaistar-restaurant",
    ...
    "scripts": {
        ...
        "lint": "ng lint",
        ...
    }
    ...
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>This will be used as follows:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code>sh """yarn ${lintScript}"""</code></pre>
</div>
</div>
</li>
<li>
<p><strong>test Script</strong>: Script for test the application. Defined at package.json</p>
<div class="paragraph">
<p>Example (package.json):</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json">{
    "name": "mythaistar-restaurant",
    ...
    "scripts": {
        ...
        "test:ci": "npm run postinstall:web &amp;&amp; ng test --browsers ChromeHeadless --watch=false",
        ...
    }
    ...
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>This will be used as follows:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code>sh """yarn ${testScript}"""</code></pre>
</div>
</div>
</li>
<li>
<p><strong>angular-Dir</strong>: Relative route to angular application. In My Thai Star this is the angular folder. The actual directory (.) is also allowed.</p>
<div class="imageblock">
<div class="content">
<a class="image" href="angular_directory.PNG"><img src="_images/images/ci/angular/angular_directory.png" alt="angular directory"></a>
</div>
</div>
</li>
<li>
<p><strong><code>srcDir</code></strong>: Directory where you store the source code. For angular applications the default value is <code>src</code></p>
<div class="imageblock">
<div class="content">
<a class="image" href="src_directory.PNG"><img src="_images/images/ci/angular/src_directory.png" alt="src directory"></a>
</div>
</div>
</li>
<li>
<p><strong>chrome</strong>: Since you need a browser to run your tests, we must provide one. This variable contains the name of the custom tool for google chrome.</p>
<div class="imageblock">
<div class="content">
<a class="image" href="chrome_installation.PNG"><img src="_images/images/ci/angular/chrome_installation.png" alt="chrome installation"></a>
</div>
</div>
</li>
<li>
<p><strong>sonar-Tool</strong>: Name of the SonarQube scanner installation.</p>
<div class="imageblock">
<div class="content">
<a class="image" href="sonar-scanner.PNG"><img src="_images/images/ci/angular/sonar-scanner.png" alt="sonar scanner"></a>
</div>
</div>
</li>
<li>
<p><strong>sonar-Env</strong>: Name of the SonarQube environment. SonarQube is the default value for PL.</p>
<div class="imageblock">
<div class="content">
<a class="image" href="sonar-env.PNG"><img src="_images/images/ci/angular/sonar-env.png" alt="sonar env"></a>
</div>
</div>
</li>
<li>
<p><strong>group-Id</strong>: Group id of the application. It will be used to storage the application in nexus3</p>
<div class="imageblock">
<div class="content">
<a class="image" href="nexus3_groupid.PNG"><img src="_images/images/ci/angular/nexus3_groupid.png" alt="nexus3 groupid"></a>
</div>
</div>
</li>
<li>
<p><strong>repository-Id</strong>: Id of the nexus3 repository. It must be defined at maven global config file.</p>
<div class="imageblock">
<div class="content">
<a class="image" href="nexus3_id.PNG"><img src="_images/images/ci/angular/nexus3_id.png" alt="nexus3 id"></a>
</div>
</div>
</li>
<li>
<p><strong>repository URL</strong>: The URL of the repository.</p>
</li>
<li>
<p><strong>global Settings Id</strong>: The id of the global settings file.</p>
<div class="imageblock">
<div class="content">
<a class="image" href="nexus3_global_config.PNG"><img src="_images/images/ci/angular/nexus3_global_config.png" alt="nexus3 global config"></a>
</div>
</div>
</li>
<li>
<p>maven Installation: The name of the maven tool.</p>
<div class="imageblock">
<div class="content">
<a class="image" href="maven_tool.PNG"><img src="_images/images/ci/angular/maven_tool.png" alt="maven tool"></a>
</div>
</div>
</li>
</ul>
</div>
<div id="toc" class="toc">
<div id="toctitle" class="title">Table of Contents</div>
<ul class="sectlevel1">
<li><a href="#_mythaistar">MyThaiStar</a>
<ul class="sectlevel2">
<li><a href="#_1_my_thai_star_agile_framework">1.	My Thai Star – Agile Framework</a></li>
<li><a href="#_1_1_team_setup">1.1 Team Setup</a></li>
<li><a href="#_1_2_scrum_events">1.2 Scrum events</a></li>
<li><a href="#_sprint_planning">Sprint Planning</a></li>
<li><a href="#_sprint_review">Sprint Review</a></li>
<li><a href="#_sprint_retrospective">Sprint Retrospective</a></li>
<li><a href="#_daily_stand_ups">Daily Stand-ups</a></li>
<li><a href="#_backlog_refinement">Backlog refinement</a></li>
<li><a href="#_1_3_establish_product_backlog">1.3 Establish Product Backlog</a></li>
<li><a href="#_2_my_thai_star_agile_diary">2.	My Thai Star – Agile Diary</a></li>
<li><a href="#_24_03_2017_sprint_1_planning">24.03.2017 Sprint 1 Planning</a></li>
<li><a href="#_27_04_2017_sprint_1_review">27.04.2017 Sprint 1 Review</a></li>
<li><a href="#_03_05_2017_sprint_2_planning">03.05.2017 Sprint 2 Planning</a></li>
<li><a href="#_01_06_2017_sprint_2_review">01.06.2017 Sprint 2 Review</a></li>
<li><a href="#_user_stories">User Stories</a></li>
<li><a href="#_epic_invite_friends">Epic: Invite friends</a></li>
<li><a href="#_us_create_invite_for_friends">US: create invite for friends</a></li>
<li><a href="#_acceptance_criteria">== Acceptance criteria</a></li>
<li><a href="#_us_create_reservation">US: create reservation</a></li>
<li><a href="#_acceptance_criteria_2">== Acceptance criteria</a></li>
<li><a href="#_wireframes">== Wireframes</a></li>
<li><a href="#_us_handle_invite">US: handle invite</a></li>
<li><a href="#_ac">== AC:</a></li>
<li><a href="#_us_revoke_accepted_invite">US: revoke accepted invite</a></li>
<li><a href="#_ac_2">==  AC:</a></li>
<li><a href="#_us_calculate_best_table">US: calculate best table</a></li>
<li><a href="#_details">== Details</a></li>
<li><a href="#_us_find_table_by_reservation_info">US: find table by reservation info</a></li>
<li><a href="#_ac_3">== AC:</a></li>
<li><a href="#_us_cancel_invite">US: cancel invite</a></li>
<li><a href="#_ac_4">== AC:</a></li>
<li><a href="#_epic_digital_menu">Epic: Digital Menu</a></li>
<li><a href="#_us_filter_menu">US: filter menu</a></li>
<li><a href="#_ac_5">== AC:</a></li>
<li><a href="#_us_define_order">US: Define order</a></li>
<li><a href="#_ac_6">== AC:</a></li>
<li><a href="#_us_order_the_order">US: Order the order</a></li>
<li><a href="#_us_cancel_order">US: Cancel order</a></li>
<li><a href="#_us_read_twitter_rating_for_dishes">US: Read twitter rating for dishes</a></li>
<li><a href="#_epic_user_profile">Epic: User Profile</a></li>
<li><a href="#_us_user_profile">US: User Profile</a></li>
<li><a href="#_epic_rate_by_twitter">Epic: Rate by twitter</a></li>
<li><a href="#_us_receive_mail_to_rate_your_dish">US: Receive mail to rate your dish</a></li>
<li><a href="#_us_rate_your_dish">US: Rate your dish</a></li>
<li><a href="#_epic_waiter_cockpit">Epic: Waiter Cockpit</a></li>
<li><a href="#_us_see_all_ordersreservations">US: See all orders/reservations</a></li>
</ul>
</li>
<li><a href="#_technical_design">Technical design</a></li>
<li><a href="#_data_model">Data Model</a>
<ul class="sectlevel4">
<li><a href="#_data_model_2">Data Model</a></li>
<li><a href="#_nosql_data_model">NoSQL Data Model</a></li>
</ul>
</li>
<li><a href="#_server_side">Server Side</a>
<ul class="sectlevel4">
<li><a href="#_java_design">Java design</a></li>
<li><a href="#_introduction">Introduction</a></li>
<li><a href="#_basic_architecture_details">Basic architecture details</a></li>
<li><a href="#_project_modules">Project modules</a></li>
<li><a href="#_components">Components</a></li>
<li><a href="#_layers">Layers</a></li>
<li><a href="#_component_structure">Component structure</a></li>
<li><a href="#_dependency_injection">Dependency injection</a></li>
<li><a href="#_layers_communication">Layers communication</a></li>
<li><a href="#_service_layer">Service layer</a></li>
<li><a href="#_service_api">Service API</a></li>
<li><a href="#_service_impl">Service <code>impl</code></a></li>
<li><a href="#">==</a></li>
<li><a href="#_logic_layer">Logic layer</a></li>
<li><a href="#_data_access_layer">Data Access layer</a></li>
<li><a href="#_security_with_json_web_token">Security with Json Web Token</a></li>
<li><a href="#_jwt_basics">JWT basics</a></li>
<li><a href="#_jwt_implementation_details">JWT implementation details</a></li>
<li><a href="#_authentication">==  Authentication</a></li>
<li><a href="#_token_set_up">==  Token set up</a></li>
<li><a href="#_current_user_request">==  Current User request</a></li>
<li><a href="#_authorization">==  Authorization</a></li>
<li><a href="#_net_design">.NET design</a></li>
<li><a href="#_nodejs_design_deprecated">NodeJS design (deprecated)</a></li>
<li><a href="#_introduction_2">Introduction</a></li>
<li><a href="#_basic_architecture_details_2">Basic architecture details</a></li>
<li><a href="#_layers_2">Layers</a></li>
<li><a href="#_service_layer_2">Service layer</a></li>
<li><a href="#_logic_layer_and_data_access_layer">Logic layer and Data access layer</a></li>
<li><a href="#_security_with_json_web_token_2">Security with Json Web Token</a></li>
<li><a href="#_jwt_basics_2">JWT basics</a></li>
<li><a href="#_jwt_implementation_details_2">JWT implementation details</a></li>
<li><a href="#_authentication_2">==  Authentication</a></li>
<li><a href="#_token_set_up_2">==  Token set up</a></li>
<li><a href="#_current_user_request_2">==  Current User request</a></li>
<li><a href="#_authorization_2">==  Authorization</a></li>
<li><a href="#_serverless_design_deprecated">Serverless design (deprecated)</a></li>
<li><a href="#_introduction_3">Introduction</a></li>
<li><a href="#_basic_architecture_details_3">Basic architecture details</a></li>
<li><a href="#_layers_3">Layers</a></li>
<li><a href="#_service_layer_3">Service layer</a></li>
<li><a href="#_2">==</a></li>
<li><a href="#_logic_layer_and_data_access_layer_2">Logic layer and Data access layer</a></li>
<li><a href="#_security_with_json_web_token_3">Security with Json Web Token</a></li>
<li><a href="#_jwt_basics_3">JWT basics</a></li>
<li><a href="#_jwt_implementation_details_3">JWT implementation details</a></li>
<li><a href="#_authentication_3">==  Authentication</a></li>
<li><a href="#_token_set_up_3">==  Token set up</a></li>
<li><a href="#_current_user_request_3">==  Current User request</a></li>
<li><a href="#_authorization_3">==  Authorization</a></li>
<li><a href="#_graphql_design">GraphQL design</a></li>
</ul>
</li>
<li><a href="#_client_side">Client Side</a>
<ul class="sectlevel4">
<li><a href="#_angular_design">Angular design</a></li>
<li><a href="#_introduction_4">Introduction</a></li>
<li><a href="#_basic_project_structure">Basic project structure</a></li>
<li><a href="#_main_views_and_components">Main Views and components</a></li>
<li><a href="#_public_area">Public area</a></li>
<li><a href="#_app_component">==  App Component</a></li>
<li><a href="#_order_sidenav">== Order sidenav</a></li>
<li><a href="#_navigation_sidenav_only_for_mobile">== Navigation sidenav (only for mobile)</a></li>
<li><a href="#_header">== Header</a></li>
<li><a href="#_footer_only_for_desktop">== Footer (only for desktop)</a></li>
<li><a href="#_home_component">==  Home-Component</a></li>
<li><a href="#_menu_component">==  Menu-Component</a></li>
<li><a href="#_menu_card">== Menu-card</a></li>
<li><a href="#_book_table_component">==  Book Table Component</a></li>
<li><a href="#_book_table_dialog">== Book-table-dialog</a></li>
<li><a href="#_invitation_dialog">== Invitation-dialog</a></li>
<li><a href="#_user_area">==  User Area</a></li>
<li><a href="#_login_dialog">== Login-dialog</a></li>
<li><a href="#_password_dialog">== Password-dialog</a></li>
<li><a href="#_twitter_dialog">== Twitter-dialog</a></li>
<li><a href="#_waiter_cockpit_area">Waiter cockpit area</a></li>
<li><a href="#_order_cockpit_component">==  Order Cockpit Component</a></li>
<li><a href="#_order_dialog">== Order-dialog</a></li>
<li><a href="#_reservation_cockpit_component">==  Reservation Cockpit Component</a></li>
<li><a href="#_reservation_dialog">== Reservation-dialog</a></li>
<li><a href="#_email_management">Email Management</a></li>
<li><a href="#_accept_invite">==  Accept Invite</a></li>
<li><a href="#_reject_invite">==  Reject Invite</a></li>
<li><a href="#_cancel_reservation">==  Cancel Reservation</a></li>
<li><a href="#_cancel_orders">==  Cancel Orders</a></li>
<li><a href="#_services_and_directives">Services and directives</a></li>
<li><a href="#_price_calculator_service">Price-calculator-service</a></li>
<li><a href="#_authentication_4">Authentication</a></li>
<li><a href="#_snack_service">Snack Service</a></li>
<li><a href="#_window_service">Window Service</a></li>
<li><a href="#_equal_validator_directive">Equal-validator-directive</a></li>
<li><a href="#_mock_back_end">Mock Back-end</a></li>
<li><a href="#_booking">Booking</a></li>
<li><a href="#_orders">Orders</a></li>
<li><a href="#_dishes">Dishes</a></li>
<li><a href="#_login">Login</a></li>
<li><a href="#_security">Security</a></li>
<li><a href="#_auth_guard">Auth-guard</a></li>
<li><a href="#_jwt">JWT</a></li>
<li><a href="#_httpclient">==  HttpClient</a></li>
<li><a href="#_xamarin_design">Xamarin design</a></li>
</ul>
</li>
<li><a href="#_security_2">Security</a>
<ul class="sectlevel3">
<li><a href="#_two_factor_authentication">Two-Factor Authentication</a></li>
<li><a href="#_back_end_mechanism">Back-end mechanism</a></li>
<li><a href="#_activating_two_factor_authentication">Activating Two-Factor Authentication</a></li>
<li><a href="#_frontend">Frontend</a></li>
</ul>
</li>
<li><a href="#_testing">Testing</a></li>
<li><a href="#_server_side_2">Server Side</a>
<ul class="sectlevel4">
<li><a href="#_java_testing">Java testing</a></li>
<li><a href="#_component_testing">Component testing</a></li>
<li><a href="#_running_the_tests">Running the tests</a></li>
<li><a href="#_from_eclipse">From Eclipse</a></li>
<li><a href="#_from_command_line_using_maven">From command line using Maven</a></li>
<li><a href="#_net_testing">.NET testing</a></li>
<li><a href="#_nodejs_testing">NodeJS testing</a></li>
<li><a href="#_graphql_testing">GraphQL testing</a></li>
</ul>
</li>
<li><a href="#_client_side_2">Client Side</a>
<ul class="sectlevel4">
<li><a href="#_angular_testing">Angular testing</a></li>
<li><a href="#_3">==</a></li>
<li><a href="#_testing_components">Testing Components</a></li>
<li><a href="#_dialog_components">Dialog components</a></li>
<li><a href="#_testing_services">Testing Services</a></li>
<li><a href="#_testing_in_a_ci_environment">Testing in a CI environment</a></li>
<li><a href="#_xamarin_testing">Xamarin testing</a></li>
</ul>
</li>
<li><a href="#_end_to_end">End to end</a>
<ul class="sectlevel4">
<li><a href="#_mrchecker_e2e_testing">MrChecker E2E Testing</a></li>
<li><a href="#_introduction_5">Introduction</a></li>
<li><a href="#_how_to_use_it">How to use it</a></li>
<li><a href="#_end_to_end_tests_in_my_thai_star">End to end tests in My Thai Star</a></li>
</ul>
</li>
<li><a href="#_ui_design">UI design</a>
<ul class="sectlevel3">
<li><a href="#_style_guide">Style guide</a></li>
<li><a href="#_low_and_high_fidelity_wireframes">Low and high fidelity wireframes</a></li>
</ul>
</li>
<li><a href="#_cicd">CI/CD</a>
<ul class="sectlevel3">
<li><a href="#_my_thai_star_in_production_line">My Thai Star in Production Line</a></li>
<li><a href="#_what_is_pl">What is PL?</a></li>
<li><a href="#_introduction_6">Introduction</a></li>
<li><a href="#_where_can_i_find_all_my_thai_star_pipelines">Where can I find all My Thai Star Pipelines?</a></li>
<li><a href="#_ci_in_my_thai_star_stack">CI in My Thai Star stack</a></li>
<li><a href="#_how_to_configure_everything_out_of_the_box">How to configure everything out of the box</a></li>
<li><a href="#_deployment">Deployment</a></li>
<li><a href="#_where_docker_containers_will_be_running">Where Docker containers will be running?</a></li>
<li><a href="#_container_schema">Container Schema</a></li>
<li><a href="#_run_my_thai_star">Run My Thai Star</a></li>
<li><a href="#_mythaistar_on_native_kubernetes_as_a_service_nkaas"><code>MyThaiStar</code> on Native Kubernetes as a Service (nKaaS)</a></li>
<li><a href="#_setting_up_the_environment">Setting up the environment</a></li>
<li><a href="#_following_the_nkaas_guide">Following the nKaaS guide</a></li>
<li><a href="#_requesting_a_namespace">Requesting a namespace</a></li>
<li><a href="#_setting_up_harbor">Setting up Harbor</a></li>
<li><a href="#_setting_up_jenkins">Setting up Jenkins</a></li>
<li><a href="#_deploying_mts">Deploying MTS</a></li>
</ul>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_java_ci"><a class="anchor" href="#_java_ci"></a>Java CI</h5>
<div class="paragraph">
<p>The Java server-side of My Thai Star is an <strong>devon4j</strong>-based application. As long as <strong>Maven</strong> and a <strong>Java 8</strong> are going to be needed, the Pipeline should have those tools available as well.</p>
</div>
</div>
<div class="sect4">
<h5 id="_pipeline_2"><a class="anchor" href="#_pipeline_2"></a>Pipeline</h5>
<div class="paragraph">
<p>This Pipeline is called <strong>MyThaiStar_SERVER_BUILD</strong>, and it is located exactly in the same PL instance&#8217;s folder than <code><strong>MyThaiStar_FRONTEND_BUILD</strong></code>. Let&#8217;s see how the Pipeline&#8217;s flow behaves.</p>
</div>
<div class="imageblock">
<div class="content">
<a class="image" href="java_pipeline_flow.PNG"><img src="_images/images/ci/java/java_pipeline_flow.PNG" alt="java pipeline flow"></a>
</div>
</div>
<div class="paragraph">
<p>Check those Pipeline stages with more detail:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><strong>Declarative: Checkout SCM</strong></p>
<div class="paragraph">
<p>Gets the code from <a href="https://github.com/devonfw/my-thai-star" class="bare">https://github.com/devonfw/my-thai-star</a> . This step is not defined directly in our pipeline, but as it is loaded from the repository this step should always be done at the beginning.</p>
</div>
</li>
<li>
<p><strong>Declarative: Tool Install</strong></p>
<div class="paragraph">
<p>The My Thai Star application works with JDK11. In this step, if JDK11 is not installed, we install it and then put the JDK folder into PATH.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-groovy hljs" data-lang="groovy">tools {
  jdk 'OpenJDK11'
}</code></pre>
</div>
</div>
</li>
<li>
<p><strong>Loading Custom Tools</strong></p>
<div class="paragraph">
<p>In this step we load the tools that can not be loaded in the previous step. As My Thai Star is delivered as docker container, in this step we load docker as custom tool.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-groovy hljs" data-lang="groovy">tool dockerTool</code></pre>
</div>
</div>
</li>
<li>
<p><strong>Install dependencies</strong></p>
<div class="paragraph">
<p>This step will download all project dependencies.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-groovy hljs" data-lang="groovy">mvn clean install -Dmaven.test.skip=true</code></pre>
</div>
</div>
</li>
<li>
<p><strong>Unit Tests</strong></p>
<div class="paragraph">
<p>This step will execute the project unit test with maven.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-groovy hljs" data-lang="groovy">mvn clean test</code></pre>
</div>
</div>
</li>
<li>
<p><strong>Dependency Checker</strong></p>
<div class="paragraph">
<p>Execute the OWASP Dependency Checker in order to validate the project dependencies. It will generate a report that can be used in SonarQube</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-groovy hljs" data-lang="groovy">dependencyCheck additionalArguments: '--project "MTSJ" --scan java/mtsj --format XML', odcInstallation: 'dependency-check'
dependencyCheckPublisher pattern: ''</code></pre>
</div>
</div>
</li>
<li>
<p><strong>SonarQube analysis</strong></p>
<div class="paragraph">
<p>The code is evaluated using the integrated PL instance&#8217;s SonarQube. Also, it will wait for the quality gate status. If the status is failing, the pipeline execution will be stopped.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-groovy hljs" data-lang="groovy">withSonarQubeEnv(sonarEnv) {
    sh "mvn sonar:sonar"
}

def qg = waitForQualityGate()
if (qg.status != 'OK') {
    error "Pipeline aborted due to quality gate failure: ${qg.status}"
}</code></pre>
</div>
</div>
</li>
<li>
<p><strong>Deliver application into Nexus</strong></p>
<div class="paragraph">
<p>Store all artifacts into nexus.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-groovy hljs" data-lang="groovy">mvn deploy -Dmaven.test.skip=true</code></pre>
</div>
</div>
</li>
<li>
<p><strong>Create the Docker image</strong></p>
<div class="paragraph">
<p>Create the docker image and then publish the image into a docker registry.</p>
</div>
</li>
</ol>
</div>
</div>
<div class="sect4">
<h5 id="_adjustments_2"><a class="anchor" href="#_adjustments_2"></a>Adjustments</h5>

</div>
<div class="sect4">
<h5 id="_pipeline_environment_2"><a class="anchor" href="#_pipeline_environment_2"></a>Pipeline Environment</h5>
<div class="paragraph">
<p>In order to easily reuse the pipeline in other java projects, all variables have been defined in the block environment. All variables have the default values that Production Line uses, so if you&#8217;re going to work in production line you won&#8217;t have to change anything. Example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-groovy hljs" data-lang="groovy">environment {
    // Directory with java project
    javaDir = 'java/mtsj'

    // SonarQube
    // Name of the SonarQube environment
    sonarEnv = "SonarQube"

    // Nexus 3
    // Maven global settings configuration ID
    `globalSettingsId = 'MavenSettings'`
    // Maven tool id
    `mavenInstallation = 'Maven3'`

    // Docker
    dockerRegistryCredentials = 'nexus-api'
    dockerRegistryProtocol = 'https://\'
    dockerTool = 'docker-global
}</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_description_2"><a class="anchor" href="#_description_2"></a>==  Description</h5>
<div class="ulist">
<ul>
<li>
<p><strong>java Dir</strong>: Relative route to java application. In My Thai Star this is the <code>java/mtsj</code> folder. The actual directory (.) is also allowed.</p>
<div class="imageblock">
<div class="content">
<a class="image" href="java_directory.png"><img src="_images/images/ci/java/java_directory.png" alt="java directory"></a>
</div>
</div>
</li>
<li>
<p><strong>sonar Env</strong>: Name of the SonarQube environment. SonarQube is the default value for PL.</p>
</li>
<li>
<p><strong>global Settings Id</strong>: The id of the global settings file. <code>MavenSettings</code> is the default value for PL.</p>
<div class="imageblock">
<div class="content">
<a class="image" href="nexus3_global_config.PNG"><img src="_images/images/ci/angular/nexus3_global_config.png" alt="nexus3 global config"></a>
</div>
</div>
</li>
<li>
<p><strong>maven Installation</strong>: The name of the maven tool. Maven3 is the default value for PL.</p>
<div class="imageblock">
<div class="content">
<a class="image" href="maven_tool.PNG"><img src="_images/images/ci/angular/maven_tool.png" alt="maven tool"></a>
</div>
</div>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_distribution_management"><a class="anchor" href="#_distribution_management"></a>Distribution management</h5>
<div class="paragraph">
<p>The only <em>extra</em> thing that needs to be added to the Java server-side is some information that determines where the artifact of the project is going to be stored in <strong>Nexus</strong>. This is going to be a section in the main <code>pom.xml</code> file called <code>&lt;distributionManagement&gt;</code>. This section will point to the PL instance&#8217;s Nexus. Let&#8217;s have a look at it. It&#8217;s already configured with the PL default values.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;distributionManagement&gt;
    &lt;repository&gt;
      &lt;id&gt;pl-nexus&lt;/id&gt;
      &lt;name&gt;PL Releases&lt;/name&gt;
      &lt;url&gt;http://nexus3-core:8081/nexus/content/repositories/maven-releases/&lt;/url&gt;
    &lt;/repository&gt;
    &lt;snapshotRepository&gt;
      &lt;id&gt;pl-nexus&lt;/id&gt;
      &lt;name&gt;PL Snapshots&lt;/name&gt;
      &lt;url&gt;http://nexus3-core:8081/nexus3/repository/maven-snapshots&lt;/url&gt;
    &lt;/snapshotRepository&gt;
&lt;/distributionManagement&gt;</code></pre>
</div>
</div>
<div id="toc" class="toc">
<div id="toctitle" class="title">Table of Contents</div>
<ul class="sectlevel1">
<li><a href="#_mythaistar">MyThaiStar</a>
<ul class="sectlevel2">
<li><a href="#_1_my_thai_star_agile_framework">1.	My Thai Star – Agile Framework</a></li>
<li><a href="#_1_1_team_setup">1.1 Team Setup</a></li>
<li><a href="#_1_2_scrum_events">1.2 Scrum events</a></li>
<li><a href="#_sprint_planning">Sprint Planning</a></li>
<li><a href="#_sprint_review">Sprint Review</a></li>
<li><a href="#_sprint_retrospective">Sprint Retrospective</a></li>
<li><a href="#_daily_stand_ups">Daily Stand-ups</a></li>
<li><a href="#_backlog_refinement">Backlog refinement</a></li>
<li><a href="#_1_3_establish_product_backlog">1.3 Establish Product Backlog</a></li>
<li><a href="#_2_my_thai_star_agile_diary">2.	My Thai Star – Agile Diary</a></li>
<li><a href="#_24_03_2017_sprint_1_planning">24.03.2017 Sprint 1 Planning</a></li>
<li><a href="#_27_04_2017_sprint_1_review">27.04.2017 Sprint 1 Review</a></li>
<li><a href="#_03_05_2017_sprint_2_planning">03.05.2017 Sprint 2 Planning</a></li>
<li><a href="#_01_06_2017_sprint_2_review">01.06.2017 Sprint 2 Review</a></li>
<li><a href="#_user_stories">User Stories</a></li>
<li><a href="#_epic_invite_friends">Epic: Invite friends</a></li>
<li><a href="#_us_create_invite_for_friends">US: create invite for friends</a></li>
<li><a href="#_acceptance_criteria">== Acceptance criteria</a></li>
<li><a href="#_us_create_reservation">US: create reservation</a></li>
<li><a href="#_acceptance_criteria_2">== Acceptance criteria</a></li>
<li><a href="#_wireframes">== Wireframes</a></li>
<li><a href="#_us_handle_invite">US: handle invite</a></li>
<li><a href="#_ac">== AC:</a></li>
<li><a href="#_us_revoke_accepted_invite">US: revoke accepted invite</a></li>
<li><a href="#_ac_2">==  AC:</a></li>
<li><a href="#_us_calculate_best_table">US: calculate best table</a></li>
<li><a href="#_details">== Details</a></li>
<li><a href="#_us_find_table_by_reservation_info">US: find table by reservation info</a></li>
<li><a href="#_ac_3">== AC:</a></li>
<li><a href="#_us_cancel_invite">US: cancel invite</a></li>
<li><a href="#_ac_4">== AC:</a></li>
<li><a href="#_epic_digital_menu">Epic: Digital Menu</a></li>
<li><a href="#_us_filter_menu">US: filter menu</a></li>
<li><a href="#_ac_5">== AC:</a></li>
<li><a href="#_us_define_order">US: Define order</a></li>
<li><a href="#_ac_6">== AC:</a></li>
<li><a href="#_us_order_the_order">US: Order the order</a></li>
<li><a href="#_us_cancel_order">US: Cancel order</a></li>
<li><a href="#_us_read_twitter_rating_for_dishes">US: Read twitter rating for dishes</a></li>
<li><a href="#_epic_user_profile">Epic: User Profile</a></li>
<li><a href="#_us_user_profile">US: User Profile</a></li>
<li><a href="#_epic_rate_by_twitter">Epic: Rate by twitter</a></li>
<li><a href="#_us_receive_mail_to_rate_your_dish">US: Receive mail to rate your dish</a></li>
<li><a href="#_us_rate_your_dish">US: Rate your dish</a></li>
<li><a href="#_epic_waiter_cockpit">Epic: Waiter Cockpit</a></li>
<li><a href="#_us_see_all_ordersreservations">US: See all orders/reservations</a></li>
</ul>
</li>
<li><a href="#_technical_design">Technical design</a></li>
<li><a href="#_data_model">Data Model</a>
<ul class="sectlevel4">
<li><a href="#_data_model_2">Data Model</a></li>
<li><a href="#_nosql_data_model">NoSQL Data Model</a></li>
</ul>
</li>
<li><a href="#_server_side">Server Side</a>
<ul class="sectlevel4">
<li><a href="#_java_design">Java design</a></li>
<li><a href="#_introduction">Introduction</a></li>
<li><a href="#_basic_architecture_details">Basic architecture details</a></li>
<li><a href="#_project_modules">Project modules</a></li>
<li><a href="#_components">Components</a></li>
<li><a href="#_layers">Layers</a></li>
<li><a href="#_component_structure">Component structure</a></li>
<li><a href="#_dependency_injection">Dependency injection</a></li>
<li><a href="#_layers_communication">Layers communication</a></li>
<li><a href="#_service_layer">Service layer</a></li>
<li><a href="#_service_api">Service API</a></li>
<li><a href="#_service_impl">Service <code>impl</code></a></li>
<li><a href="#">==</a></li>
<li><a href="#_logic_layer">Logic layer</a></li>
<li><a href="#_data_access_layer">Data Access layer</a></li>
<li><a href="#_security_with_json_web_token">Security with Json Web Token</a></li>
<li><a href="#_jwt_basics">JWT basics</a></li>
<li><a href="#_jwt_implementation_details">JWT implementation details</a></li>
<li><a href="#_authentication">==  Authentication</a></li>
<li><a href="#_token_set_up">==  Token set up</a></li>
<li><a href="#_current_user_request">==  Current User request</a></li>
<li><a href="#_authorization">==  Authorization</a></li>
<li><a href="#_net_design">.NET design</a></li>
<li><a href="#_nodejs_design_deprecated">NodeJS design (deprecated)</a></li>
<li><a href="#_introduction_2">Introduction</a></li>
<li><a href="#_basic_architecture_details_2">Basic architecture details</a></li>
<li><a href="#_layers_2">Layers</a></li>
<li><a href="#_service_layer_2">Service layer</a></li>
<li><a href="#_logic_layer_and_data_access_layer">Logic layer and Data access layer</a></li>
<li><a href="#_security_with_json_web_token_2">Security with Json Web Token</a></li>
<li><a href="#_jwt_basics_2">JWT basics</a></li>
<li><a href="#_jwt_implementation_details_2">JWT implementation details</a></li>
<li><a href="#_authentication_2">==  Authentication</a></li>
<li><a href="#_token_set_up_2">==  Token set up</a></li>
<li><a href="#_current_user_request_2">==  Current User request</a></li>
<li><a href="#_authorization_2">==  Authorization</a></li>
<li><a href="#_serverless_design_deprecated">Serverless design (deprecated)</a></li>
<li><a href="#_introduction_3">Introduction</a></li>
<li><a href="#_basic_architecture_details_3">Basic architecture details</a></li>
<li><a href="#_layers_3">Layers</a></li>
<li><a href="#_service_layer_3">Service layer</a></li>
<li><a href="#_2">==</a></li>
<li><a href="#_logic_layer_and_data_access_layer_2">Logic layer and Data access layer</a></li>
<li><a href="#_security_with_json_web_token_3">Security with Json Web Token</a></li>
<li><a href="#_jwt_basics_3">JWT basics</a></li>
<li><a href="#_jwt_implementation_details_3">JWT implementation details</a></li>
<li><a href="#_authentication_3">==  Authentication</a></li>
<li><a href="#_token_set_up_3">==  Token set up</a></li>
<li><a href="#_current_user_request_3">==  Current User request</a></li>
<li><a href="#_authorization_3">==  Authorization</a></li>
<li><a href="#_graphql_design">GraphQL design</a></li>
</ul>
</li>
<li><a href="#_client_side">Client Side</a>
<ul class="sectlevel4">
<li><a href="#_angular_design">Angular design</a></li>
<li><a href="#_introduction_4">Introduction</a></li>
<li><a href="#_basic_project_structure">Basic project structure</a></li>
<li><a href="#_main_views_and_components">Main Views and components</a></li>
<li><a href="#_public_area">Public area</a></li>
<li><a href="#_app_component">==  App Component</a></li>
<li><a href="#_order_sidenav">== Order sidenav</a></li>
<li><a href="#_navigation_sidenav_only_for_mobile">== Navigation sidenav (only for mobile)</a></li>
<li><a href="#_header">== Header</a></li>
<li><a href="#_footer_only_for_desktop">== Footer (only for desktop)</a></li>
<li><a href="#_home_component">==  Home-Component</a></li>
<li><a href="#_menu_component">==  Menu-Component</a></li>
<li><a href="#_menu_card">== Menu-card</a></li>
<li><a href="#_book_table_component">==  Book Table Component</a></li>
<li><a href="#_book_table_dialog">== Book-table-dialog</a></li>
<li><a href="#_invitation_dialog">== Invitation-dialog</a></li>
<li><a href="#_user_area">==  User Area</a></li>
<li><a href="#_login_dialog">== Login-dialog</a></li>
<li><a href="#_password_dialog">== Password-dialog</a></li>
<li><a href="#_twitter_dialog">== Twitter-dialog</a></li>
<li><a href="#_waiter_cockpit_area">Waiter cockpit area</a></li>
<li><a href="#_order_cockpit_component">==  Order Cockpit Component</a></li>
<li><a href="#_order_dialog">== Order-dialog</a></li>
<li><a href="#_reservation_cockpit_component">==  Reservation Cockpit Component</a></li>
<li><a href="#_reservation_dialog">== Reservation-dialog</a></li>
<li><a href="#_email_management">Email Management</a></li>
<li><a href="#_accept_invite">==  Accept Invite</a></li>
<li><a href="#_reject_invite">==  Reject Invite</a></li>
<li><a href="#_cancel_reservation">==  Cancel Reservation</a></li>
<li><a href="#_cancel_orders">==  Cancel Orders</a></li>
<li><a href="#_services_and_directives">Services and directives</a></li>
<li><a href="#_price_calculator_service">Price-calculator-service</a></li>
<li><a href="#_authentication_4">Authentication</a></li>
<li><a href="#_snack_service">Snack Service</a></li>
<li><a href="#_window_service">Window Service</a></li>
<li><a href="#_equal_validator_directive">Equal-validator-directive</a></li>
<li><a href="#_mock_back_end">Mock Back-end</a></li>
<li><a href="#_booking">Booking</a></li>
<li><a href="#_orders">Orders</a></li>
<li><a href="#_dishes">Dishes</a></li>
<li><a href="#_login">Login</a></li>
<li><a href="#_security">Security</a></li>
<li><a href="#_auth_guard">Auth-guard</a></li>
<li><a href="#_jwt">JWT</a></li>
<li><a href="#_httpclient">==  HttpClient</a></li>
<li><a href="#_xamarin_design">Xamarin design</a></li>
</ul>
</li>
<li><a href="#_security_2">Security</a>
<ul class="sectlevel3">
<li><a href="#_two_factor_authentication">Two-Factor Authentication</a></li>
<li><a href="#_back_end_mechanism">Back-end mechanism</a></li>
<li><a href="#_activating_two_factor_authentication">Activating Two-Factor Authentication</a></li>
<li><a href="#_frontend">Frontend</a></li>
</ul>
</li>
<li><a href="#_testing">Testing</a></li>
<li><a href="#_server_side_2">Server Side</a>
<ul class="sectlevel4">
<li><a href="#_java_testing">Java testing</a></li>
<li><a href="#_component_testing">Component testing</a></li>
<li><a href="#_running_the_tests">Running the tests</a></li>
<li><a href="#_from_eclipse">From Eclipse</a></li>
<li><a href="#_from_command_line_using_maven">From command line using Maven</a></li>
<li><a href="#_net_testing">.NET testing</a></li>
<li><a href="#_nodejs_testing">NodeJS testing</a></li>
<li><a href="#_graphql_testing">GraphQL testing</a></li>
</ul>
</li>
<li><a href="#_client_side_2">Client Side</a>
<ul class="sectlevel4">
<li><a href="#_angular_testing">Angular testing</a></li>
<li><a href="#_3">==</a></li>
<li><a href="#_testing_components">Testing Components</a></li>
<li><a href="#_dialog_components">Dialog components</a></li>
<li><a href="#_testing_services">Testing Services</a></li>
<li><a href="#_testing_in_a_ci_environment">Testing in a CI environment</a></li>
<li><a href="#_xamarin_testing">Xamarin testing</a></li>
</ul>
</li>
<li><a href="#_end_to_end">End to end</a>
<ul class="sectlevel4">
<li><a href="#_mrchecker_e2e_testing">MrChecker E2E Testing</a></li>
<li><a href="#_introduction_5">Introduction</a></li>
<li><a href="#_how_to_use_it">How to use it</a></li>
<li><a href="#_end_to_end_tests_in_my_thai_star">End to end tests in My Thai Star</a></li>
</ul>
</li>
<li><a href="#_ui_design">UI design</a>
<ul class="sectlevel3">
<li><a href="#_style_guide">Style guide</a></li>
<li><a href="#_low_and_high_fidelity_wireframes">Low and high fidelity wireframes</a></li>
</ul>
</li>
<li><a href="#_cicd">CI/CD</a>
<ul class="sectlevel3">
<li><a href="#_my_thai_star_in_production_line">My Thai Star in Production Line</a></li>
<li><a href="#_what_is_pl">What is PL?</a></li>
<li><a href="#_introduction_6">Introduction</a></li>
<li><a href="#_where_can_i_find_all_my_thai_star_pipelines">Where can I find all My Thai Star Pipelines?</a></li>
<li><a href="#_ci_in_my_thai_star_stack">CI in My Thai Star stack</a></li>
<li><a href="#_how_to_configure_everything_out_of_the_box">How to configure everything out of the box</a></li>
<li><a href="#_deployment">Deployment</a></li>
<li><a href="#_where_docker_containers_will_be_running">Where Docker containers will be running?</a></li>
<li><a href="#_container_schema">Container Schema</a></li>
<li><a href="#_run_my_thai_star">Run My Thai Star</a></li>
<li><a href="#_mythaistar_on_native_kubernetes_as_a_service_nkaas"><code>MyThaiStar</code> on Native Kubernetes as a Service (nKaaS)</a></li>
<li><a href="#_setting_up_the_environment">Setting up the environment</a></li>
<li><a href="#_following_the_nkaas_guide">Following the nKaaS guide</a></li>
<li><a href="#_requesting_a_namespace">Requesting a namespace</a></li>
<li><a href="#_setting_up_harbor">Setting up Harbor</a></li>
<li><a href="#_setting_up_jenkins">Setting up Jenkins</a></li>
<li><a href="#_deploying_mts">Deploying MTS</a></li>
</ul>
</li>
</ul>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_deployment"><a class="anchor" href="#_deployment"></a>Deployment</h4>
<div class="paragraph">
<p>The main deployment tool used for <strong>My Thai Star</strong> is be <strong>Docker</strong>.</p>
</div>
<div class="imageblock">
<div class="content">
<a class="image" href="https://www.docker.com/"><img src="_images/images/ci/deployment/docker.png" alt="docker"></a>
</div>
</div>
<div class="paragraph">
<p>It is a tool to run application in isolated environments. Those <em>isolated environments</em> will be what we call <strong>Docker containers</strong>. For instance, it won&#8217;t be necessary any installation of <strong>Nginx</strong> or <strong>Apache tomcat</strong> or anything necessary to deploy, because there will be some containers that actually <em>have</em> those technologies inside.</p>
</div>
</div>
<div class="sect3">
<h4 id="_where_docker_containers_will_be_running"><a class="anchor" href="#_where_docker_containers_will_be_running"></a>Where Docker containers will be running?</h4>
<div class="paragraph">
<p>Of course, it is necessary to have an external Deployment Server. Every Docker process will run in it. It will be accessed from Production Line pipelines via <strong>SSH</strong>. Thus, the pipeline itself will manage the scenario of, if every previous process like testing passes as OK, stop actual containers and create new ones.</p>
</div>
<div class="paragraph">
<p>This external server will be located in <a href="https://mts-devonfw-core.cloud.okteto.net/" class="bare">https://mts-devonfw-core.cloud.okteto.net/</a></p>
</div>
</div>
<div class="sect3">
<h4 id="_container_schema"><a class="anchor" href="#_container_schema"></a>Container Schema</h4>
<div class="paragraph">
<p>3 Docker containers are being used for the deployment of My Thai Star:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><strong>Nginx</strong> for the Reverse Proxy</p>
</li>
<li>
<p><strong>tomcat</strong> for the Java Server</p>
</li>
<li>
<p><strong>Nginx</strong> for the Angular Client</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>The usage of the <strong>Reverse Proxy</strong> will allow the client to call via <code>/api</code> every single Java Server&#8217;s REST operation. Moreover, there will only be 1 port in usage in the remote Docker host, the one mapped for the Reverse Proxy: <code>8080</code>.
Besides the deployment itself using <strong>Nginx</strong> and <strong>tomcat</strong>, both client and server are previously built using <strong>NodeJS</strong> and <strong>maven</strong> images. Artifacts produced by them will be pasted in servers' containers using multi-stage docker builds. It will all follow this schema:</p>
</div>
<div class="imageblock">
<div class="content">
<a class="image" href="https://user-images.githubusercontent.com/20857839/36028242-8998f41c-0d9e-11e8-93b3-6bfe50152bf8.png"><img src="https://user-images.githubusercontent.com/20857839/36028242-8998f41c-0d9e-11e8-93b3-6bfe50152bf8.png" alt="36028242 8998f41c 0d9e 11e8 93b3 6bfe50152bf8"></a>
</div>
</div>
<div class="paragraph">
<p>This orchestration of all 3 containers will be done by using a <code>docker-compose.yml</code> file. To redirect traffic from one container to another (i.e. reverse-proxy to angular client or angular client to java server) will be done by using, as host names, the service name <code>docker-compose</code> defines for each of them, followed by the internally exposed port:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code><a href="http://reverse-proxy:80" class="bare">http://reverse-proxy:80</a></code></p>
</li>
<li>
<p><code><a href="http://angular:80" class="bare">http://angular:80</a></code></p>
</li>
<li>
<p><code><a href="http://java:8080" class="bare">http://java:8080</a></code></p>
</li>
</ul>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
A implementation using <a href="traefik-reverse-proxy">Traefik as reverse proxy</a> instead of NGINX is also available.
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="_run_my_thai_star"><a class="anchor" href="#_run_my_thai_star"></a>Run My Thai Star</h4>
<div class="paragraph">
<p>The steps to run <strong>My Thai Star</strong> are:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Clone the repository <code>$ git clone <a href="https://github.com/devonfw/my-thai-star.git" class="bare">https://github.com/devonfw/my-thai-star.git</a></code></p>
</li>
<li>
<p>Run the docker compose command: <code>$ docker-compose up</code></p>
</li>
</ol>
</div>
<div id="toc" class="toc">
<div id="toctitle" class="title">Table of Contents</div>
<ul class="sectlevel1">
<li><a href="#_mythaistar">MyThaiStar</a>
<ul class="sectlevel2">
<li><a href="#_1_my_thai_star_agile_framework">1.	My Thai Star – Agile Framework</a></li>
<li><a href="#_1_1_team_setup">1.1 Team Setup</a></li>
<li><a href="#_1_2_scrum_events">1.2 Scrum events</a></li>
<li><a href="#_sprint_planning">Sprint Planning</a></li>
<li><a href="#_sprint_review">Sprint Review</a></li>
<li><a href="#_sprint_retrospective">Sprint Retrospective</a></li>
<li><a href="#_daily_stand_ups">Daily Stand-ups</a></li>
<li><a href="#_backlog_refinement">Backlog refinement</a></li>
<li><a href="#_1_3_establish_product_backlog">1.3 Establish Product Backlog</a></li>
<li><a href="#_2_my_thai_star_agile_diary">2.	My Thai Star – Agile Diary</a></li>
<li><a href="#_24_03_2017_sprint_1_planning">24.03.2017 Sprint 1 Planning</a></li>
<li><a href="#_27_04_2017_sprint_1_review">27.04.2017 Sprint 1 Review</a></li>
<li><a href="#_03_05_2017_sprint_2_planning">03.05.2017 Sprint 2 Planning</a></li>
<li><a href="#_01_06_2017_sprint_2_review">01.06.2017 Sprint 2 Review</a></li>
<li><a href="#_user_stories">User Stories</a></li>
<li><a href="#_epic_invite_friends">Epic: Invite friends</a></li>
<li><a href="#_us_create_invite_for_friends">US: create invite for friends</a></li>
<li><a href="#_acceptance_criteria">== Acceptance criteria</a></li>
<li><a href="#_us_create_reservation">US: create reservation</a></li>
<li><a href="#_acceptance_criteria_2">== Acceptance criteria</a></li>
<li><a href="#_wireframes">== Wireframes</a></li>
<li><a href="#_us_handle_invite">US: handle invite</a></li>
<li><a href="#_ac">== AC:</a></li>
<li><a href="#_us_revoke_accepted_invite">US: revoke accepted invite</a></li>
<li><a href="#_ac_2">==  AC:</a></li>
<li><a href="#_us_calculate_best_table">US: calculate best table</a></li>
<li><a href="#_details">== Details</a></li>
<li><a href="#_us_find_table_by_reservation_info">US: find table by reservation info</a></li>
<li><a href="#_ac_3">== AC:</a></li>
<li><a href="#_us_cancel_invite">US: cancel invite</a></li>
<li><a href="#_ac_4">== AC:</a></li>
<li><a href="#_epic_digital_menu">Epic: Digital Menu</a></li>
<li><a href="#_us_filter_menu">US: filter menu</a></li>
<li><a href="#_ac_5">== AC:</a></li>
<li><a href="#_us_define_order">US: Define order</a></li>
<li><a href="#_ac_6">== AC:</a></li>
<li><a href="#_us_order_the_order">US: Order the order</a></li>
<li><a href="#_us_cancel_order">US: Cancel order</a></li>
<li><a href="#_us_read_twitter_rating_for_dishes">US: Read twitter rating for dishes</a></li>
<li><a href="#_epic_user_profile">Epic: User Profile</a></li>
<li><a href="#_us_user_profile">US: User Profile</a></li>
<li><a href="#_epic_rate_by_twitter">Epic: Rate by twitter</a></li>
<li><a href="#_us_receive_mail_to_rate_your_dish">US: Receive mail to rate your dish</a></li>
<li><a href="#_us_rate_your_dish">US: Rate your dish</a></li>
<li><a href="#_epic_waiter_cockpit">Epic: Waiter Cockpit</a></li>
<li><a href="#_us_see_all_ordersreservations">US: See all orders/reservations</a></li>
</ul>
</li>
<li><a href="#_technical_design">Technical design</a></li>
<li><a href="#_data_model">Data Model</a>
<ul class="sectlevel4">
<li><a href="#_data_model_2">Data Model</a></li>
<li><a href="#_nosql_data_model">NoSQL Data Model</a></li>
</ul>
</li>
<li><a href="#_server_side">Server Side</a>
<ul class="sectlevel4">
<li><a href="#_java_design">Java design</a></li>
<li><a href="#_introduction">Introduction</a></li>
<li><a href="#_basic_architecture_details">Basic architecture details</a></li>
<li><a href="#_project_modules">Project modules</a></li>
<li><a href="#_components">Components</a></li>
<li><a href="#_layers">Layers</a></li>
<li><a href="#_component_structure">Component structure</a></li>
<li><a href="#_dependency_injection">Dependency injection</a></li>
<li><a href="#_layers_communication">Layers communication</a></li>
<li><a href="#_service_layer">Service layer</a></li>
<li><a href="#_service_api">Service API</a></li>
<li><a href="#_service_impl">Service <code>impl</code></a></li>
<li><a href="#">==</a></li>
<li><a href="#_logic_layer">Logic layer</a></li>
<li><a href="#_data_access_layer">Data Access layer</a></li>
<li><a href="#_security_with_json_web_token">Security with Json Web Token</a></li>
<li><a href="#_jwt_basics">JWT basics</a></li>
<li><a href="#_jwt_implementation_details">JWT implementation details</a></li>
<li><a href="#_authentication">==  Authentication</a></li>
<li><a href="#_token_set_up">==  Token set up</a></li>
<li><a href="#_current_user_request">==  Current User request</a></li>
<li><a href="#_authorization">==  Authorization</a></li>
<li><a href="#_net_design">.NET design</a></li>
<li><a href="#_nodejs_design_deprecated">NodeJS design (deprecated)</a></li>
<li><a href="#_introduction_2">Introduction</a></li>
<li><a href="#_basic_architecture_details_2">Basic architecture details</a></li>
<li><a href="#_layers_2">Layers</a></li>
<li><a href="#_service_layer_2">Service layer</a></li>
<li><a href="#_logic_layer_and_data_access_layer">Logic layer and Data access layer</a></li>
<li><a href="#_security_with_json_web_token_2">Security with Json Web Token</a></li>
<li><a href="#_jwt_basics_2">JWT basics</a></li>
<li><a href="#_jwt_implementation_details_2">JWT implementation details</a></li>
<li><a href="#_authentication_2">==  Authentication</a></li>
<li><a href="#_token_set_up_2">==  Token set up</a></li>
<li><a href="#_current_user_request_2">==  Current User request</a></li>
<li><a href="#_authorization_2">==  Authorization</a></li>
<li><a href="#_serverless_design_deprecated">Serverless design (deprecated)</a></li>
<li><a href="#_introduction_3">Introduction</a></li>
<li><a href="#_basic_architecture_details_3">Basic architecture details</a></li>
<li><a href="#_layers_3">Layers</a></li>
<li><a href="#_service_layer_3">Service layer</a></li>
<li><a href="#_2">==</a></li>
<li><a href="#_logic_layer_and_data_access_layer_2">Logic layer and Data access layer</a></li>
<li><a href="#_security_with_json_web_token_3">Security with Json Web Token</a></li>
<li><a href="#_jwt_basics_3">JWT basics</a></li>
<li><a href="#_jwt_implementation_details_3">JWT implementation details</a></li>
<li><a href="#_authentication_3">==  Authentication</a></li>
<li><a href="#_token_set_up_3">==  Token set up</a></li>
<li><a href="#_current_user_request_3">==  Current User request</a></li>
<li><a href="#_authorization_3">==  Authorization</a></li>
<li><a href="#_graphql_design">GraphQL design</a></li>
</ul>
</li>
<li><a href="#_client_side">Client Side</a>
<ul class="sectlevel4">
<li><a href="#_angular_design">Angular design</a></li>
<li><a href="#_introduction_4">Introduction</a></li>
<li><a href="#_basic_project_structure">Basic project structure</a></li>
<li><a href="#_main_views_and_components">Main Views and components</a></li>
<li><a href="#_public_area">Public area</a></li>
<li><a href="#_app_component">==  App Component</a></li>
<li><a href="#_order_sidenav">== Order sidenav</a></li>
<li><a href="#_navigation_sidenav_only_for_mobile">== Navigation sidenav (only for mobile)</a></li>
<li><a href="#_header">== Header</a></li>
<li><a href="#_footer_only_for_desktop">== Footer (only for desktop)</a></li>
<li><a href="#_home_component">==  Home-Component</a></li>
<li><a href="#_menu_component">==  Menu-Component</a></li>
<li><a href="#_menu_card">== Menu-card</a></li>
<li><a href="#_book_table_component">==  Book Table Component</a></li>
<li><a href="#_book_table_dialog">== Book-table-dialog</a></li>
<li><a href="#_invitation_dialog">== Invitation-dialog</a></li>
<li><a href="#_user_area">==  User Area</a></li>
<li><a href="#_login_dialog">== Login-dialog</a></li>
<li><a href="#_password_dialog">== Password-dialog</a></li>
<li><a href="#_twitter_dialog">== Twitter-dialog</a></li>
<li><a href="#_waiter_cockpit_area">Waiter cockpit area</a></li>
<li><a href="#_order_cockpit_component">==  Order Cockpit Component</a></li>
<li><a href="#_order_dialog">== Order-dialog</a></li>
<li><a href="#_reservation_cockpit_component">==  Reservation Cockpit Component</a></li>
<li><a href="#_reservation_dialog">== Reservation-dialog</a></li>
<li><a href="#_email_management">Email Management</a></li>
<li><a href="#_accept_invite">==  Accept Invite</a></li>
<li><a href="#_reject_invite">==  Reject Invite</a></li>
<li><a href="#_cancel_reservation">==  Cancel Reservation</a></li>
<li><a href="#_cancel_orders">==  Cancel Orders</a></li>
<li><a href="#_services_and_directives">Services and directives</a></li>
<li><a href="#_price_calculator_service">Price-calculator-service</a></li>
<li><a href="#_authentication_4">Authentication</a></li>
<li><a href="#_snack_service">Snack Service</a></li>
<li><a href="#_window_service">Window Service</a></li>
<li><a href="#_equal_validator_directive">Equal-validator-directive</a></li>
<li><a href="#_mock_back_end">Mock Back-end</a></li>
<li><a href="#_booking">Booking</a></li>
<li><a href="#_orders">Orders</a></li>
<li><a href="#_dishes">Dishes</a></li>
<li><a href="#_login">Login</a></li>
<li><a href="#_security">Security</a></li>
<li><a href="#_auth_guard">Auth-guard</a></li>
<li><a href="#_jwt">JWT</a></li>
<li><a href="#_httpclient">==  HttpClient</a></li>
<li><a href="#_xamarin_design">Xamarin design</a></li>
</ul>
</li>
<li><a href="#_security_2">Security</a>
<ul class="sectlevel3">
<li><a href="#_two_factor_authentication">Two-Factor Authentication</a></li>
<li><a href="#_back_end_mechanism">Back-end mechanism</a></li>
<li><a href="#_activating_two_factor_authentication">Activating Two-Factor Authentication</a></li>
<li><a href="#_frontend">Frontend</a></li>
</ul>
</li>
<li><a href="#_testing">Testing</a></li>
<li><a href="#_server_side_2">Server Side</a>
<ul class="sectlevel4">
<li><a href="#_java_testing">Java testing</a></li>
<li><a href="#_component_testing">Component testing</a></li>
<li><a href="#_running_the_tests">Running the tests</a></li>
<li><a href="#_from_eclipse">From Eclipse</a></li>
<li><a href="#_from_command_line_using_maven">From command line using Maven</a></li>
<li><a href="#_net_testing">.NET testing</a></li>
<li><a href="#_nodejs_testing">NodeJS testing</a></li>
<li><a href="#_graphql_testing">GraphQL testing</a></li>
</ul>
</li>
<li><a href="#_client_side_2">Client Side</a>
<ul class="sectlevel4">
<li><a href="#_angular_testing">Angular testing</a></li>
<li><a href="#_3">==</a></li>
<li><a href="#_testing_components">Testing Components</a></li>
<li><a href="#_dialog_components">Dialog components</a></li>
<li><a href="#_testing_services">Testing Services</a></li>
<li><a href="#_testing_in_a_ci_environment">Testing in a CI environment</a></li>
<li><a href="#_xamarin_testing">Xamarin testing</a></li>
</ul>
</li>
<li><a href="#_end_to_end">End to end</a>
<ul class="sectlevel4">
<li><a href="#_mrchecker_e2e_testing">MrChecker E2E Testing</a></li>
<li><a href="#_introduction_5">Introduction</a></li>
<li><a href="#_how_to_use_it">How to use it</a></li>
<li><a href="#_end_to_end_tests_in_my_thai_star">End to end tests in My Thai Star</a></li>
</ul>
</li>
<li><a href="#_ui_design">UI design</a>
<ul class="sectlevel3">
<li><a href="#_style_guide">Style guide</a></li>
<li><a href="#_low_and_high_fidelity_wireframes">Low and high fidelity wireframes</a></li>
</ul>
</li>
<li><a href="#_cicd">CI/CD</a>
<ul class="sectlevel3">
<li><a href="#_my_thai_star_in_production_line">My Thai Star in Production Line</a></li>
<li><a href="#_what_is_pl">What is PL?</a></li>
<li><a href="#_introduction_6">Introduction</a></li>
<li><a href="#_where_can_i_find_all_my_thai_star_pipelines">Where can I find all My Thai Star Pipelines?</a></li>
<li><a href="#_ci_in_my_thai_star_stack">CI in My Thai Star stack</a></li>
<li><a href="#_how_to_configure_everything_out_of_the_box">How to configure everything out of the box</a></li>
<li><a href="#_deployment">Deployment</a></li>
<li><a href="#_where_docker_containers_will_be_running">Where Docker containers will be running?</a></li>
<li><a href="#_container_schema">Container Schema</a></li>
<li><a href="#_run_my_thai_star">Run My Thai Star</a></li>
<li><a href="#_mythaistar_on_native_kubernetes_as_a_service_nkaas"><code>MyThaiStar</code> on Native Kubernetes as a Service (nKaaS)</a></li>
<li><a href="#_setting_up_the_environment">Setting up the environment</a></li>
<li><a href="#_following_the_nkaas_guide">Following the nKaaS guide</a></li>
<li><a href="#_requesting_a_namespace">Requesting a namespace</a></li>
<li><a href="#_setting_up_harbor">Setting up Harbor</a></li>
<li><a href="#_setting_up_jenkins">Setting up Jenkins</a></li>
<li><a href="#_deploying_mts">Deploying MTS</a></li>
</ul>
</li>
</ul>
</div>
<div class="sect4">
<h5 id="_deployment_pipelines"><a class="anchor" href="#_deployment_pipelines"></a>Deployment Pipelines</h5>
<div class="paragraph">
<p>As PL does not support deployments, we have created separate pipelines for this purpose. Those pipelines are: <strong>MyThaiStar_REVERSE-PROXY_DEPLOY</strong>, <strong>MyThaiStar_FRONT-END_DEPLOY</strong> and <strong>MyThaiStar_SERVER_DEPLOY</strong>.</p>
</div>
<div class="paragraph">
<p>The application will be deployed using docker on a remote machine. The architecture is as follows:</p>
</div>
<div class="imageblock">
<div class="content">
<a class="image" href="images/ci/deployment/deployment_arch.png"><img src="_images/images/ci/deployment/deployment_arch.png" alt="deployment arch"></a>
</div>
</div>
<div class="paragraph">
<p>The parts to be deployed are: an NGINX reverse proxy, the java application and the angular application.</p>
</div>
</div>
<div class="sect4">
<h5 id="_mythaistar_server_deploy_pipeline"><a class="anchor" href="#_mythaistar_server_deploy_pipeline"></a><code>MyThaiStar_SERVER_DEPLOY Pipeline</code></h5>
<div class="paragraph">
<p>Deploys on the server the Java part of My Thai Star.</p>
</div>
</div>
<div class="sect4">
<h5 id="_parameters"><a class="anchor" href="#_parameters"></a>Parameters</h5>
<div class="ulist">
<ul>
<li>
<p><code><strong>registryUrl</strong></code>: The URL to the docker registry where the image is stored.</p>
</li>
<li>
<p><code><strong>registryCredentialsId</strong></code>: Credentials to publish/download images from registry.</p>
</li>
<li>
<p><code><strong>dockerNetwork</strong></code>: Network of your My Thai Star application. You can deploy several versions of MTS in the same server by changing the <code>dockerNetwork</code>.</p>
</li>
<li>
<p><strong>VERSION</strong>: The version that you can to deploy.</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_pipeline_steps"><a class="anchor" href="#_pipeline_steps"></a>Pipeline steps</h5>
<div class="ulist">
<ul>
<li>
<p><strong>Create docker network</strong>: Create the docker network with the name provided as parameter.</p>
</li>
<li>
<p><strong>Deploy new image</strong>: Deploy a new java container. If it already exists, first it delete the previous one.</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_mythaistar_front_end_deploy"><a class="anchor" href="#_mythaistar_front_end_deploy"></a>MyThaiStar_FRONT-END_DEPLOY</h5>
<div class="paragraph">
<p>Deploys on the server the Angular part of My Thai Star</p>
</div>
</div>
<div class="sect4">
<h5 id="_parameters_2"><a class="anchor" href="#_parameters_2"></a>Parameters</h5>
<div class="ulist">
<ul>
<li>
<p><code><strong>registryUrl</strong></code>: The URL to the docker registry where the image is stored.</p>
</li>
<li>
<p><code><strong>registryCredentialsId</strong></code>: Credentials to publish/download images from registry.</p>
</li>
<li>
<p><code><strong>dockerNetwork</strong></code>: Network of your My Thai Star application. You can deploy several versions of MTS in the same server by changing the <code>dockerNetwork</code>.</p>
</li>
<li>
<p><strong>VERSION</strong>: The version that you can to deploy.</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_pipeline_steps_2"><a class="anchor" href="#_pipeline_steps_2"></a>Pipeline steps</h5>
<div class="ulist">
<ul>
<li>
<p><strong>Create docker network</strong>: Create the docker network with the name provided as parameter.</p>
</li>
<li>
<p><strong>Deploy new image</strong>: Deploy a new angular container. If it already exists, first it delete the previous one.</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_mythaistar_reverse_proxy_deploy_pipeline"><a class="anchor" href="#_mythaistar_reverse_proxy_deploy_pipeline"></a><code>MyThaiStar_REVERSE-PROXY_DEPLOY Pipeline</code></h5>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
As reverse proxy connects to the Java and Angular application, both must be deployed before you execute this pipeline.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The <code>MyThaiStar_REVERSE-PROXY_DEPLOY</code> pipeline will deploy the My Thai Star reverse proxy into a remote machine using docker.</p>
</div>
</div>
<div class="sect4">
<h5 id="_parameters_3"><a class="anchor" href="#_parameters_3"></a>Parameters</h5>
<div class="ulist">
<ul>
<li>
<p><code><strong>registryUrl</strong></code>: The URL to the docker registry where the image is stored.</p>
</li>
<li>
<p><code><strong>registryCredentialsId</strong></code>: Credentials to publish/download images from registry.</p>
</li>
<li>
<p><code><strong>buildReverseProxy</strong></code>: If yes, it will build and publish a new version of reverse-proxy.</p>
</li>
<li>
<p><strong>port</strong>: Port of the MTS application. You must ensure that those port is available in the deployment machine.</p>
</li>
<li>
<p><strong>docker Network</strong>: Network of your My Thai Star application. You can deploy several versions of MTS in the same server by changing the port and the docker Network.</p>
</li>
<li>
<p><strong>VERSION</strong>: The version that you can to deploy.</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_pipeline_steps_3"><a class="anchor" href="#_pipeline_steps_3"></a>Pipeline steps</h5>
<div class="ulist">
<ul>
<li>
<p><strong>Create docker network</strong>: Create the docker network with the name provided as parameter.</p>
</li>
<li>
<p><strong>Create the Docker image</strong>: If build-Reverse-Proxy is enabled, this step will create a new docker image and publish it to the docker registry.</p>
</li>
<li>
<p><strong>Deploy new image</strong>: Deploy a new reverse proxy container. If it already exists, first it delete the previous one.</p>
</li>
</ul>
</div>
<div id="toc" class="toc">
<div id="toctitle" class="title">Table of Contents</div>
<ul class="sectlevel1">
<li><a href="#_mythaistar">MyThaiStar</a>
<ul class="sectlevel2">
<li><a href="#_1_my_thai_star_agile_framework">1.	My Thai Star – Agile Framework</a></li>
<li><a href="#_1_1_team_setup">1.1 Team Setup</a></li>
<li><a href="#_1_2_scrum_events">1.2 Scrum events</a></li>
<li><a href="#_sprint_planning">Sprint Planning</a></li>
<li><a href="#_sprint_review">Sprint Review</a></li>
<li><a href="#_sprint_retrospective">Sprint Retrospective</a></li>
<li><a href="#_daily_stand_ups">Daily Stand-ups</a></li>
<li><a href="#_backlog_refinement">Backlog refinement</a></li>
<li><a href="#_1_3_establish_product_backlog">1.3 Establish Product Backlog</a></li>
<li><a href="#_2_my_thai_star_agile_diary">2.	My Thai Star – Agile Diary</a></li>
<li><a href="#_24_03_2017_sprint_1_planning">24.03.2017 Sprint 1 Planning</a></li>
<li><a href="#_27_04_2017_sprint_1_review">27.04.2017 Sprint 1 Review</a></li>
<li><a href="#_03_05_2017_sprint_2_planning">03.05.2017 Sprint 2 Planning</a></li>
<li><a href="#_01_06_2017_sprint_2_review">01.06.2017 Sprint 2 Review</a></li>
<li><a href="#_user_stories">User Stories</a></li>
<li><a href="#_epic_invite_friends">Epic: Invite friends</a></li>
<li><a href="#_us_create_invite_for_friends">US: create invite for friends</a></li>
<li><a href="#_acceptance_criteria">== Acceptance criteria</a></li>
<li><a href="#_us_create_reservation">US: create reservation</a></li>
<li><a href="#_acceptance_criteria_2">== Acceptance criteria</a></li>
<li><a href="#_wireframes">== Wireframes</a></li>
<li><a href="#_us_handle_invite">US: handle invite</a></li>
<li><a href="#_ac">== AC:</a></li>
<li><a href="#_us_revoke_accepted_invite">US: revoke accepted invite</a></li>
<li><a href="#_ac_2">==  AC:</a></li>
<li><a href="#_us_calculate_best_table">US: calculate best table</a></li>
<li><a href="#_details">== Details</a></li>
<li><a href="#_us_find_table_by_reservation_info">US: find table by reservation info</a></li>
<li><a href="#_ac_3">== AC:</a></li>
<li><a href="#_us_cancel_invite">US: cancel invite</a></li>
<li><a href="#_ac_4">== AC:</a></li>
<li><a href="#_epic_digital_menu">Epic: Digital Menu</a></li>
<li><a href="#_us_filter_menu">US: filter menu</a></li>
<li><a href="#_ac_5">== AC:</a></li>
<li><a href="#_us_define_order">US: Define order</a></li>
<li><a href="#_ac_6">== AC:</a></li>
<li><a href="#_us_order_the_order">US: Order the order</a></li>
<li><a href="#_us_cancel_order">US: Cancel order</a></li>
<li><a href="#_us_read_twitter_rating_for_dishes">US: Read twitter rating for dishes</a></li>
<li><a href="#_epic_user_profile">Epic: User Profile</a></li>
<li><a href="#_us_user_profile">US: User Profile</a></li>
<li><a href="#_epic_rate_by_twitter">Epic: Rate by twitter</a></li>
<li><a href="#_us_receive_mail_to_rate_your_dish">US: Receive mail to rate your dish</a></li>
<li><a href="#_us_rate_your_dish">US: Rate your dish</a></li>
<li><a href="#_epic_waiter_cockpit">Epic: Waiter Cockpit</a></li>
<li><a href="#_us_see_all_ordersreservations">US: See all orders/reservations</a></li>
</ul>
</li>
<li><a href="#_technical_design">Technical design</a></li>
<li><a href="#_data_model">Data Model</a>
<ul class="sectlevel4">
<li><a href="#_data_model_2">Data Model</a></li>
<li><a href="#_nosql_data_model">NoSQL Data Model</a></li>
</ul>
</li>
<li><a href="#_server_side">Server Side</a>
<ul class="sectlevel4">
<li><a href="#_java_design">Java design</a></li>
<li><a href="#_introduction">Introduction</a></li>
<li><a href="#_basic_architecture_details">Basic architecture details</a></li>
<li><a href="#_project_modules">Project modules</a></li>
<li><a href="#_components">Components</a></li>
<li><a href="#_layers">Layers</a></li>
<li><a href="#_component_structure">Component structure</a></li>
<li><a href="#_dependency_injection">Dependency injection</a></li>
<li><a href="#_layers_communication">Layers communication</a></li>
<li><a href="#_service_layer">Service layer</a></li>
<li><a href="#_service_api">Service API</a></li>
<li><a href="#_service_impl">Service <code>impl</code></a></li>
<li><a href="#">==</a></li>
<li><a href="#_logic_layer">Logic layer</a></li>
<li><a href="#_data_access_layer">Data Access layer</a></li>
<li><a href="#_security_with_json_web_token">Security with Json Web Token</a></li>
<li><a href="#_jwt_basics">JWT basics</a></li>
<li><a href="#_jwt_implementation_details">JWT implementation details</a></li>
<li><a href="#_authentication">==  Authentication</a></li>
<li><a href="#_token_set_up">==  Token set up</a></li>
<li><a href="#_current_user_request">==  Current User request</a></li>
<li><a href="#_authorization">==  Authorization</a></li>
<li><a href="#_net_design">.NET design</a></li>
<li><a href="#_nodejs_design_deprecated">NodeJS design (deprecated)</a></li>
<li><a href="#_introduction_2">Introduction</a></li>
<li><a href="#_basic_architecture_details_2">Basic architecture details</a></li>
<li><a href="#_layers_2">Layers</a></li>
<li><a href="#_service_layer_2">Service layer</a></li>
<li><a href="#_logic_layer_and_data_access_layer">Logic layer and Data access layer</a></li>
<li><a href="#_security_with_json_web_token_2">Security with Json Web Token</a></li>
<li><a href="#_jwt_basics_2">JWT basics</a></li>
<li><a href="#_jwt_implementation_details_2">JWT implementation details</a></li>
<li><a href="#_authentication_2">==  Authentication</a></li>
<li><a href="#_token_set_up_2">==  Token set up</a></li>
<li><a href="#_current_user_request_2">==  Current User request</a></li>
<li><a href="#_authorization_2">==  Authorization</a></li>
<li><a href="#_serverless_design_deprecated">Serverless design (deprecated)</a></li>
<li><a href="#_introduction_3">Introduction</a></li>
<li><a href="#_basic_architecture_details_3">Basic architecture details</a></li>
<li><a href="#_layers_3">Layers</a></li>
<li><a href="#_service_layer_3">Service layer</a></li>
<li><a href="#_2">==</a></li>
<li><a href="#_logic_layer_and_data_access_layer_2">Logic layer and Data access layer</a></li>
<li><a href="#_security_with_json_web_token_3">Security with Json Web Token</a></li>
<li><a href="#_jwt_basics_3">JWT basics</a></li>
<li><a href="#_jwt_implementation_details_3">JWT implementation details</a></li>
<li><a href="#_authentication_3">==  Authentication</a></li>
<li><a href="#_token_set_up_3">==  Token set up</a></li>
<li><a href="#_current_user_request_3">==  Current User request</a></li>
<li><a href="#_authorization_3">==  Authorization</a></li>
<li><a href="#_graphql_design">GraphQL design</a></li>
</ul>
</li>
<li><a href="#_client_side">Client Side</a>
<ul class="sectlevel4">
<li><a href="#_angular_design">Angular design</a></li>
<li><a href="#_introduction_4">Introduction</a></li>
<li><a href="#_basic_project_structure">Basic project structure</a></li>
<li><a href="#_main_views_and_components">Main Views and components</a></li>
<li><a href="#_public_area">Public area</a></li>
<li><a href="#_app_component">==  App Component</a></li>
<li><a href="#_order_sidenav">== Order sidenav</a></li>
<li><a href="#_navigation_sidenav_only_for_mobile">== Navigation sidenav (only for mobile)</a></li>
<li><a href="#_header">== Header</a></li>
<li><a href="#_footer_only_for_desktop">== Footer (only for desktop)</a></li>
<li><a href="#_home_component">==  Home-Component</a></li>
<li><a href="#_menu_component">==  Menu-Component</a></li>
<li><a href="#_menu_card">== Menu-card</a></li>
<li><a href="#_book_table_component">==  Book Table Component</a></li>
<li><a href="#_book_table_dialog">== Book-table-dialog</a></li>
<li><a href="#_invitation_dialog">== Invitation-dialog</a></li>
<li><a href="#_user_area">==  User Area</a></li>
<li><a href="#_login_dialog">== Login-dialog</a></li>
<li><a href="#_password_dialog">== Password-dialog</a></li>
<li><a href="#_twitter_dialog">== Twitter-dialog</a></li>
<li><a href="#_waiter_cockpit_area">Waiter cockpit area</a></li>
<li><a href="#_order_cockpit_component">==  Order Cockpit Component</a></li>
<li><a href="#_order_dialog">== Order-dialog</a></li>
<li><a href="#_reservation_cockpit_component">==  Reservation Cockpit Component</a></li>
<li><a href="#_reservation_dialog">== Reservation-dialog</a></li>
<li><a href="#_email_management">Email Management</a></li>
<li><a href="#_accept_invite">==  Accept Invite</a></li>
<li><a href="#_reject_invite">==  Reject Invite</a></li>
<li><a href="#_cancel_reservation">==  Cancel Reservation</a></li>
<li><a href="#_cancel_orders">==  Cancel Orders</a></li>
<li><a href="#_services_and_directives">Services and directives</a></li>
<li><a href="#_price_calculator_service">Price-calculator-service</a></li>
<li><a href="#_authentication_4">Authentication</a></li>
<li><a href="#_snack_service">Snack Service</a></li>
<li><a href="#_window_service">Window Service</a></li>
<li><a href="#_equal_validator_directive">Equal-validator-directive</a></li>
<li><a href="#_mock_back_end">Mock Back-end</a></li>
<li><a href="#_booking">Booking</a></li>
<li><a href="#_orders">Orders</a></li>
<li><a href="#_dishes">Dishes</a></li>
<li><a href="#_login">Login</a></li>
<li><a href="#_security">Security</a></li>
<li><a href="#_auth_guard">Auth-guard</a></li>
<li><a href="#_jwt">JWT</a></li>
<li><a href="#_httpclient">==  HttpClient</a></li>
<li><a href="#_xamarin_design">Xamarin design</a></li>
</ul>
</li>
<li><a href="#_security_2">Security</a>
<ul class="sectlevel3">
<li><a href="#_two_factor_authentication">Two-Factor Authentication</a></li>
<li><a href="#_back_end_mechanism">Back-end mechanism</a></li>
<li><a href="#_activating_two_factor_authentication">Activating Two-Factor Authentication</a></li>
<li><a href="#_frontend">Frontend</a></li>
</ul>
</li>
<li><a href="#_testing">Testing</a></li>
<li><a href="#_server_side_2">Server Side</a>
<ul class="sectlevel4">
<li><a href="#_java_testing">Java testing</a></li>
<li><a href="#_component_testing">Component testing</a></li>
<li><a href="#_running_the_tests">Running the tests</a></li>
<li><a href="#_from_eclipse">From Eclipse</a></li>
<li><a href="#_from_command_line_using_maven">From command line using Maven</a></li>
<li><a href="#_net_testing">.NET testing</a></li>
<li><a href="#_nodejs_testing">NodeJS testing</a></li>
<li><a href="#_graphql_testing">GraphQL testing</a></li>
</ul>
</li>
<li><a href="#_client_side_2">Client Side</a>
<ul class="sectlevel4">
<li><a href="#_angular_testing">Angular testing</a></li>
<li><a href="#_3">==</a></li>
<li><a href="#_testing_components">Testing Components</a></li>
<li><a href="#_dialog_components">Dialog components</a></li>
<li><a href="#_testing_services">Testing Services</a></li>
<li><a href="#_testing_in_a_ci_environment">Testing in a CI environment</a></li>
<li><a href="#_xamarin_testing">Xamarin testing</a></li>
</ul>
</li>
<li><a href="#_end_to_end">End to end</a>
<ul class="sectlevel4">
<li><a href="#_mrchecker_e2e_testing">MrChecker E2E Testing</a></li>
<li><a href="#_introduction_5">Introduction</a></li>
<li><a href="#_how_to_use_it">How to use it</a></li>
<li><a href="#_end_to_end_tests_in_my_thai_star">End to end tests in My Thai Star</a></li>
</ul>
</li>
<li><a href="#_ui_design">UI design</a>
<ul class="sectlevel3">
<li><a href="#_style_guide">Style guide</a></li>
<li><a href="#_low_and_high_fidelity_wireframes">Low and high fidelity wireframes</a></li>
</ul>
</li>
<li><a href="#_cicd">CI/CD</a>
<ul class="sectlevel3">
<li><a href="#_my_thai_star_in_production_line">My Thai Star in Production Line</a></li>
<li><a href="#_what_is_pl">What is PL?</a></li>
<li><a href="#_introduction_6">Introduction</a></li>
<li><a href="#_where_can_i_find_all_my_thai_star_pipelines">Where can I find all My Thai Star Pipelines?</a></li>
<li><a href="#_ci_in_my_thai_star_stack">CI in My Thai Star stack</a></li>
<li><a href="#_how_to_configure_everything_out_of_the_box">How to configure everything out of the box</a></li>
<li><a href="#_deployment">Deployment</a></li>
<li><a href="#_where_docker_containers_will_be_running">Where Docker containers will be running?</a></li>
<li><a href="#_container_schema">Container Schema</a></li>
<li><a href="#_run_my_thai_star">Run My Thai Star</a></li>
<li><a href="#_mythaistar_on_native_kubernetes_as_a_service_nkaas"><code>MyThaiStar</code> on Native Kubernetes as a Service (nKaaS)</a></li>
<li><a href="#_setting_up_the_environment">Setting up the environment</a></li>
<li><a href="#_following_the_nkaas_guide">Following the nKaaS guide</a></li>
<li><a href="#_requesting_a_namespace">Requesting a namespace</a></li>
<li><a href="#_setting_up_harbor">Setting up Harbor</a></li>
<li><a href="#_setting_up_jenkins">Setting up Jenkins</a></li>
<li><a href="#_deploying_mts">Deploying MTS</a></li>
</ul>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_deployment_strategies"><a class="anchor" href="#_deployment_strategies"></a>Deployment Strategies</h5>
<div class="paragraph">
<p>In this chapter different way of deploying My Thai Star are explained. Everything will be based in Docker.</p>
</div>
</div>
<div class="sect4">
<h5 id="_independent_docker_containers"><a class="anchor" href="#_independent_docker_containers"></a>Independent Docker containers</h5>
<div class="paragraph">
<p>The first way of deployment will use isolated Docker containers. That means that if the client-side container is deployed, it does not affect the server-side container&#8217;s life cycle and vice versa.</p>
</div>
<div class="paragraph">
<p>Let&#8217;s show how the containers will behave during their life cycle.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>0) Copy everything you need into the Deployment Server directory</p>
</li>
<li>
<p>1) Remove existing container (Nginx or Tomcat)</p>
<div class="imageblock">
<div class="content">
<a class="image" href="container1.png"><img src="_images/images/ci/angular/container1.png" alt="container1"></a>
</div>
</div>
</li>
<li>
<p>2) Run new one from the Docker images collection of the external Deployment Server.</p>
<div class="imageblock">
<div class="content">
<a class="image" href="container2.png"><img src="_images/images/ci/angular/container2.png" alt="container2"></a>
</div>
</div>
</li>
<li>
<p>3) Add the artifact <code>/dist</code> to the "deployable" folder of the Docker container (<code>/usr/share/nginx/html/</code>)</p>
<div class="imageblock">
<div class="content">
<a class="image" href="container3.png"><img src="_images/images/ci/angular/container3.png" alt="container3"></a>
</div>
</div>
<div class="paragraph">
<p>Now, let&#8217;s see how it&#8217;s being executed in the command line (simplified due to documentation purposes). The next block of code represents what is inside of the last stage of the Pipeline.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-groovy hljs" data-lang="groovy">sshagent (credentials: ['my_ssh_token']) {
    sh """
        // Copy artifact from workspace to deployment server

        // Manage container:
        docker rm -f [mts-container]
        docker run -itd --name=[mts-container] [base_image]
        docker exec [mts-container] bash -C \\"rm [container_deployment_folder]/*\\"
        docker cp [artifact] [mts-container]:[container_deployment_folder]
    """
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>For every operation performed in the external Deployment Server, it is necessary to define <em>where</em> those commands are going to be executed. So, for each one of previous <code>docker</code> commands, this should appear before:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>`ssh -o StrictHostKeyChecking=no root@10.40.235.244`</pre>
</div>
</div>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_docker_compose"><a class="anchor" href="#_docker_compose"></a>Docker Compose</h5>
<div class="paragraph">
<p>The second way of deployment will be by orchestrating both elements of the application: The Angular client-side and the Java server-side. Both elements will be running in Docker containers as well, but in this case they won&#8217;t be independent anymore. <strong>Docker Compose</strong> will be in charge of keeping both containers up, or to put them down.</p>
</div>
</div>
<div class="sect4">
<h5 id="_project_adjustment"><a class="anchor" href="#_project_adjustment"></a>Project adjustment</h5>
<div class="paragraph">
<p>In order to perform this second way of deployment, some files will be created in the project. The first one is the <strong>Dockerfile</strong> for the Angular client-side. This file will pull (if necessary) an <strong>Nginx</strong> Docker image and copy the Angular artifact (<code>/dist</code> folder) inside of the deployment folder of the image. It will be located in the main directory of the Angular client-side project.</p>
</div>
<div class="imageblock">
<div class="content">
<a class="image" href="dockerfile-angular.PNG"><img src="_images/images/ci/deployment/dockerfile-angular.PNG" alt="dockerfile angular"></a>
</div>
</div>
<div class="paragraph">
<p>The second file is the <strong>Dockerfile</strong> for the Java server-side. Its function will be quite similar to the Angular one. It will run a <strong>tomcat</strong> Docker image and copy the Java artifact (<code>mythaistar.war</code> file) in its deployment folder.</p>
</div>
<div class="imageblock">
<div class="content">
<a class="image" href="dockerfile-java.PNG"><img src="_images/images/ci/deployment/dockerfile-java.PNG" alt="dockerfile java"></a>
</div>
</div>
<div class="paragraph">
<p>Finally, as long as the <strong>docker-compose</strong> is being used, a file containing its configuration will be necessary as well. A new folder one the main My That Star&#8217;s directory is created, and it&#8217;s called <code>/docker</code>. Inside there is just a <code>docker-compose.yml</code> file. It contains all the information needed to orchestrate the deployment process. For example, which port both containers are going to be published on, and so on. This way of deployment will allow the application to be published or not just with one action.</p>
</div>
<div class="literalblock">
<div class="content">
<pre>docker-compose rm -f            # down
docker-compose up --build -d    # up fresh containers</pre>
</div>
</div>
<div class="imageblock">
<div class="content">
<a class="image" href="docker-compose.PNG"><img src="_images/images/ci/deployment/docker-compose.PNG" alt="docker compose"></a>
</div>
</div>
<div class="paragraph">
<p>Let&#8217;s have a look at the file itself:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-yaml hljs" data-lang="yaml">version: '3'
services:
  client_compose:
    build: "angular"
    ports:
      - "8091:80"
    depends_on:
      - server_compose
  server_compose:
    build: "java"
    ports:
      - "9091:8080"</code></pre>
</div>
</div>
<div class="paragraph">
<p>This Orchestrated Deployment will offer some interesting possibilities for <a href="future-deployment">the future of the application</a>.</p>
</div>
<div id="toc" class="toc">
<div id="toctitle" class="title">Table of Contents</div>
<ul class="sectlevel1">
<li><a href="#_mythaistar">MyThaiStar</a>
<ul class="sectlevel2">
<li><a href="#_1_my_thai_star_agile_framework">1.	My Thai Star – Agile Framework</a></li>
<li><a href="#_1_1_team_setup">1.1 Team Setup</a></li>
<li><a href="#_1_2_scrum_events">1.2 Scrum events</a></li>
<li><a href="#_sprint_planning">Sprint Planning</a></li>
<li><a href="#_sprint_review">Sprint Review</a></li>
<li><a href="#_sprint_retrospective">Sprint Retrospective</a></li>
<li><a href="#_daily_stand_ups">Daily Stand-ups</a></li>
<li><a href="#_backlog_refinement">Backlog refinement</a></li>
<li><a href="#_1_3_establish_product_backlog">1.3 Establish Product Backlog</a></li>
<li><a href="#_2_my_thai_star_agile_diary">2.	My Thai Star – Agile Diary</a></li>
<li><a href="#_24_03_2017_sprint_1_planning">24.03.2017 Sprint 1 Planning</a></li>
<li><a href="#_27_04_2017_sprint_1_review">27.04.2017 Sprint 1 Review</a></li>
<li><a href="#_03_05_2017_sprint_2_planning">03.05.2017 Sprint 2 Planning</a></li>
<li><a href="#_01_06_2017_sprint_2_review">01.06.2017 Sprint 2 Review</a></li>
<li><a href="#_user_stories">User Stories</a></li>
<li><a href="#_epic_invite_friends">Epic: Invite friends</a></li>
<li><a href="#_us_create_invite_for_friends">US: create invite for friends</a></li>
<li><a href="#_acceptance_criteria">== Acceptance criteria</a></li>
<li><a href="#_us_create_reservation">US: create reservation</a></li>
<li><a href="#_acceptance_criteria_2">== Acceptance criteria</a></li>
<li><a href="#_wireframes">== Wireframes</a></li>
<li><a href="#_us_handle_invite">US: handle invite</a></li>
<li><a href="#_ac">== AC:</a></li>
<li><a href="#_us_revoke_accepted_invite">US: revoke accepted invite</a></li>
<li><a href="#_ac_2">==  AC:</a></li>
<li><a href="#_us_calculate_best_table">US: calculate best table</a></li>
<li><a href="#_details">== Details</a></li>
<li><a href="#_us_find_table_by_reservation_info">US: find table by reservation info</a></li>
<li><a href="#_ac_3">== AC:</a></li>
<li><a href="#_us_cancel_invite">US: cancel invite</a></li>
<li><a href="#_ac_4">== AC:</a></li>
<li><a href="#_epic_digital_menu">Epic: Digital Menu</a></li>
<li><a href="#_us_filter_menu">US: filter menu</a></li>
<li><a href="#_ac_5">== AC:</a></li>
<li><a href="#_us_define_order">US: Define order</a></li>
<li><a href="#_ac_6">== AC:</a></li>
<li><a href="#_us_order_the_order">US: Order the order</a></li>
<li><a href="#_us_cancel_order">US: Cancel order</a></li>
<li><a href="#_us_read_twitter_rating_for_dishes">US: Read twitter rating for dishes</a></li>
<li><a href="#_epic_user_profile">Epic: User Profile</a></li>
<li><a href="#_us_user_profile">US: User Profile</a></li>
<li><a href="#_epic_rate_by_twitter">Epic: Rate by twitter</a></li>
<li><a href="#_us_receive_mail_to_rate_your_dish">US: Receive mail to rate your dish</a></li>
<li><a href="#_us_rate_your_dish">US: Rate your dish</a></li>
<li><a href="#_epic_waiter_cockpit">Epic: Waiter Cockpit</a></li>
<li><a href="#_us_see_all_ordersreservations">US: See all orders/reservations</a></li>
</ul>
</li>
<li><a href="#_technical_design">Technical design</a></li>
<li><a href="#_data_model">Data Model</a>
<ul class="sectlevel4">
<li><a href="#_data_model_2">Data Model</a></li>
<li><a href="#_nosql_data_model">NoSQL Data Model</a></li>
</ul>
</li>
<li><a href="#_server_side">Server Side</a>
<ul class="sectlevel4">
<li><a href="#_java_design">Java design</a></li>
<li><a href="#_introduction">Introduction</a></li>
<li><a href="#_basic_architecture_details">Basic architecture details</a></li>
<li><a href="#_project_modules">Project modules</a></li>
<li><a href="#_components">Components</a></li>
<li><a href="#_layers">Layers</a></li>
<li><a href="#_component_structure">Component structure</a></li>
<li><a href="#_dependency_injection">Dependency injection</a></li>
<li><a href="#_layers_communication">Layers communication</a></li>
<li><a href="#_service_layer">Service layer</a></li>
<li><a href="#_service_api">Service API</a></li>
<li><a href="#_service_impl">Service <code>impl</code></a></li>
<li><a href="#">==</a></li>
<li><a href="#_logic_layer">Logic layer</a></li>
<li><a href="#_data_access_layer">Data Access layer</a></li>
<li><a href="#_security_with_json_web_token">Security with Json Web Token</a></li>
<li><a href="#_jwt_basics">JWT basics</a></li>
<li><a href="#_jwt_implementation_details">JWT implementation details</a></li>
<li><a href="#_authentication">==  Authentication</a></li>
<li><a href="#_token_set_up">==  Token set up</a></li>
<li><a href="#_current_user_request">==  Current User request</a></li>
<li><a href="#_authorization">==  Authorization</a></li>
<li><a href="#_net_design">.NET design</a></li>
<li><a href="#_nodejs_design_deprecated">NodeJS design (deprecated)</a></li>
<li><a href="#_introduction_2">Introduction</a></li>
<li><a href="#_basic_architecture_details_2">Basic architecture details</a></li>
<li><a href="#_layers_2">Layers</a></li>
<li><a href="#_service_layer_2">Service layer</a></li>
<li><a href="#_logic_layer_and_data_access_layer">Logic layer and Data access layer</a></li>
<li><a href="#_security_with_json_web_token_2">Security with Json Web Token</a></li>
<li><a href="#_jwt_basics_2">JWT basics</a></li>
<li><a href="#_jwt_implementation_details_2">JWT implementation details</a></li>
<li><a href="#_authentication_2">==  Authentication</a></li>
<li><a href="#_token_set_up_2">==  Token set up</a></li>
<li><a href="#_current_user_request_2">==  Current User request</a></li>
<li><a href="#_authorization_2">==  Authorization</a></li>
<li><a href="#_serverless_design_deprecated">Serverless design (deprecated)</a></li>
<li><a href="#_introduction_3">Introduction</a></li>
<li><a href="#_basic_architecture_details_3">Basic architecture details</a></li>
<li><a href="#_layers_3">Layers</a></li>
<li><a href="#_service_layer_3">Service layer</a></li>
<li><a href="#_2">==</a></li>
<li><a href="#_logic_layer_and_data_access_layer_2">Logic layer and Data access layer</a></li>
<li><a href="#_security_with_json_web_token_3">Security with Json Web Token</a></li>
<li><a href="#_jwt_basics_3">JWT basics</a></li>
<li><a href="#_jwt_implementation_details_3">JWT implementation details</a></li>
<li><a href="#_authentication_3">==  Authentication</a></li>
<li><a href="#_token_set_up_3">==  Token set up</a></li>
<li><a href="#_current_user_request_3">==  Current User request</a></li>
<li><a href="#_authorization_3">==  Authorization</a></li>
<li><a href="#_graphql_design">GraphQL design</a></li>
</ul>
</li>
<li><a href="#_client_side">Client Side</a>
<ul class="sectlevel4">
<li><a href="#_angular_design">Angular design</a></li>
<li><a href="#_introduction_4">Introduction</a></li>
<li><a href="#_basic_project_structure">Basic project structure</a></li>
<li><a href="#_main_views_and_components">Main Views and components</a></li>
<li><a href="#_public_area">Public area</a></li>
<li><a href="#_app_component">==  App Component</a></li>
<li><a href="#_order_sidenav">== Order sidenav</a></li>
<li><a href="#_navigation_sidenav_only_for_mobile">== Navigation sidenav (only for mobile)</a></li>
<li><a href="#_header">== Header</a></li>
<li><a href="#_footer_only_for_desktop">== Footer (only for desktop)</a></li>
<li><a href="#_home_component">==  Home-Component</a></li>
<li><a href="#_menu_component">==  Menu-Component</a></li>
<li><a href="#_menu_card">== Menu-card</a></li>
<li><a href="#_book_table_component">==  Book Table Component</a></li>
<li><a href="#_book_table_dialog">== Book-table-dialog</a></li>
<li><a href="#_invitation_dialog">== Invitation-dialog</a></li>
<li><a href="#_user_area">==  User Area</a></li>
<li><a href="#_login_dialog">== Login-dialog</a></li>
<li><a href="#_password_dialog">== Password-dialog</a></li>
<li><a href="#_twitter_dialog">== Twitter-dialog</a></li>
<li><a href="#_waiter_cockpit_area">Waiter cockpit area</a></li>
<li><a href="#_order_cockpit_component">==  Order Cockpit Component</a></li>
<li><a href="#_order_dialog">== Order-dialog</a></li>
<li><a href="#_reservation_cockpit_component">==  Reservation Cockpit Component</a></li>
<li><a href="#_reservation_dialog">== Reservation-dialog</a></li>
<li><a href="#_email_management">Email Management</a></li>
<li><a href="#_accept_invite">==  Accept Invite</a></li>
<li><a href="#_reject_invite">==  Reject Invite</a></li>
<li><a href="#_cancel_reservation">==  Cancel Reservation</a></li>
<li><a href="#_cancel_orders">==  Cancel Orders</a></li>
<li><a href="#_services_and_directives">Services and directives</a></li>
<li><a href="#_price_calculator_service">Price-calculator-service</a></li>
<li><a href="#_authentication_4">Authentication</a></li>
<li><a href="#_snack_service">Snack Service</a></li>
<li><a href="#_window_service">Window Service</a></li>
<li><a href="#_equal_validator_directive">Equal-validator-directive</a></li>
<li><a href="#_mock_back_end">Mock Back-end</a></li>
<li><a href="#_booking">Booking</a></li>
<li><a href="#_orders">Orders</a></li>
<li><a href="#_dishes">Dishes</a></li>
<li><a href="#_login">Login</a></li>
<li><a href="#_security">Security</a></li>
<li><a href="#_auth_guard">Auth-guard</a></li>
<li><a href="#_jwt">JWT</a></li>
<li><a href="#_httpclient">==  HttpClient</a></li>
<li><a href="#_xamarin_design">Xamarin design</a></li>
</ul>
</li>
<li><a href="#_security_2">Security</a>
<ul class="sectlevel3">
<li><a href="#_two_factor_authentication">Two-Factor Authentication</a></li>
<li><a href="#_back_end_mechanism">Back-end mechanism</a></li>
<li><a href="#_activating_two_factor_authentication">Activating Two-Factor Authentication</a></li>
<li><a href="#_frontend">Frontend</a></li>
</ul>
</li>
<li><a href="#_testing">Testing</a></li>
<li><a href="#_server_side_2">Server Side</a>
<ul class="sectlevel4">
<li><a href="#_java_testing">Java testing</a></li>
<li><a href="#_component_testing">Component testing</a></li>
<li><a href="#_running_the_tests">Running the tests</a></li>
<li><a href="#_from_eclipse">From Eclipse</a></li>
<li><a href="#_from_command_line_using_maven">From command line using Maven</a></li>
<li><a href="#_net_testing">.NET testing</a></li>
<li><a href="#_nodejs_testing">NodeJS testing</a></li>
<li><a href="#_graphql_testing">GraphQL testing</a></li>
</ul>
</li>
<li><a href="#_client_side_2">Client Side</a>
<ul class="sectlevel4">
<li><a href="#_angular_testing">Angular testing</a></li>
<li><a href="#_3">==</a></li>
<li><a href="#_testing_components">Testing Components</a></li>
<li><a href="#_dialog_components">Dialog components</a></li>
<li><a href="#_testing_services">Testing Services</a></li>
<li><a href="#_testing_in_a_ci_environment">Testing in a CI environment</a></li>
<li><a href="#_xamarin_testing">Xamarin testing</a></li>
</ul>
</li>
<li><a href="#_end_to_end">End to end</a>
<ul class="sectlevel4">
<li><a href="#_mrchecker_e2e_testing">MrChecker E2E Testing</a></li>
<li><a href="#_introduction_5">Introduction</a></li>
<li><a href="#_how_to_use_it">How to use it</a></li>
<li><a href="#_end_to_end_tests_in_my_thai_star">End to end tests in My Thai Star</a></li>
</ul>
</li>
<li><a href="#_ui_design">UI design</a>
<ul class="sectlevel3">
<li><a href="#_style_guide">Style guide</a></li>
<li><a href="#_low_and_high_fidelity_wireframes">Low and high fidelity wireframes</a></li>
</ul>
</li>
<li><a href="#_cicd">CI/CD</a>
<ul class="sectlevel3">
<li><a href="#_my_thai_star_in_production_line">My Thai Star in Production Line</a></li>
<li><a href="#_what_is_pl">What is PL?</a></li>
<li><a href="#_introduction_6">Introduction</a></li>
<li><a href="#_where_can_i_find_all_my_thai_star_pipelines">Where can I find all My Thai Star Pipelines?</a></li>
<li><a href="#_ci_in_my_thai_star_stack">CI in My Thai Star stack</a></li>
<li><a href="#_how_to_configure_everything_out_of_the_box">How to configure everything out of the box</a></li>
<li><a href="#_deployment">Deployment</a></li>
<li><a href="#_where_docker_containers_will_be_running">Where Docker containers will be running?</a></li>
<li><a href="#_container_schema">Container Schema</a></li>
<li><a href="#_run_my_thai_star">Run My Thai Star</a></li>
<li><a href="#_mythaistar_on_native_kubernetes_as_a_service_nkaas"><code>MyThaiStar</code> on Native Kubernetes as a Service (nKaaS)</a></li>
<li><a href="#_setting_up_the_environment">Setting up the environment</a></li>
<li><a href="#_following_the_nkaas_guide">Following the nKaaS guide</a></li>
<li><a href="#_requesting_a_namespace">Requesting a namespace</a></li>
<li><a href="#_setting_up_harbor">Setting up Harbor</a></li>
<li><a href="#_setting_up_jenkins">Setting up Jenkins</a></li>
<li><a href="#_deploying_mts">Deploying MTS</a></li>
</ul>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_future_deployment"><a class="anchor" href="#_future_deployment"></a>Future Deployment</h5>
<div class="paragraph">
<p>The <strong>My Thai Star</strong> project is going to be built in many technologies. Thus, let&#8217;s think about one deployment schema that allow the Angular client to communicate to all three back ends: <strong>Java</strong>, <strong>Node</strong> and <strong>.NET</strong>.</p>
</div>
<div class="paragraph">
<p>As long as <strong>Docker containers</strong> are being used, it shouldn&#8217;t be that hard to deal with this "distributed" deployment. The schema represents 6 Docker containers that will have client-side(s) and server-side(s). Each of 3 Angular client containers (those in red) are going to communicate with different back-ends. So, when the deployment is finished, it would be possible to use all three server-sides just by changing the "port" in the URL.</p>
</div>
<div class="paragraph">
<p>Let&#8217;s see how it would look like:</p>
</div>
<div class="imageblock">
<div class="content">
<a class="image" href="images/ci/future/deployment_schema.PNG"><img src="_images/images/ci/future/deployment_schema.PNG" alt="deployment schema"></a>
</div>
</div>
<div id="toc" class="toc">
<div id="toctitle" class="title">Table of Contents</div>
<ul class="sectlevel1">
<li><a href="#_mythaistar">MyThaiStar</a>
<ul class="sectlevel2">
<li><a href="#_1_my_thai_star_agile_framework">1.	My Thai Star – Agile Framework</a></li>
<li><a href="#_1_1_team_setup">1.1 Team Setup</a></li>
<li><a href="#_1_2_scrum_events">1.2 Scrum events</a></li>
<li><a href="#_sprint_planning">Sprint Planning</a></li>
<li><a href="#_sprint_review">Sprint Review</a></li>
<li><a href="#_sprint_retrospective">Sprint Retrospective</a></li>
<li><a href="#_daily_stand_ups">Daily Stand-ups</a></li>
<li><a href="#_backlog_refinement">Backlog refinement</a></li>
<li><a href="#_1_3_establish_product_backlog">1.3 Establish Product Backlog</a></li>
<li><a href="#_2_my_thai_star_agile_diary">2.	My Thai Star – Agile Diary</a></li>
<li><a href="#_24_03_2017_sprint_1_planning">24.03.2017 Sprint 1 Planning</a></li>
<li><a href="#_27_04_2017_sprint_1_review">27.04.2017 Sprint 1 Review</a></li>
<li><a href="#_03_05_2017_sprint_2_planning">03.05.2017 Sprint 2 Planning</a></li>
<li><a href="#_01_06_2017_sprint_2_review">01.06.2017 Sprint 2 Review</a></li>
<li><a href="#_user_stories">User Stories</a></li>
<li><a href="#_epic_invite_friends">Epic: Invite friends</a></li>
<li><a href="#_us_create_invite_for_friends">US: create invite for friends</a></li>
<li><a href="#_acceptance_criteria">== Acceptance criteria</a></li>
<li><a href="#_us_create_reservation">US: create reservation</a></li>
<li><a href="#_acceptance_criteria_2">== Acceptance criteria</a></li>
<li><a href="#_wireframes">== Wireframes</a></li>
<li><a href="#_us_handle_invite">US: handle invite</a></li>
<li><a href="#_ac">== AC:</a></li>
<li><a href="#_us_revoke_accepted_invite">US: revoke accepted invite</a></li>
<li><a href="#_ac_2">==  AC:</a></li>
<li><a href="#_us_calculate_best_table">US: calculate best table</a></li>
<li><a href="#_details">== Details</a></li>
<li><a href="#_us_find_table_by_reservation_info">US: find table by reservation info</a></li>
<li><a href="#_ac_3">== AC:</a></li>
<li><a href="#_us_cancel_invite">US: cancel invite</a></li>
<li><a href="#_ac_4">== AC:</a></li>
<li><a href="#_epic_digital_menu">Epic: Digital Menu</a></li>
<li><a href="#_us_filter_menu">US: filter menu</a></li>
<li><a href="#_ac_5">== AC:</a></li>
<li><a href="#_us_define_order">US: Define order</a></li>
<li><a href="#_ac_6">== AC:</a></li>
<li><a href="#_us_order_the_order">US: Order the order</a></li>
<li><a href="#_us_cancel_order">US: Cancel order</a></li>
<li><a href="#_us_read_twitter_rating_for_dishes">US: Read twitter rating for dishes</a></li>
<li><a href="#_epic_user_profile">Epic: User Profile</a></li>
<li><a href="#_us_user_profile">US: User Profile</a></li>
<li><a href="#_epic_rate_by_twitter">Epic: Rate by twitter</a></li>
<li><a href="#_us_receive_mail_to_rate_your_dish">US: Receive mail to rate your dish</a></li>
<li><a href="#_us_rate_your_dish">US: Rate your dish</a></li>
<li><a href="#_epic_waiter_cockpit">Epic: Waiter Cockpit</a></li>
<li><a href="#_us_see_all_ordersreservations">US: See all orders/reservations</a></li>
</ul>
</li>
<li><a href="#_technical_design">Technical design</a></li>
<li><a href="#_data_model">Data Model</a>
<ul class="sectlevel4">
<li><a href="#_data_model_2">Data Model</a></li>
<li><a href="#_nosql_data_model">NoSQL Data Model</a></li>
</ul>
</li>
<li><a href="#_server_side">Server Side</a>
<ul class="sectlevel4">
<li><a href="#_java_design">Java design</a></li>
<li><a href="#_introduction">Introduction</a></li>
<li><a href="#_basic_architecture_details">Basic architecture details</a></li>
<li><a href="#_project_modules">Project modules</a></li>
<li><a href="#_components">Components</a></li>
<li><a href="#_layers">Layers</a></li>
<li><a href="#_component_structure">Component structure</a></li>
<li><a href="#_dependency_injection">Dependency injection</a></li>
<li><a href="#_layers_communication">Layers communication</a></li>
<li><a href="#_service_layer">Service layer</a></li>
<li><a href="#_service_api">Service API</a></li>
<li><a href="#_service_impl">Service <code>impl</code></a></li>
<li><a href="#">==</a></li>
<li><a href="#_logic_layer">Logic layer</a></li>
<li><a href="#_data_access_layer">Data Access layer</a></li>
<li><a href="#_security_with_json_web_token">Security with Json Web Token</a></li>
<li><a href="#_jwt_basics">JWT basics</a></li>
<li><a href="#_jwt_implementation_details">JWT implementation details</a></li>
<li><a href="#_authentication">==  Authentication</a></li>
<li><a href="#_token_set_up">==  Token set up</a></li>
<li><a href="#_current_user_request">==  Current User request</a></li>
<li><a href="#_authorization">==  Authorization</a></li>
<li><a href="#_net_design">.NET design</a></li>
<li><a href="#_nodejs_design_deprecated">NodeJS design (deprecated)</a></li>
<li><a href="#_introduction_2">Introduction</a></li>
<li><a href="#_basic_architecture_details_2">Basic architecture details</a></li>
<li><a href="#_layers_2">Layers</a></li>
<li><a href="#_service_layer_2">Service layer</a></li>
<li><a href="#_logic_layer_and_data_access_layer">Logic layer and Data access layer</a></li>
<li><a href="#_security_with_json_web_token_2">Security with Json Web Token</a></li>
<li><a href="#_jwt_basics_2">JWT basics</a></li>
<li><a href="#_jwt_implementation_details_2">JWT implementation details</a></li>
<li><a href="#_authentication_2">==  Authentication</a></li>
<li><a href="#_token_set_up_2">==  Token set up</a></li>
<li><a href="#_current_user_request_2">==  Current User request</a></li>
<li><a href="#_authorization_2">==  Authorization</a></li>
<li><a href="#_serverless_design_deprecated">Serverless design (deprecated)</a></li>
<li><a href="#_introduction_3">Introduction</a></li>
<li><a href="#_basic_architecture_details_3">Basic architecture details</a></li>
<li><a href="#_layers_3">Layers</a></li>
<li><a href="#_service_layer_3">Service layer</a></li>
<li><a href="#_2">==</a></li>
<li><a href="#_logic_layer_and_data_access_layer_2">Logic layer and Data access layer</a></li>
<li><a href="#_security_with_json_web_token_3">Security with Json Web Token</a></li>
<li><a href="#_jwt_basics_3">JWT basics</a></li>
<li><a href="#_jwt_implementation_details_3">JWT implementation details</a></li>
<li><a href="#_authentication_3">==  Authentication</a></li>
<li><a href="#_token_set_up_3">==  Token set up</a></li>
<li><a href="#_current_user_request_3">==  Current User request</a></li>
<li><a href="#_authorization_3">==  Authorization</a></li>
<li><a href="#_graphql_design">GraphQL design</a></li>
</ul>
</li>
<li><a href="#_client_side">Client Side</a>
<ul class="sectlevel4">
<li><a href="#_angular_design">Angular design</a></li>
<li><a href="#_introduction_4">Introduction</a></li>
<li><a href="#_basic_project_structure">Basic project structure</a></li>
<li><a href="#_main_views_and_components">Main Views and components</a></li>
<li><a href="#_public_area">Public area</a></li>
<li><a href="#_app_component">==  App Component</a></li>
<li><a href="#_order_sidenav">== Order sidenav</a></li>
<li><a href="#_navigation_sidenav_only_for_mobile">== Navigation sidenav (only for mobile)</a></li>
<li><a href="#_header">== Header</a></li>
<li><a href="#_footer_only_for_desktop">== Footer (only for desktop)</a></li>
<li><a href="#_home_component">==  Home-Component</a></li>
<li><a href="#_menu_component">==  Menu-Component</a></li>
<li><a href="#_menu_card">== Menu-card</a></li>
<li><a href="#_book_table_component">==  Book Table Component</a></li>
<li><a href="#_book_table_dialog">== Book-table-dialog</a></li>
<li><a href="#_invitation_dialog">== Invitation-dialog</a></li>
<li><a href="#_user_area">==  User Area</a></li>
<li><a href="#_login_dialog">== Login-dialog</a></li>
<li><a href="#_password_dialog">== Password-dialog</a></li>
<li><a href="#_twitter_dialog">== Twitter-dialog</a></li>
<li><a href="#_waiter_cockpit_area">Waiter cockpit area</a></li>
<li><a href="#_order_cockpit_component">==  Order Cockpit Component</a></li>
<li><a href="#_order_dialog">== Order-dialog</a></li>
<li><a href="#_reservation_cockpit_component">==  Reservation Cockpit Component</a></li>
<li><a href="#_reservation_dialog">== Reservation-dialog</a></li>
<li><a href="#_email_management">Email Management</a></li>
<li><a href="#_accept_invite">==  Accept Invite</a></li>
<li><a href="#_reject_invite">==  Reject Invite</a></li>
<li><a href="#_cancel_reservation">==  Cancel Reservation</a></li>
<li><a href="#_cancel_orders">==  Cancel Orders</a></li>
<li><a href="#_services_and_directives">Services and directives</a></li>
<li><a href="#_price_calculator_service">Price-calculator-service</a></li>
<li><a href="#_authentication_4">Authentication</a></li>
<li><a href="#_snack_service">Snack Service</a></li>
<li><a href="#_window_service">Window Service</a></li>
<li><a href="#_equal_validator_directive">Equal-validator-directive</a></li>
<li><a href="#_mock_back_end">Mock Back-end</a></li>
<li><a href="#_booking">Booking</a></li>
<li><a href="#_orders">Orders</a></li>
<li><a href="#_dishes">Dishes</a></li>
<li><a href="#_login">Login</a></li>
<li><a href="#_security">Security</a></li>
<li><a href="#_auth_guard">Auth-guard</a></li>
<li><a href="#_jwt">JWT</a></li>
<li><a href="#_httpclient">==  HttpClient</a></li>
<li><a href="#_xamarin_design">Xamarin design</a></li>
</ul>
</li>
<li><a href="#_security_2">Security</a>
<ul class="sectlevel3">
<li><a href="#_two_factor_authentication">Two-Factor Authentication</a></li>
<li><a href="#_back_end_mechanism">Back-end mechanism</a></li>
<li><a href="#_activating_two_factor_authentication">Activating Two-Factor Authentication</a></li>
<li><a href="#_frontend">Frontend</a></li>
</ul>
</li>
<li><a href="#_testing">Testing</a></li>
<li><a href="#_server_side_2">Server Side</a>
<ul class="sectlevel4">
<li><a href="#_java_testing">Java testing</a></li>
<li><a href="#_component_testing">Component testing</a></li>
<li><a href="#_running_the_tests">Running the tests</a></li>
<li><a href="#_from_eclipse">From Eclipse</a></li>
<li><a href="#_from_command_line_using_maven">From command line using Maven</a></li>
<li><a href="#_net_testing">.NET testing</a></li>
<li><a href="#_nodejs_testing">NodeJS testing</a></li>
<li><a href="#_graphql_testing">GraphQL testing</a></li>
</ul>
</li>
<li><a href="#_client_side_2">Client Side</a>
<ul class="sectlevel4">
<li><a href="#_angular_testing">Angular testing</a></li>
<li><a href="#_3">==</a></li>
<li><a href="#_testing_components">Testing Components</a></li>
<li><a href="#_dialog_components">Dialog components</a></li>
<li><a href="#_testing_services">Testing Services</a></li>
<li><a href="#_testing_in_a_ci_environment">Testing in a CI environment</a></li>
<li><a href="#_xamarin_testing">Xamarin testing</a></li>
</ul>
</li>
<li><a href="#_end_to_end">End to end</a>
<ul class="sectlevel4">
<li><a href="#_mrchecker_e2e_testing">MrChecker E2E Testing</a></li>
<li><a href="#_introduction_5">Introduction</a></li>
<li><a href="#_how_to_use_it">How to use it</a></li>
<li><a href="#_end_to_end_tests_in_my_thai_star">End to end tests in My Thai Star</a></li>
</ul>
</li>
<li><a href="#_ui_design">UI design</a>
<ul class="sectlevel3">
<li><a href="#_style_guide">Style guide</a></li>
<li><a href="#_low_and_high_fidelity_wireframes">Low and high fidelity wireframes</a></li>
</ul>
</li>
<li><a href="#_cicd">CI/CD</a>
<ul class="sectlevel3">
<li><a href="#_my_thai_star_in_production_line">My Thai Star in Production Line</a></li>
<li><a href="#_what_is_pl">What is PL?</a></li>
<li><a href="#_introduction_6">Introduction</a></li>
<li><a href="#_where_can_i_find_all_my_thai_star_pipelines">Where can I find all My Thai Star Pipelines?</a></li>
<li><a href="#_ci_in_my_thai_star_stack">CI in My Thai Star stack</a></li>
<li><a href="#_how_to_configure_everything_out_of_the_box">How to configure everything out of the box</a></li>
<li><a href="#_deployment">Deployment</a></li>
<li><a href="#_where_docker_containers_will_be_running">Where Docker containers will be running?</a></li>
<li><a href="#_container_schema">Container Schema</a></li>
<li><a href="#_run_my_thai_star">Run My Thai Star</a></li>
<li><a href="#_mythaistar_on_native_kubernetes_as_a_service_nkaas"><code>MyThaiStar</code> on Native Kubernetes as a Service (nKaaS)</a></li>
<li><a href="#_setting_up_the_environment">Setting up the environment</a></li>
<li><a href="#_following_the_nkaas_guide">Following the nKaaS guide</a></li>
<li><a href="#_requesting_a_namespace">Requesting a namespace</a></li>
<li><a href="#_setting_up_harbor">Setting up Harbor</a></li>
<li><a href="#_setting_up_jenkins">Setting up Jenkins</a></li>
<li><a href="#_deploying_mts">Deploying MTS</a></li>
</ul>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_reverse_proxy_strategy_using_traefik"><a class="anchor" href="#_reverse_proxy_strategy_using_traefik"></a>Reverse proxy strategy using Traefik</h5>
<div class="paragraph">
<p>This implementation is the same as described at <a href="deployment.adoc">My Thai Star deployment wiki page</a>. The only thing that changes is that Traefik is used instead of NGINX.</p>
</div>
<div class="paragraph">
<p>Using Traefik as reverse proxy, we can define the routes using labels in the docker containers instead of using a <code>nginx.conf</code> file. With this, it is not necessary to modify the reverse proxy container for each application. In addition, as Traefik is listening to the docker daemon, it can detect new containers and create routes for them without rebooting.</p>
</div>
<div class="paragraph">
<p>Example of labels:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-yaml hljs" data-lang="yaml">labels:
    - "traefik.http.routers.angular.rule=PathPrefix(`/`)"
    - "traefik.http.services.angular.loadBalancer.healthcheck.path=/health"
    - "traefik.http.services.angular.loadBalancer.healthcheck.interval=10s"
    - "traefik.http.services.angular.loadBalancer.healthcheck.scheme=http"</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_how_to_use_it_2"><a class="anchor" href="#_how_to_use_it_2"></a>How to use it</h5>
<div class="paragraph">
<p>If you want to build the images from code, change to My Thai Star root folder and execute:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">$ docker-compose -f docker-compose.traefik.yml up -d --build</code></pre>
</div>
</div>
<div class="paragraph">
<p>If you want to build the images from artifacts, change to Traefik folder <code>(reverse-proxy/traefik)</code> and execute:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">$ docker-compose up -d --build</code></pre>
</div>
</div>
<div class="paragraph">
<p>After a seconds, when the healthcheck detects that containers are running, your application will be available at <a href="http://localhost:8090" class="bare">http://localhost:8090</a>. Also, the Traefik dashboard is available at <a href="http://localhost:8080" class="bare">http://localhost:8080</a>.</p>
</div>
<div class="paragraph">
<p>If you want to check the behavior of the application when you scale up the back-end, you can execute:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">$ docker-compose scale java=5</code></pre>
</div>
</div>
<div class="paragraph">
<p>With this, the access to the java back-end will be using the load balancing method: Weighted Round Robin.</p>
</div>
<div id="toc" class="toc">
<div id="toctitle" class="title">Table of Contents</div>
<ul class="sectlevel1">
<li><a href="#_mythaistar">MyThaiStar</a>
<ul class="sectlevel2">
<li><a href="#_1_my_thai_star_agile_framework">1.	My Thai Star – Agile Framework</a></li>
<li><a href="#_1_1_team_setup">1.1 Team Setup</a></li>
<li><a href="#_1_2_scrum_events">1.2 Scrum events</a></li>
<li><a href="#_sprint_planning">Sprint Planning</a></li>
<li><a href="#_sprint_review">Sprint Review</a></li>
<li><a href="#_sprint_retrospective">Sprint Retrospective</a></li>
<li><a href="#_daily_stand_ups">Daily Stand-ups</a></li>
<li><a href="#_backlog_refinement">Backlog refinement</a></li>
<li><a href="#_1_3_establish_product_backlog">1.3 Establish Product Backlog</a></li>
<li><a href="#_2_my_thai_star_agile_diary">2.	My Thai Star – Agile Diary</a></li>
<li><a href="#_24_03_2017_sprint_1_planning">24.03.2017 Sprint 1 Planning</a></li>
<li><a href="#_27_04_2017_sprint_1_review">27.04.2017 Sprint 1 Review</a></li>
<li><a href="#_03_05_2017_sprint_2_planning">03.05.2017 Sprint 2 Planning</a></li>
<li><a href="#_01_06_2017_sprint_2_review">01.06.2017 Sprint 2 Review</a></li>
<li><a href="#_user_stories">User Stories</a></li>
<li><a href="#_epic_invite_friends">Epic: Invite friends</a></li>
<li><a href="#_us_create_invite_for_friends">US: create invite for friends</a></li>
<li><a href="#_acceptance_criteria">== Acceptance criteria</a></li>
<li><a href="#_us_create_reservation">US: create reservation</a></li>
<li><a href="#_acceptance_criteria_2">== Acceptance criteria</a></li>
<li><a href="#_wireframes">== Wireframes</a></li>
<li><a href="#_us_handle_invite">US: handle invite</a></li>
<li><a href="#_ac">== AC:</a></li>
<li><a href="#_us_revoke_accepted_invite">US: revoke accepted invite</a></li>
<li><a href="#_ac_2">==  AC:</a></li>
<li><a href="#_us_calculate_best_table">US: calculate best table</a></li>
<li><a href="#_details">== Details</a></li>
<li><a href="#_us_find_table_by_reservation_info">US: find table by reservation info</a></li>
<li><a href="#_ac_3">== AC:</a></li>
<li><a href="#_us_cancel_invite">US: cancel invite</a></li>
<li><a href="#_ac_4">== AC:</a></li>
<li><a href="#_epic_digital_menu">Epic: Digital Menu</a></li>
<li><a href="#_us_filter_menu">US: filter menu</a></li>
<li><a href="#_ac_5">== AC:</a></li>
<li><a href="#_us_define_order">US: Define order</a></li>
<li><a href="#_ac_6">== AC:</a></li>
<li><a href="#_us_order_the_order">US: Order the order</a></li>
<li><a href="#_us_cancel_order">US: Cancel order</a></li>
<li><a href="#_us_read_twitter_rating_for_dishes">US: Read twitter rating for dishes</a></li>
<li><a href="#_epic_user_profile">Epic: User Profile</a></li>
<li><a href="#_us_user_profile">US: User Profile</a></li>
<li><a href="#_epic_rate_by_twitter">Epic: Rate by twitter</a></li>
<li><a href="#_us_receive_mail_to_rate_your_dish">US: Receive mail to rate your dish</a></li>
<li><a href="#_us_rate_your_dish">US: Rate your dish</a></li>
<li><a href="#_epic_waiter_cockpit">Epic: Waiter Cockpit</a></li>
<li><a href="#_us_see_all_ordersreservations">US: See all orders/reservations</a></li>
</ul>
</li>
<li><a href="#_technical_design">Technical design</a></li>
<li><a href="#_data_model">Data Model</a>
<ul class="sectlevel4">
<li><a href="#_data_model_2">Data Model</a></li>
<li><a href="#_nosql_data_model">NoSQL Data Model</a></li>
</ul>
</li>
<li><a href="#_server_side">Server Side</a>
<ul class="sectlevel4">
<li><a href="#_java_design">Java design</a></li>
<li><a href="#_introduction">Introduction</a></li>
<li><a href="#_basic_architecture_details">Basic architecture details</a></li>
<li><a href="#_project_modules">Project modules</a></li>
<li><a href="#_components">Components</a></li>
<li><a href="#_layers">Layers</a></li>
<li><a href="#_component_structure">Component structure</a></li>
<li><a href="#_dependency_injection">Dependency injection</a></li>
<li><a href="#_layers_communication">Layers communication</a></li>
<li><a href="#_service_layer">Service layer</a></li>
<li><a href="#_service_api">Service API</a></li>
<li><a href="#_service_impl">Service <code>impl</code></a></li>
<li><a href="#">==</a></li>
<li><a href="#_logic_layer">Logic layer</a></li>
<li><a href="#_data_access_layer">Data Access layer</a></li>
<li><a href="#_security_with_json_web_token">Security with Json Web Token</a></li>
<li><a href="#_jwt_basics">JWT basics</a></li>
<li><a href="#_jwt_implementation_details">JWT implementation details</a></li>
<li><a href="#_authentication">==  Authentication</a></li>
<li><a href="#_token_set_up">==  Token set up</a></li>
<li><a href="#_current_user_request">==  Current User request</a></li>
<li><a href="#_authorization">==  Authorization</a></li>
<li><a href="#_net_design">.NET design</a></li>
<li><a href="#_nodejs_design_deprecated">NodeJS design (deprecated)</a></li>
<li><a href="#_introduction_2">Introduction</a></li>
<li><a href="#_basic_architecture_details_2">Basic architecture details</a></li>
<li><a href="#_layers_2">Layers</a></li>
<li><a href="#_service_layer_2">Service layer</a></li>
<li><a href="#_logic_layer_and_data_access_layer">Logic layer and Data access layer</a></li>
<li><a href="#_security_with_json_web_token_2">Security with Json Web Token</a></li>
<li><a href="#_jwt_basics_2">JWT basics</a></li>
<li><a href="#_jwt_implementation_details_2">JWT implementation details</a></li>
<li><a href="#_authentication_2">==  Authentication</a></li>
<li><a href="#_token_set_up_2">==  Token set up</a></li>
<li><a href="#_current_user_request_2">==  Current User request</a></li>
<li><a href="#_authorization_2">==  Authorization</a></li>
<li><a href="#_serverless_design_deprecated">Serverless design (deprecated)</a></li>
<li><a href="#_introduction_3">Introduction</a></li>
<li><a href="#_basic_architecture_details_3">Basic architecture details</a></li>
<li><a href="#_layers_3">Layers</a></li>
<li><a href="#_service_layer_3">Service layer</a></li>
<li><a href="#_2">==</a></li>
<li><a href="#_logic_layer_and_data_access_layer_2">Logic layer and Data access layer</a></li>
<li><a href="#_security_with_json_web_token_3">Security with Json Web Token</a></li>
<li><a href="#_jwt_basics_3">JWT basics</a></li>
<li><a href="#_jwt_implementation_details_3">JWT implementation details</a></li>
<li><a href="#_authentication_3">==  Authentication</a></li>
<li><a href="#_token_set_up_3">==  Token set up</a></li>
<li><a href="#_current_user_request_3">==  Current User request</a></li>
<li><a href="#_authorization_3">==  Authorization</a></li>
<li><a href="#_graphql_design">GraphQL design</a></li>
</ul>
</li>
<li><a href="#_client_side">Client Side</a>
<ul class="sectlevel4">
<li><a href="#_angular_design">Angular design</a></li>
<li><a href="#_introduction_4">Introduction</a></li>
<li><a href="#_basic_project_structure">Basic project structure</a></li>
<li><a href="#_main_views_and_components">Main Views and components</a></li>
<li><a href="#_public_area">Public area</a></li>
<li><a href="#_app_component">==  App Component</a></li>
<li><a href="#_order_sidenav">== Order sidenav</a></li>
<li><a href="#_navigation_sidenav_only_for_mobile">== Navigation sidenav (only for mobile)</a></li>
<li><a href="#_header">== Header</a></li>
<li><a href="#_footer_only_for_desktop">== Footer (only for desktop)</a></li>
<li><a href="#_home_component">==  Home-Component</a></li>
<li><a href="#_menu_component">==  Menu-Component</a></li>
<li><a href="#_menu_card">== Menu-card</a></li>
<li><a href="#_book_table_component">==  Book Table Component</a></li>
<li><a href="#_book_table_dialog">== Book-table-dialog</a></li>
<li><a href="#_invitation_dialog">== Invitation-dialog</a></li>
<li><a href="#_user_area">==  User Area</a></li>
<li><a href="#_login_dialog">== Login-dialog</a></li>
<li><a href="#_password_dialog">== Password-dialog</a></li>
<li><a href="#_twitter_dialog">== Twitter-dialog</a></li>
<li><a href="#_waiter_cockpit_area">Waiter cockpit area</a></li>
<li><a href="#_order_cockpit_component">==  Order Cockpit Component</a></li>
<li><a href="#_order_dialog">== Order-dialog</a></li>
<li><a href="#_reservation_cockpit_component">==  Reservation Cockpit Component</a></li>
<li><a href="#_reservation_dialog">== Reservation-dialog</a></li>
<li><a href="#_email_management">Email Management</a></li>
<li><a href="#_accept_invite">==  Accept Invite</a></li>
<li><a href="#_reject_invite">==  Reject Invite</a></li>
<li><a href="#_cancel_reservation">==  Cancel Reservation</a></li>
<li><a href="#_cancel_orders">==  Cancel Orders</a></li>
<li><a href="#_services_and_directives">Services and directives</a></li>
<li><a href="#_price_calculator_service">Price-calculator-service</a></li>
<li><a href="#_authentication_4">Authentication</a></li>
<li><a href="#_snack_service">Snack Service</a></li>
<li><a href="#_window_service">Window Service</a></li>
<li><a href="#_equal_validator_directive">Equal-validator-directive</a></li>
<li><a href="#_mock_back_end">Mock Back-end</a></li>
<li><a href="#_booking">Booking</a></li>
<li><a href="#_orders">Orders</a></li>
<li><a href="#_dishes">Dishes</a></li>
<li><a href="#_login">Login</a></li>
<li><a href="#_security">Security</a></li>
<li><a href="#_auth_guard">Auth-guard</a></li>
<li><a href="#_jwt">JWT</a></li>
<li><a href="#_httpclient">==  HttpClient</a></li>
<li><a href="#_xamarin_design">Xamarin design</a></li>
</ul>
</li>
<li><a href="#_security_2">Security</a>
<ul class="sectlevel3">
<li><a href="#_two_factor_authentication">Two-Factor Authentication</a></li>
<li><a href="#_back_end_mechanism">Back-end mechanism</a></li>
<li><a href="#_activating_two_factor_authentication">Activating Two-Factor Authentication</a></li>
<li><a href="#_frontend">Frontend</a></li>
</ul>
</li>
<li><a href="#_testing">Testing</a></li>
<li><a href="#_server_side_2">Server Side</a>
<ul class="sectlevel4">
<li><a href="#_java_testing">Java testing</a></li>
<li><a href="#_component_testing">Component testing</a></li>
<li><a href="#_running_the_tests">Running the tests</a></li>
<li><a href="#_from_eclipse">From Eclipse</a></li>
<li><a href="#_from_command_line_using_maven">From command line using Maven</a></li>
<li><a href="#_net_testing">.NET testing</a></li>
<li><a href="#_nodejs_testing">NodeJS testing</a></li>
<li><a href="#_graphql_testing">GraphQL testing</a></li>
</ul>
</li>
<li><a href="#_client_side_2">Client Side</a>
<ul class="sectlevel4">
<li><a href="#_angular_testing">Angular testing</a></li>
<li><a href="#_3">==</a></li>
<li><a href="#_testing_components">Testing Components</a></li>
<li><a href="#_dialog_components">Dialog components</a></li>
<li><a href="#_testing_services">Testing Services</a></li>
<li><a href="#_testing_in_a_ci_environment">Testing in a CI environment</a></li>
<li><a href="#_xamarin_testing">Xamarin testing</a></li>
</ul>
</li>
<li><a href="#_end_to_end">End to end</a>
<ul class="sectlevel4">
<li><a href="#_mrchecker_e2e_testing">MrChecker E2E Testing</a></li>
<li><a href="#_introduction_5">Introduction</a></li>
<li><a href="#_how_to_use_it">How to use it</a></li>
<li><a href="#_end_to_end_tests_in_my_thai_star">End to end tests in My Thai Star</a></li>
</ul>
</li>
<li><a href="#_ui_design">UI design</a>
<ul class="sectlevel3">
<li><a href="#_style_guide">Style guide</a></li>
<li><a href="#_low_and_high_fidelity_wireframes">Low and high fidelity wireframes</a></li>
</ul>
</li>
<li><a href="#_cicd">CI/CD</a>
<ul class="sectlevel3">
<li><a href="#_my_thai_star_in_production_line">My Thai Star in Production Line</a></li>
<li><a href="#_what_is_pl">What is PL?</a></li>
<li><a href="#_introduction_6">Introduction</a></li>
<li><a href="#_where_can_i_find_all_my_thai_star_pipelines">Where can I find all My Thai Star Pipelines?</a></li>
<li><a href="#_ci_in_my_thai_star_stack">CI in My Thai Star stack</a></li>
<li><a href="#_how_to_configure_everything_out_of_the_box">How to configure everything out of the box</a></li>
<li><a href="#_deployment">Deployment</a></li>
<li><a href="#_where_docker_containers_will_be_running">Where Docker containers will be running?</a></li>
<li><a href="#_container_schema">Container Schema</a></li>
<li><a href="#_run_my_thai_star">Run My Thai Star</a></li>
<li><a href="#_mythaistar_on_native_kubernetes_as_a_service_nkaas"><code>MyThaiStar</code> on Native Kubernetes as a Service (nKaaS)</a></li>
<li><a href="#_setting_up_the_environment">Setting up the environment</a></li>
<li><a href="#_following_the_nkaas_guide">Following the nKaaS guide</a></li>
<li><a href="#_requesting_a_namespace">Requesting a namespace</a></li>
<li><a href="#_setting_up_harbor">Setting up Harbor</a></li>
<li><a href="#_setting_up_jenkins">Setting up Jenkins</a></li>
<li><a href="#_deploying_mts">Deploying MTS</a></li>
</ul>
</li>
</ul>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_mythaistar_on_native_kubernetes_as_a_service_nkaas"><a class="anchor" href="#_mythaistar_on_native_kubernetes_as_a_service_nkaas"></a><code>MyThaiStar</code> on Native Kubernetes as a Service (nKaaS)</h4>
<div class="paragraph">
<p>The <code>MyThaiStar</code> sample application can be deployed on a nKaaS environment. The required Kubernetes configuration files can be found in the <code>MyThaiStar</code> repository. There are no additional changes required in order to deploy the application.</p>
</div>
</div>
<div class="sect3">
<h4 id="_setting_up_the_environment"><a class="anchor" href="#_setting_up_the_environment"></a>Setting up the environment</h4>

</div>
<div class="sect3">
<h4 id="_following_the_nkaas_guide"><a class="anchor" href="#_following_the_nkaas_guide"></a>Following the nKaaS guide</h4>
<div class="paragraph">
<p>After requesting access to the nKaaS platform you&#8217;ll be greeted with a welcome mail which contains your personal credentials. Make sure to change the given password to a personal one within the 24 hour time period, otherwise the  credentials will expire.</p>
</div>
<div class="paragraph">
<p>After successfully following the <a href="https://portal.capgemini-ips.com/native-kubernetes/getting-started">guide</a> mentioned in the welcome mail you should be able to establish a connection to the nKaaS VPN and have access to all their services (Jenkins, BitBucket, etc.). You should also be able to communicate with Kubernetes using kubectl.</p>
</div>
<div class="paragraph">
<p><strong>Known issues:</strong> The nKaaS guide provides a download link for <strong>OpenVPN Connect</strong>. However, some users experienced connection issues with this client. If you&#8217;re having issues connecting to the VPN with OpenVPN Connect, you may try out the client by <a href="https://www.ovpn.com/en/guides/windows-openvpn-gui">OVPN</a>.</p>
</div>
</div>
<div class="sect3">
<h4 id="_requesting_a_namespace"><a class="anchor" href="#_requesting_a_namespace"></a>Requesting a namespace</h4>
<div class="paragraph">
<p>Initially, you won&#8217;t be able to edit anything on Kubernetes, as you don&#8217;t have any privileges on any namespace. To request your own namespace you should raise a ticket at the <a href="https://servicedesk.capgemini-ips.com/servicedesk/customer/portal/143">Customer Support Portal</a> containing your desired name for the namespace.</p>
</div>
<div class="paragraph">
<p>As soon as the namespace was created you can change your kubectl context:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code>kubectl config set-context --current -namespace=YOUR-NAMESPACE</code></pre>
</div>
</div>
<div class="paragraph">
<p>On your own namespace you should have permissions to create/delete deployments/services etc. and perform other actions.</p>
</div>
</div>
<div class="sect3">
<h4 id="_setting_up_harbor"><a class="anchor" href="#_setting_up_harbor"></a>Setting up Harbor</h4>
<div class="paragraph">
<p>Jenkins will build the <code>MyThaiStar</code> Docker images and push them to the nKaaS <a href="http://harbor.demo.xpaas.io">Harbor registry</a>. The Jenkinsfile defaults to a Harbor project called "my-thai-star". If there&#8217;s no such project on Harbor, simply create a new one.</p>
</div>
</div>
<div class="sect3">
<h4 id="_setting_up_jenkins"><a class="anchor" href="#_setting_up_jenkins"></a>Setting up Jenkins</h4>
<div class="paragraph">
<p>As <code>MyThaiStar</code> includes all required Jenkinsfiles for nKaaS, almost no configurations have to be performed by the user.
Create a new Pipeline on <a href="http://jenkins.demo.xpaas.io">Jenkins</a> and configure its definition to be a "Pipeline script from SCM". The SCM used is "Git" and the repository URL is the <code>MyThaiStar</code> repository <a href="https://github.com/devonfw/my-thai-star.git" class="bare">https://github.com/devonfw/my-thai-star.git</a> or your fork of it.</p>
</div>
<div class="paragraph">
<p>The Branch Specifier should point to <code>*/develop</code>, the Script Path is <code>jenkins/nKaaS/Jenkinsfile</code> as that&#8217;s where the Jenkinsfile is located at the <code>MyThaiStar</code> repository.
Checking the "Lightweight checkout" could speed up the Pipeline.</p>
</div>
<div class="paragraph">
<p><strong>Note:</strong> If you&#8217;re using the nKaaS <a href="http://bitbucket.demo.xpaas.io">Bitbucket</a> as repository for your <code>MyThaiStar</code> clone you have to perform some additional configurations. First you&#8217;ll have to create a new SSH keypair, for example with <code>ssh-keygen</code>. Add the public key to the Bitbucket authentication methods and the private key in Jenkins to a new pair of credentials. This step is required for Jenkins to be able to authenticate against Bitbucket.
Afterwards, instead of the official <code>MyThaiStar</code> repository, specify your Bitbucket repository:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code>ssh://git@bitbucket.demo.xpaas.io:7999/YOUR-PROJECT/YOUR-MTS-REPO.git</code></pre>
</div>
</div>
<div class="paragraph">
<p>Under "Credentials" choose the credentials that contain your Bitbucket private key you&#8217;ve created earlier.</p>
</div>
</div>
<div class="sect3">
<h4 id="_deploying_mts"><a class="anchor" href="#_deploying_mts"></a>Deploying MTS</h4>
<div class="paragraph">
<p>After setting up the Jenkins Pipeline, you can simply run it by clicking on the "Build" button. This will trigger the pipeline, Jenkins will:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Check out the MTS project</p>
</li>
<li>
<p>Build the docker images</p>
</li>
<li>
<p>Push the docker images to the Harbor registry</p>
</li>
<li>
<p>Deploy the MTS application onto Kubernetes</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>Finally, the applications should be available at <a href="http://my-thai-star.demo.xpaas.io" class="bare">http://my-thai-star.demo.xpaas.io</a>.</p>
</div>
<div class="paragraph">
<p>The first part, <code>my-thai-star</code>, IST specified in the MTS <a href="https://github.com/devonfw/my-thai-star/blob/develop/jenkins/nKaaS/ingress.yaml">ingress</a> configuration at <code>host</code>. The second part, <code>demo.xpaas.io</code>, is the host of the nKaaS you&#8217;re working on.</p>
</div>
</div>
</div>
</div>
</article>
  </div>
</main>
</div>
<footer class="footer">
  <p>This page was built using the Antora default UI.</p>
  <p>The source code for this UI is licensed under the terms of the MPL-2.0 license.</p>
</footer>
<script src="../../_/js/site.js"></script>
<script async src="../../_/js/vendor/highlight.js"></script>
  </body>
</html>
